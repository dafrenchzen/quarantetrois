function Pk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function l_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zm={exports:{}},pu={},ep={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Ak(){if(Wv)return Ue;Wv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,P={};function S(U,Q,ce){this.props=U,this.context=Q,this.refs=P,this.updater=ce||k}S.prototype.isReactComponent={},S.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function A(){}A.prototype=S.prototype;function R(U,Q,ce){this.props=U,this.context=Q,this.refs=P,this.updater=ce||k}var B=R.prototype=new A;B.constructor=R,I(B,S.prototype),B.isPureReactComponent=!0;var q=Array.isArray,oe=Object.prototype.hasOwnProperty,J={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N(U,Q,ce){var ke,Ee={},_e=null,je=null;if(Q!=null)for(ke in Q.ref!==void 0&&(je=Q.ref),Q.key!==void 0&&(_e=""+Q.key),Q)oe.call(Q,ke)&&!j.hasOwnProperty(ke)&&(Ee[ke]=Q[ke]);var Ne=arguments.length-2;if(Ne===1)Ee.children=ce;else if(1<Ne){for(var Oe=Array(Ne),At=0;At<Ne;At++)Oe[At]=arguments[At+2];Ee.children=Oe}if(U&&U.defaultProps)for(ke in Ne=U.defaultProps,Ne)Ee[ke]===void 0&&(Ee[ke]=Ne[ke]);return{$$typeof:t,type:U,key:_e,ref:je,props:Ee,_owner:J.current}}function O(U,Q){return{$$typeof:t,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function D(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return Q[ce]})}var F=/\/+/g;function M(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):Q.toString(36)}function pe(U,Q,ce,ke,Ee){var _e=typeof U;(_e==="undefined"||_e==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(_e){case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case t:case e:je=!0}}if(je)return je=U,Ee=Ee(je),U=ke===""?"."+M(je,0):ke,q(Ee)?(ce="",U!=null&&(ce=U.replace(F,"$&/")+"/"),pe(Ee,Q,ce,"",function(At){return At})):Ee!=null&&(L(Ee)&&(Ee=O(Ee,ce+(!Ee.key||je&&je.key===Ee.key?"":(""+Ee.key).replace(F,"$&/")+"/")+U)),Q.push(Ee)),1;if(je=0,ke=ke===""?".":ke+":",q(U))for(var Ne=0;Ne<U.length;Ne++){_e=U[Ne];var Oe=ke+M(_e,Ne);je+=pe(_e,Q,ce,Oe,Ee)}else if(Oe=b(U),typeof Oe=="function")for(U=Oe.call(U),Ne=0;!(_e=U.next()).done;)_e=_e.value,Oe=ke+M(_e,Ne++),je+=pe(_e,Q,ce,Oe,Ee);else if(_e==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return je}function De(U,Q,ce){if(U==null)return U;var ke=[],Ee=0;return pe(U,ke,"","",function(_e){return Q.call(ce,_e,Ee++)}),ke}function Fe(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var we={current:null},ie={transition:null},le={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:ie,ReactCurrentOwner:J};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:De,forEach:function(U,Q,ce){De(U,function(){Q.apply(this,arguments)},ce)},count:function(U){var Q=0;return De(U,function(){Q++}),Q},toArray:function(U){return De(U,function(Q){return Q})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ue.Component=S,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=R,Ue.StrictMode=r,Ue.Suspense=h,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ue.act=te,Ue.cloneElement=function(U,Q,ce){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ke=I({},U.props),Ee=U.key,_e=U.ref,je=U._owner;if(Q!=null){if(Q.ref!==void 0&&(_e=Q.ref,je=J.current),Q.key!==void 0&&(Ee=""+Q.key),U.type&&U.type.defaultProps)var Ne=U.type.defaultProps;for(Oe in Q)oe.call(Q,Oe)&&!j.hasOwnProperty(Oe)&&(ke[Oe]=Q[Oe]===void 0&&Ne!==void 0?Ne[Oe]:Q[Oe])}var Oe=arguments.length-2;if(Oe===1)ke.children=ce;else if(1<Oe){Ne=Array(Oe);for(var At=0;At<Oe;At++)Ne[At]=arguments[At+2];ke.children=Ne}return{$$typeof:t,type:U.type,key:Ee,ref:_e,props:ke,_owner:je}},Ue.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ue.createElement=N,Ue.createFactory=function(U){var Q=N.bind(null,U);return Q.type=U,Q},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(U){return{$$typeof:c,render:U}},Ue.isValidElement=L,Ue.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:Fe}},Ue.memo=function(U,Q){return{$$typeof:p,type:U,compare:Q===void 0?null:Q}},Ue.startTransition=function(U){var Q=ie.transition;ie.transition={};try{U()}finally{ie.transition=Q}},Ue.unstable_act=te,Ue.useCallback=function(U,Q){return we.current.useCallback(U,Q)},Ue.useContext=function(U){return we.current.useContext(U)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(U){return we.current.useDeferredValue(U)},Ue.useEffect=function(U,Q){return we.current.useEffect(U,Q)},Ue.useId=function(){return we.current.useId()},Ue.useImperativeHandle=function(U,Q,ce){return we.current.useImperativeHandle(U,Q,ce)},Ue.useInsertionEffect=function(U,Q){return we.current.useInsertionEffect(U,Q)},Ue.useLayoutEffect=function(U,Q){return we.current.useLayoutEffect(U,Q)},Ue.useMemo=function(U,Q){return we.current.useMemo(U,Q)},Ue.useReducer=function(U,Q,ce){return we.current.useReducer(U,Q,ce)},Ue.useRef=function(U){return we.current.useRef(U)},Ue.useState=function(U){return we.current.useState(U)},Ue.useSyncExternalStore=function(U,Q,ce){return we.current.useSyncExternalStore(U,Q,ce)},Ue.useTransition=function(){return we.current.useTransition()},Ue.version="18.3.1",Ue}var Hv;function Uh(){return Hv||(Hv=1,ep.exports=Ak()),ep.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Dk(){if(qv)return pu;qv=1;var t=Uh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var y,_={},b=null,k=null;p!==void 0&&(b=""+p),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(k=h.ref);for(y in h)r.call(h,y)&&!a.hasOwnProperty(y)&&(_[y]=h[y]);if(c&&c.defaultProps)for(y in h=c.defaultProps,h)_[y]===void 0&&(_[y]=h[y]);return{$$typeof:e,type:c,key:b,ref:k,props:_,_owner:i.current}}return pu.Fragment=n,pu.jsx=l,pu.jsxs=l,pu}var Gv;function Ok(){return Gv||(Gv=1,Zm.exports=Dk()),Zm.exports}var m=Ok(),x=Uh();const X=l_(x),Kv=Pk({__proto__:null,default:X},[x]);var $d={},tp={exports:{}},jn={},np={exports:{}},rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function Mk(){return Yv||(Yv=1,function(t){function e(ie,le){var te=ie.length;ie.push(le);e:for(;0<te;){var U=te-1>>>1,Q=ie[U];if(0<i(Q,le))ie[U]=le,ie[te]=Q,te=U;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var le=ie[0],te=ie.pop();if(te!==le){ie[0]=te;e:for(var U=0,Q=ie.length,ce=Q>>>1;U<ce;){var ke=2*(U+1)-1,Ee=ie[ke],_e=ke+1,je=ie[_e];if(0>i(Ee,te))_e<Q&&0>i(je,Ee)?(ie[U]=je,ie[_e]=te,U=_e):(ie[U]=Ee,ie[ke]=te,U=ke);else if(_e<Q&&0>i(je,te))ie[U]=je,ie[_e]=te,U=_e;else break e}}return le}function i(ie,le){var te=ie.sortIndex-le.sortIndex;return te!==0?te:ie.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],y=1,_=null,b=3,k=!1,I=!1,P=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=ie)r(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=n(p)}}function q(ie){if(P=!1,B(ie),!I)if(n(h)!==null)I=!0,Fe(oe);else{var le=n(p);le!==null&&we(q,le.startTime-ie)}}function oe(ie,le){I=!1,P&&(P=!1,A(N),N=-1),k=!0;var te=b;try{for(B(le),_=n(h);_!==null&&(!(_.expirationTime>le)||ie&&!D());){var U=_.callback;if(typeof U=="function"){_.callback=null,b=_.priorityLevel;var Q=U(_.expirationTime<=le);le=t.unstable_now(),typeof Q=="function"?_.callback=Q:_===n(h)&&r(h),B(le)}else r(h);_=n(h)}if(_!==null)var ce=!0;else{var ke=n(p);ke!==null&&we(q,ke.startTime-le),ce=!1}return ce}finally{_=null,b=te,k=!1}}var J=!1,j=null,N=-1,O=5,L=-1;function D(){return!(t.unstable_now()-L<O)}function F(){if(j!==null){var ie=t.unstable_now();L=ie;var le=!0;try{le=j(!0,ie)}finally{le?M():(J=!1,j=null)}}else J=!1}var M;if(typeof R=="function")M=function(){R(F)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,De=pe.port2;pe.port1.onmessage=F,M=function(){De.postMessage(null)}}else M=function(){S(F,0)};function Fe(ie){j=ie,J||(J=!0,M())}function we(ie,le){N=S(function(){ie(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){I||k||(I=!0,Fe(oe))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ie){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var te=b;b=le;try{return ie()}finally{b=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,le){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var te=b;b=ie;try{return le()}finally{b=te}},t.unstable_scheduleCallback=function(ie,le,te){var U=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?U+te:U):te=U,ie){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,ie={id:y++,callback:le,priorityLevel:ie,startTime:te,expirationTime:Q,sortIndex:-1},te>U?(ie.sortIndex=te,e(p,ie),n(h)===null&&ie===n(p)&&(P?(A(N),N=-1):P=!0,we(q,te-U))):(ie.sortIndex=Q,e(h,ie),I||k||(I=!0,Fe(oe))),ie},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ie){var le=b;return function(){var te=b;b=le;try{return ie.apply(this,arguments)}finally{b=te}}}}(rp)),rp}var Qv;function jk(){return Qv||(Qv=1,np.exports=Mk()),np.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function Lk(){if(Xv)return jn;Xv=1;var t=Uh(),e=jk();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function b(s){return h.call(_,s)?!0:h.call(y,s)?!1:p.test(s)?_[s]=!0:(y[s]=!0,!1)}function k(s,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,o,u,f){if(o===null||typeof o>"u"||k(s,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(s,o,u,f,g,w,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=T}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];S[o]=new P(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(A,R);S[o]=new P(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(A,R);S[o]=new P(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(A,R);S[o]=new P(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,o,u,f){var g=S.hasOwnProperty(o)?S[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I(o,u,g,f)&&(u=null),f||g===null?b(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?s.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?s.setAttributeNS(f,o,u):s.setAttribute(o,u))))}var q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),J=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),ie=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,U;function Q(s){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var ce=!1;function ke(s,o){if(!s||ce)return"";ce=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var f=K}Reflect.construct(s,[],o)}else{try{o.call()}catch(K){f=K}s.call(o.prototype)}else{try{throw Error()}catch(K){f=K}s()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),w=f.stack.split(`
`),T=g.length-1,V=w.length-1;1<=T&&0<=V&&g[T]!==w[V];)V--;for(;1<=T&&0<=V;T--,V--)if(g[T]!==w[V]){if(T!==1||V!==1)do if(T--,V--,0>V||g[T]!==w[V]){var $=`
`+g[T].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=T&&0<=V);break}}}finally{ce=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Q(s):""}function Ee(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=ke(s.type,!1),s;case 11:return s=ke(s.type.render,!1),s;case 1:return s=ke(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case J:return"Portal";case O:return"Profiler";case N:return"StrictMode";case M:return"Suspense";case pe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case De:return o=s.displayName||null,o!==null?o:_e(s.type)||"Memo";case Fe:o=s._payload,s=s._init;try{return _e(s(o))}catch{}}return null}function je(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(o);case 8:return o===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ne(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Oe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function At(s){var o=Oe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,w.call(this,T)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ur(s){s._valueTracker||(s._valueTracker=At(s))}function es(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=Oe(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function Br(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function fi(s,o){var u=o.checked;return te({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function ts(s,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ne(o.value!=null?o.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function oo(s,o){o=o.checked,o!=null&&B(s,"checked",o,!1)}function ns(s,o){oo(s,o);var u=Ne(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?rs(s,o.type,u):o.hasOwnProperty("defaultValue")&&rs(s,o.type,Ne(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ca(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function rs(s,o,u){(o!=="number"||Br(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var cr=Array.isArray;function dr(s,o,u,f){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Ne(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function ao(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function is(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(cr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Ne(u)}}function ss(s,o){var u=Ne(o.value),f=Ne(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function lo(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function It(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?It(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var hr,uo=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,u,f,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(hr=hr||document.createElement("div"),hr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=hr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function zr(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Me=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(s){Me.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),mi[o]=mi[s]})});function st(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||mi.hasOwnProperty(s)&&mi[s]?(""+o).trim():o+"px"}function Qe(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=st(u,o[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,g):s[u]=g}}var In=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xt(s,o){if(o){if(In[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Wr(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pt=null;function Jt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $e=null,Sn=null,Yn=null;function os(s){if(s=eu(s)){if(typeof $e!="function")throw Error(n(280));var o=s.stateNode;o&&(o=nd(o),$e(s.stateNode,s.type,o))}}function Cn(s){Sn?Yn?Yn.push(s):Yn=[s]:Sn=s}function pi(){if(Sn){var s=Sn,o=Yn;if(Yn=Sn=null,os(s),o)for(s=0;s<o.length;s++)os(o[s])}}function co(s,o){return s(o)}function Al(){}var gi=!1;function Dl(s,o,u){if(gi)return s(o,u);gi=!0;try{return co(s,o,u)}finally{gi=!1,(Sn!==null||Yn!==null)&&(Al(),pi())}}function Ct(s,o){var u=s.stateNode;if(u===null)return null;var f=nd(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var da=!1;if(c)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){da=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{da=!1}function ho(s,o,u,f,g,w,T,V,$){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(re){this.onError(re)}}var fo=!1,ha=null,mr=!1,Ol=null,Sf={onError:function(s){fo=!0,ha=s}};function fa(s,o,u,f,g,w,T,V,$){fo=!1,ha=null,ho.apply(Sf,arguments)}function Sc(s,o,u,f,g,w,T,V,$){if(fa.apply(this,arguments),fo){if(fo){var K=ha;fo=!1,ha=null}else throw Error(n(198));mr||(mr=!0,Ol=K)}}function pr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function mo(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function gr(s){if(pr(s)!==s)throw Error(n(188))}function Cc(s){var o=s.alternate;if(!o){if(o=pr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,f=o;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return gr(g),s;if(w===f)return gr(g),o;w=w.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=w;else{for(var T=!1,V=g.child;V;){if(V===u){T=!0,u=g,f=w;break}if(V===f){T=!0,f=g,u=w;break}V=V.sibling}if(!T){for(V=w.child;V;){if(V===u){T=!0,u=w,f=g;break}if(V===f){T=!0,f=w,u=g;break}V=V.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Ml(s){return s=Cc(s),s!==null?ma(s):null}function ma(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ma(s);if(o!==null)return o;s=s.sibling}return null}var pa=e.unstable_scheduleCallback,jl=e.unstable_cancelCallback,Rc=e.unstable_shouldYield,Cf=e.unstable_requestPaint,at=e.unstable_now,Nc=e.unstable_getCurrentPriorityLevel,po=e.unstable_ImmediatePriority,as=e.unstable_UserBlockingPriority,Qn=e.unstable_NormalPriority,Ll=e.unstable_LowPriority,Pc=e.unstable_IdlePriority,go=null,Fn=null;function Ac(s){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(go,s,void 0,(s.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Oc,Vl=Math.log,Dc=Math.LN2;function Oc(s){return s>>>=0,s===0?32:31-(Vl(s)/Dc|0)|0}var ga=64,ya=4194304;function ls(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function yo(s,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,w=s.pingedLanes,T=u&268435455;if(T!==0){var V=T&~g;V!==0?f=ls(V):(w&=T,w!==0&&(f=ls(w)))}else T=u&~g,T!==0?f=ls(T):w!==0&&(f=ls(w));if(f===0)return 0;if(o!==0&&o!==f&&!(o&g)&&(g=f&-f,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if(f&4&&(f|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)u=31-yn(o),g=1<<u,f|=s[u],o&=~g;return f}function Rf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var T=31-yn(w),V=1<<T,$=g[T];$===-1?(!(V&u)||V&f)&&(g[T]=Rf(V,o)):$<=o&&(s.expiredLanes|=V),w&=~V}}function Un(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function vo(){var s=ga;return ga<<=1,!(ga&4194240)&&(ga=64),s}function us(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function cs(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-yn(o),s[o]=u}function ot(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-yn(u),w=1<<g;o[g]=0,f[g]=-1,s[g]=-1,u&=~w}}function ds(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-yn(u),g=1<<f;g&o|s[f]&o&&(s[f]|=o),u&=~g}}var We=0;function hs(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Mc,va,jc,Lc,Vc,Fl=!1,Hr=[],Zt=null,yr=null,vr=null,fs=new Map,Xn=new Map,qr=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fc(s,o){switch(s){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":fs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(o.pointerId)}}function Rn(s,o,u,f,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},o!==null&&(o=eu(o),o!==null&&va(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Pf(s,o,u,f,g){switch(o){case"focusin":return Zt=Rn(Zt,s,o,u,f,g),!0;case"dragenter":return yr=Rn(yr,s,o,u,f,g),!0;case"mouseover":return vr=Rn(vr,s,o,u,f,g),!0;case"pointerover":var w=g.pointerId;return fs.set(w,Rn(fs.get(w)||null,s,o,u,f,g)),!0;case"gotpointercapture":return w=g.pointerId,Xn.set(w,Rn(Xn.get(w)||null,s,o,u,f,g)),!0}return!1}function Uc(s){var o=bo(s.target);if(o!==null){var u=pr(o);if(u!==null){if(o=u.tag,o===13){if(o=mo(u),o!==null){s.blockedOn=o,Vc(s.priority,function(){jc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=wa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);pt=f,u.target.dispatchEvent(f),pt=null}else return o=eu(u),o!==null&&va(o),s.blockedOn=u,!1;o.shift()}return!0}function wo(s,o,u){vi(s)&&u.delete(o)}function $c(){Fl=!1,Zt!==null&&vi(Zt)&&(Zt=null),yr!==null&&vi(yr)&&(yr=null),vr!==null&&vi(vr)&&(vr=null),fs.forEach(wo),Xn.forEach(wo)}function wr(s,o){s.blockedOn===o&&(s.blockedOn=null,Fl||(Fl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$c)))}function _r(s){function o(g){return wr(g,s)}if(0<Hr.length){wr(Hr[0],s);for(var u=1;u<Hr.length;u++){var f=Hr[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Zt!==null&&wr(Zt,s),yr!==null&&wr(yr,s),vr!==null&&wr(vr,s),fs.forEach(o),Xn.forEach(o),u=0;u<qr.length;u++)f=qr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<qr.length&&(u=qr[0],u.blockedOn===null);)Uc(u),u.blockedOn===null&&qr.shift()}var wi=q.ReactCurrentBatchConfig,ms=!0;function gt(s,o,u,f){var g=We,w=wi.transition;wi.transition=null;try{We=1,Ul(s,o,u,f)}finally{We=g,wi.transition=w}}function Af(s,o,u,f){var g=We,w=wi.transition;wi.transition=null;try{We=4,Ul(s,o,u,f)}finally{We=g,wi.transition=w}}function Ul(s,o,u,f){if(ms){var g=wa(s,o,u,f);if(g===null)zf(s,o,f,_o,u),Fc(s,f);else if(Pf(g,s,o,u,f))f.stopPropagation();else if(Fc(s,f),o&4&&-1<Nf.indexOf(s)){for(;g!==null;){var w=eu(g);if(w!==null&&Mc(w),w=wa(s,o,u,f),w===null&&zf(s,o,f,_o,u),w===g)break;g=w}g!==null&&f.stopPropagation()}else zf(s,o,f,null,u)}}var _o=null;function wa(s,o,u,f){if(_o=null,s=Jt(f),s=bo(s),s!==null)if(o=pr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=mo(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return _o=s,null}function $l(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nc()){case po:return 1;case as:return 4;case Qn:case Ll:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var $n=null,_a=null,Nn=null;function Bl(){if(Nn)return Nn;var s,o=_a,u=o.length,f,g="value"in $n?$n.value:$n.textContent,w=g.length;for(s=0;s<u&&o[s]===g[s];s++);var T=u-s;for(f=1;f<=T&&o[u-f]===g[w-f];f++);return Nn=g.slice(s,1<f?1-f:void 0)}function xa(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Gr(){return!0}function zl(){return!1}function en(s){function o(u,f,g,w,T){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(u=s[V],this[V]=u?u(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Gr:zl,this.isPropagationStopped=zl,this}return te(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),o}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=en(xr),Kr=te({},xr,{view:0,detail:0}),Df=en(Kr),ba,_i,ps,xo=te({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ps&&(ps&&s.type==="mousemove"?(ba=s.screenX-ps.screenX,_i=s.screenY-ps.screenY):_i=ba=0,ps=s),ba)},movementY:function(s){return"movementY"in s?s.movementY:_i}}),Ta=en(xo),Wl=te({},xo,{dataTransfer:0}),Bc=en(Wl),ka=te({},Kr,{relatedTarget:0}),Ia=en(ka),zc=te({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),xi=en(zc),Wc=te({},xr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hc=en(Wc),qc=te({},xr,{data:0}),Hl=en(qc),Sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Gc[s])?!!o[s]:!1}function Yr(){return Kc}var d=te({},Kr,{key:function(s){if(s.key){var o=Sa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(s){return s.type==="keypress"?xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=en(d),E=te({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=en(E),W=te({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Y=en(W),ue=te({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=en(ue),Lt=te({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=en(Lt),Ht=[9,13,27,32],Dt=c&&"CompositionEvent"in window,Jn=null;c&&"documentMode"in document&&(Jn=document.documentMode);var Bn=c&&"TextEvent"in window&&!Jn,Eo=c&&(!Dt||Jn&&8<Jn&&11>=Jn),Ca=" ",V0=!1;function F0(s,o){switch(s){case"keyup":return Ht.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ra=!1;function RT(s,o){switch(s){case"compositionend":return U0(o);case"keypress":return o.which!==32?null:(V0=!0,Ca);case"textInput":return s=o.data,s===Ca&&V0?null:s;default:return null}}function NT(s,o){if(Ra)return s==="compositionend"||!Dt&&F0(s,o)?(s=Bl(),Nn=_a=$n=null,Ra=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Eo&&o.locale!=="ko"?null:o.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!PT[s.type]:o==="textarea"}function B0(s,o,u,f){Cn(f),o=Zc(o,"onChange"),0<o.length&&(u=new Ea("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var ql=null,Gl=null;function AT(s){oy(s,0)}function Yc(s){var o=Oa(s);if(es(o))return s}function DT(s,o){if(s==="change")return o}var z0=!1;if(c){var Of;if(c){var Mf="oninput"in document;if(!Mf){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),Mf=typeof W0.oninput=="function"}Of=Mf}else Of=!1;z0=Of&&(!document.documentMode||9<document.documentMode)}function H0(){ql&&(ql.detachEvent("onpropertychange",q0),Gl=ql=null)}function q0(s){if(s.propertyName==="value"&&Yc(Gl)){var o=[];B0(o,Gl,s,Jt(s)),Dl(AT,o)}}function OT(s,o,u){s==="focusin"?(H0(),ql=o,Gl=u,ql.attachEvent("onpropertychange",q0)):s==="focusout"&&H0()}function MT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yc(Gl)}function jT(s,o){if(s==="click")return Yc(o)}function LT(s,o){if(s==="input"||s==="change")return Yc(o)}function VT(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Er=typeof Object.is=="function"?Object.is:VT;function Kl(s,o){if(Er(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(o,g)||!Er(s[g],o[g]))return!1}return!0}function G0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function K0(s,o){var u=G0(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=G0(u)}}function Y0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Y0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Q0(){for(var s=window,o=Br();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Br(s.document)}return o}function jf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function FT(s){var o=Q0(),u=s.focusedElem,f=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Y0(u.ownerDocument.documentElement,u)){if(f!==null&&jf(u)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!s.extend&&w>f&&(g=f,f=w,w=g),g=K0(u,w);var T=K0(u,f);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>f?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var UT=c&&"documentMode"in document&&11>=document.documentMode,Na=null,Lf=null,Yl=null,Vf=!1;function X0(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Vf||Na==null||Na!==Br(f)||(f=Na,"selectionStart"in f&&jf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Yl&&Kl(Yl,f)||(Yl=f,f=Zc(Lf,"onSelect"),0<f.length&&(o=new Ea("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=Na)))}function Qc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Pa={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},Ff={},J0={};c&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Xc(s){if(Ff[s])return Ff[s];if(!Pa[s])return s;var o=Pa[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in J0)return Ff[s]=o[u];return s}var Z0=Xc("animationend"),ey=Xc("animationiteration"),ty=Xc("animationstart"),ny=Xc("transitionend"),ry=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(s,o){ry.set(s,o),a(o,[s])}for(var Uf=0;Uf<iy.length;Uf++){var $f=iy[Uf],$T=$f.toLowerCase(),BT=$f[0].toUpperCase()+$f.slice(1);gs($T,"on"+BT)}gs(Z0,"onAnimationEnd"),gs(ey,"onAnimationIteration"),gs(ty,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(ny,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function sy(s,o,u){var f=s.type||"unknown-event";s.currentTarget=u,Sc(f,o,void 0,s),s.currentTarget=null}function oy(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var T=f.length-1;0<=T;T--){var V=f[T],$=V.instance,K=V.currentTarget;if(V=V.listener,$!==w&&g.isPropagationStopped())break e;sy(g,V,K),w=$}else for(T=0;T<f.length;T++){if(V=f[T],$=V.instance,K=V.currentTarget,V=V.listener,$!==w&&g.isPropagationStopped())break e;sy(g,V,K),w=$}}}if(mr)throw s=Ol,mr=!1,Ol=null,s}function ct(s,o){var u=o[Yf];u===void 0&&(u=o[Yf]=new Set);var f=s+"__bubble";u.has(f)||(ay(o,s,2,!1),u.add(f))}function Bf(s,o,u){var f=0;o&&(f|=4),ay(u,s,f,o)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Xl(s){if(!s[Jc]){s[Jc]=!0,r.forEach(function(u){u!=="selectionchange"&&(zT.has(u)||Bf(u,!1,s),Bf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Jc]||(o[Jc]=!0,Bf("selectionchange",!1,o))}}function ay(s,o,u,f){switch($l(o)){case 1:var g=gt;break;case 4:g=Af;break;default:g=Ul}u=g.bind(null,o,u,s),g=void 0,!da||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function zf(s,o,u,f,g){var w=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var V=f.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var $=T.tag;if(($===3||$===4)&&($=T.stateNode.containerInfo,$===g||$.nodeType===8&&$.parentNode===g))return;T=T.return}for(;V!==null;){if(T=bo(V),T===null)return;if($=T.tag,$===5||$===6){f=w=T;continue e}V=V.parentNode}}f=f.return}Dl(function(){var K=w,re=Jt(u),se=[];e:{var ne=ry.get(s);if(ne!==void 0){var de=Ea,ge=s;switch(s){case"keypress":if(xa(u)===0)break e;case"keydown":case"keyup":de=v;break;case"focusin":ge="focus",de=Ia;break;case"focusout":ge="blur",de=Ia;break;case"beforeblur":case"afterblur":de=Ia;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Y;break;case Z0:case ey:case ty:de=xi;break;case ny:de=tt;break;case"scroll":de=Df;break;case"wheel":de=qe;break;case"copy":case"cut":case"paste":de=Hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=C}var ye=(o&4)!==0,Rt=!ye&&s==="scroll",H=ye?ne!==null?ne+"Capture":null:ne;ye=[];for(var z=K,G;z!==null;){G=z;var ae=G.stateNode;if(G.tag===5&&ae!==null&&(G=ae,H!==null&&(ae=Ct(z,H),ae!=null&&ye.push(Jl(z,ae,G)))),Rt)break;z=z.return}0<ye.length&&(ne=new de(ne,ge,null,u,re),se.push({event:ne,listeners:ye}))}}if(!(o&7)){e:{if(ne=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ne&&u!==pt&&(ge=u.relatedTarget||u.fromElement)&&(bo(ge)||ge[Ei]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(ge=u.relatedTarget||u.toElement,de=K,ge=ge?bo(ge):null,ge!==null&&(Rt=pr(ge),ge!==Rt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=K),de!==ge)){if(ye=Ta,ae="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(ye=C,ae="onPointerLeave",H="onPointerEnter",z="pointer"),Rt=de==null?ne:Oa(de),G=ge==null?ne:Oa(ge),ne=new ye(ae,z+"leave",de,u,re),ne.target=Rt,ne.relatedTarget=G,ae=null,bo(re)===K&&(ye=new ye(H,z+"enter",ge,u,re),ye.target=G,ye.relatedTarget=Rt,ae=ye),Rt=ae,de&&ge)t:{for(ye=de,H=ge,z=0,G=ye;G;G=Aa(G))z++;for(G=0,ae=H;ae;ae=Aa(ae))G++;for(;0<z-G;)ye=Aa(ye),z--;for(;0<G-z;)H=Aa(H),G--;for(;z--;){if(ye===H||H!==null&&ye===H.alternate)break t;ye=Aa(ye),H=Aa(H)}ye=null}else ye=null;de!==null&&ly(se,ne,de,ye,!1),ge!==null&&Rt!==null&&ly(se,Rt,ge,ye,!0)}}e:{if(ne=K?Oa(K):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var ve=DT;else if($0(ne))if(z0)ve=LT;else{ve=MT;var be=OT}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ve=jT);if(ve&&(ve=ve(s,K))){B0(se,ve,u,re);break e}be&&be(s,ne,K),s==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&rs(ne,"number",ne.value)}switch(be=K?Oa(K):window,s){case"focusin":($0(be)||be.contentEditable==="true")&&(Na=be,Lf=K,Yl=null);break;case"focusout":Yl=Lf=Na=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,X0(se,u,re);break;case"selectionchange":if(UT)break;case"keydown":case"keyup":X0(se,u,re)}var Te;if(Dt)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ra?F0(s,u)&&(Ce="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Eo&&u.locale!=="ko"&&(Ra||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ra&&(Te=Bl()):($n=re,_a="value"in $n?$n.value:$n.textContent,Ra=!0)),be=Zc(K,Ce),0<be.length&&(Ce=new Hl(Ce,s,null,u,re),se.push({event:Ce,listeners:be}),Te?Ce.data=Te:(Te=U0(u),Te!==null&&(Ce.data=Te)))),(Te=Bn?RT(s,u):NT(s,u))&&(K=Zc(K,"onBeforeInput"),0<K.length&&(re=new Hl("onBeforeInput","beforeinput",null,u,re),se.push({event:re,listeners:K}),re.data=Te))}oy(se,o)})}function Jl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Zc(s,o){for(var u=o+"Capture",f=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Ct(s,u),w!=null&&f.unshift(Jl(s,w,g)),w=Ct(s,o),w!=null&&f.push(Jl(s,w,g))),s=s.return}return f}function Aa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ly(s,o,u,f,g){for(var w=o._reactName,T=[];u!==null&&u!==f;){var V=u,$=V.alternate,K=V.stateNode;if($!==null&&$===f)break;V.tag===5&&K!==null&&(V=K,g?($=Ct(u,w),$!=null&&T.unshift(Jl(u,$,V))):g||($=Ct(u,w),$!=null&&T.push(Jl(u,$,V)))),u=u.return}T.length!==0&&s.push({event:o,listeners:T})}var WT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function uy(s){return(typeof s=="string"?s:""+s).replace(WT,`
`).replace(HT,"")}function ed(s,o,u){if(o=uy(o),uy(s)!==o&&u)throw Error(n(425))}function td(){}var Wf=null,Hf=null;function qf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(s){return cy.resolve(null).then(s).catch(KT)}:Gf;function KT(s){setTimeout(function(){throw s})}function Kf(s,o){var u=o,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){s.removeChild(g),_r(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);_r(o)}function ys(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function dy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Da,Zl="__reactProps$"+Da,Ei="__reactContainer$"+Da,Yf="__reactEvents$"+Da,YT="__reactListeners$"+Da,QT="__reactHandles$"+Da;function bo(s){var o=s[Qr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Ei]||u[Qr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=dy(s);s!==null;){if(u=s[Qr])return u;s=dy(s)}return o}s=u,u=s.parentNode}return null}function eu(s){return s=s[Qr]||s[Ei],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Oa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function nd(s){return s[Zl]||null}var Qf=[],Ma=-1;function vs(s){return{current:s}}function dt(s){0>Ma||(s.current=Qf[Ma],Qf[Ma]=null,Ma--)}function lt(s,o){Ma++,Qf[Ma]=s.current,s.current=o}var ws={},ln=vs(ws),Pn=vs(!1),To=ws;function ja(s,o){var u=s.type.contextTypes;if(!u)return ws;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=o[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function An(s){return s=s.childContextTypes,s!=null}function rd(){dt(Pn),dt(ln)}function hy(s,o,u){if(ln.current!==ws)throw Error(n(168));lt(ln,o),lt(Pn,u)}function fy(s,o,u){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,je(s)||"Unknown",g));return te({},u,f)}function id(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ws,To=ln.current,lt(ln,s),lt(Pn,Pn.current),!0}function my(s,o,u){var f=s.stateNode;if(!f)throw Error(n(169));u?(s=fy(s,o,To),f.__reactInternalMemoizedMergedChildContext=s,dt(Pn),dt(ln),lt(ln,s)):dt(Pn),lt(Pn,u)}var bi=null,sd=!1,Xf=!1;function py(s){bi===null?bi=[s]:bi.push(s)}function XT(s){sd=!0,py(s)}function _s(){if(!Xf&&bi!==null){Xf=!0;var s=0,o=We;try{var u=bi;for(We=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}bi=null,sd=!1}catch(g){throw bi!==null&&(bi=bi.slice(s+1)),pa(po,_s),g}finally{We=o,Xf=!1}}return null}var La=[],Va=0,od=null,ad=0,Zn=[],er=0,ko=null,Ti=1,ki="";function Io(s,o){La[Va++]=ad,La[Va++]=od,od=s,ad=o}function gy(s,o,u){Zn[er++]=Ti,Zn[er++]=ki,Zn[er++]=ko,ko=s;var f=Ti;s=ki;var g=32-yn(f)-1;f&=~(1<<g),u+=1;var w=32-yn(o)+g;if(30<w){var T=g-g%5;w=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Ti=1<<32-yn(o)+g|u<<g|f,ki=w+s}else Ti=1<<w|u<<g|f,ki=s}function Jf(s){s.return!==null&&(Io(s,1),gy(s,1,0))}function Zf(s){for(;s===od;)od=La[--Va],La[Va]=null,ad=La[--Va],La[Va]=null;for(;s===ko;)ko=Zn[--er],Zn[er]=null,ki=Zn[--er],Zn[er]=null,Ti=Zn[--er],Zn[er]=null}var zn=null,Wn=null,yt=!1,br=null;function yy(s,o){var u=ir(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function vy(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,zn=s,Wn=ys(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,zn=s,Wn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ko!==null?{id:Ti,overflow:ki}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=ir(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,zn=s,Wn=null,!0):!1;default:return!1}}function em(s){return(s.mode&1)!==0&&(s.flags&128)===0}function tm(s){if(yt){var o=Wn;if(o){var u=o;if(!vy(s,o)){if(em(s))throw Error(n(418));o=ys(u.nextSibling);var f=zn;o&&vy(s,o)?yy(f,u):(s.flags=s.flags&-4097|2,yt=!1,zn=s)}}else{if(em(s))throw Error(n(418));s.flags=s.flags&-4097|2,yt=!1,zn=s}}}function wy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zn=s}function ld(s){if(s!==zn)return!1;if(!yt)return wy(s),yt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!qf(s.type,s.memoizedProps)),o&&(o=Wn)){if(em(s))throw _y(),Error(n(418));for(;o;)yy(s,o),o=ys(o.nextSibling)}if(wy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Wn=ys(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Wn=null}}else Wn=zn?ys(s.stateNode.nextSibling):null;return!0}function _y(){for(var s=Wn;s;)s=ys(s.nextSibling)}function Fa(){Wn=zn=null,yt=!1}function nm(s){br===null?br=[s]:br.push(s)}var JT=q.ReactCurrentBatchConfig;function tu(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,s));var g=f,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(T){var V=g.refs;T===null?delete V[w]:V[w]=T},o._stringRef=w,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function ud(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function xy(s){var o=s._init;return o(s._payload)}function Ey(s){function o(H,z){if(s){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function u(H,z){if(!s)return null;for(;z!==null;)o(H,z),z=z.sibling;return null}function f(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function g(H,z){return H=Cs(H,z),H.index=0,H.sibling=null,H}function w(H,z,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=2,z):G):(H.flags|=2,z)):(H.flags|=1048576,z)}function T(H){return s&&H.alternate===null&&(H.flags|=2),H}function V(H,z,G,ae){return z===null||z.tag!==6?(z=Gm(G,H.mode,ae),z.return=H,z):(z=g(z,G),z.return=H,z)}function $(H,z,G,ae){var ve=G.type;return ve===j?re(H,z,G.props.children,ae,G.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Fe&&xy(ve)===z.type)?(ae=g(z,G.props),ae.ref=tu(H,z,G),ae.return=H,ae):(ae=Dd(G.type,G.key,G.props,null,H.mode,ae),ae.ref=tu(H,z,G),ae.return=H,ae)}function K(H,z,G,ae){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Km(G,H.mode,ae),z.return=H,z):(z=g(z,G.children||[]),z.return=H,z)}function re(H,z,G,ae,ve){return z===null||z.tag!==7?(z=Oo(G,H.mode,ae,ve),z.return=H,z):(z=g(z,G),z.return=H,z)}function se(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Gm(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case oe:return G=Dd(z.type,z.key,z.props,null,H.mode,G),G.ref=tu(H,null,z),G.return=H,G;case J:return z=Km(z,H.mode,G),z.return=H,z;case Fe:var ae=z._init;return se(H,ae(z._payload),G)}if(cr(z)||le(z))return z=Oo(z,H.mode,G,null),z.return=H,z;ud(H,z)}return null}function ne(H,z,G,ae){var ve=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ve!==null?null:V(H,z,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case oe:return G.key===ve?$(H,z,G,ae):null;case J:return G.key===ve?K(H,z,G,ae):null;case Fe:return ve=G._init,ne(H,z,ve(G._payload),ae)}if(cr(G)||le(G))return ve!==null?null:re(H,z,G,ae,null);ud(H,G)}return null}function de(H,z,G,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(G)||null,V(z,H,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case oe:return H=H.get(ae.key===null?G:ae.key)||null,$(z,H,ae,ve);case J:return H=H.get(ae.key===null?G:ae.key)||null,K(z,H,ae,ve);case Fe:var be=ae._init;return de(H,z,G,be(ae._payload),ve)}if(cr(ae)||le(ae))return H=H.get(G)||null,re(z,H,ae,ve,null);ud(z,ae)}return null}function ge(H,z,G,ae){for(var ve=null,be=null,Te=z,Ce=z=0,Kt=null;Te!==null&&Ce<G.length;Ce++){Te.index>Ce?(Kt=Te,Te=null):Kt=Te.sibling;var Xe=ne(H,Te,G[Ce],ae);if(Xe===null){Te===null&&(Te=Kt);break}s&&Te&&Xe.alternate===null&&o(H,Te),z=w(Xe,z,Ce),be===null?ve=Xe:be.sibling=Xe,be=Xe,Te=Kt}if(Ce===G.length)return u(H,Te),yt&&Io(H,Ce),ve;if(Te===null){for(;Ce<G.length;Ce++)Te=se(H,G[Ce],ae),Te!==null&&(z=w(Te,z,Ce),be===null?ve=Te:be.sibling=Te,be=Te);return yt&&Io(H,Ce),ve}for(Te=f(H,Te);Ce<G.length;Ce++)Kt=de(Te,H,Ce,G[Ce],ae),Kt!==null&&(s&&Kt.alternate!==null&&Te.delete(Kt.key===null?Ce:Kt.key),z=w(Kt,z,Ce),be===null?ve=Kt:be.sibling=Kt,be=Kt);return s&&Te.forEach(function(Rs){return o(H,Rs)}),yt&&Io(H,Ce),ve}function ye(H,z,G,ae){var ve=le(G);if(typeof ve!="function")throw Error(n(150));if(G=ve.call(G),G==null)throw Error(n(151));for(var be=ve=null,Te=z,Ce=z=0,Kt=null,Xe=G.next();Te!==null&&!Xe.done;Ce++,Xe=G.next()){Te.index>Ce?(Kt=Te,Te=null):Kt=Te.sibling;var Rs=ne(H,Te,Xe.value,ae);if(Rs===null){Te===null&&(Te=Kt);break}s&&Te&&Rs.alternate===null&&o(H,Te),z=w(Rs,z,Ce),be===null?ve=Rs:be.sibling=Rs,be=Rs,Te=Kt}if(Xe.done)return u(H,Te),yt&&Io(H,Ce),ve;if(Te===null){for(;!Xe.done;Ce++,Xe=G.next())Xe=se(H,Xe.value,ae),Xe!==null&&(z=w(Xe,z,Ce),be===null?ve=Xe:be.sibling=Xe,be=Xe);return yt&&Io(H,Ce),ve}for(Te=f(H,Te);!Xe.done;Ce++,Xe=G.next())Xe=de(Te,H,Ce,Xe.value,ae),Xe!==null&&(s&&Xe.alternate!==null&&Te.delete(Xe.key===null?Ce:Xe.key),z=w(Xe,z,Ce),be===null?ve=Xe:be.sibling=Xe,be=Xe);return s&&Te.forEach(function(Nk){return o(H,Nk)}),yt&&Io(H,Ce),ve}function Rt(H,z,G,ae){if(typeof G=="object"&&G!==null&&G.type===j&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case oe:e:{for(var ve=G.key,be=z;be!==null;){if(be.key===ve){if(ve=G.type,ve===j){if(be.tag===7){u(H,be.sibling),z=g(be,G.props.children),z.return=H,H=z;break e}}else if(be.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Fe&&xy(ve)===be.type){u(H,be.sibling),z=g(be,G.props),z.ref=tu(H,be,G),z.return=H,H=z;break e}u(H,be);break}else o(H,be);be=be.sibling}G.type===j?(z=Oo(G.props.children,H.mode,ae,G.key),z.return=H,H=z):(ae=Dd(G.type,G.key,G.props,null,H.mode,ae),ae.ref=tu(H,z,G),ae.return=H,H=ae)}return T(H);case J:e:{for(be=G.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){u(H,z.sibling),z=g(z,G.children||[]),z.return=H,H=z;break e}else{u(H,z);break}else o(H,z);z=z.sibling}z=Km(G,H.mode,ae),z.return=H,H=z}return T(H);case Fe:return be=G._init,Rt(H,z,be(G._payload),ae)}if(cr(G))return ge(H,z,G,ae);if(le(G))return ye(H,z,G,ae);ud(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(u(H,z.sibling),z=g(z,G),z.return=H,H=z):(u(H,z),z=Gm(G,H.mode,ae),z.return=H,H=z),T(H)):u(H,z)}return Rt}var Ua=Ey(!0),by=Ey(!1),cd=vs(null),dd=null,$a=null,rm=null;function im(){rm=$a=dd=null}function sm(s){var o=cd.current;dt(cd),s._currentValue=o}function om(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Ba(s,o){dd=s,rm=$a=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(Dn=!0),s.firstContext=null)}function tr(s){var o=s._currentValue;if(rm!==s)if(s={context:s,memoizedValue:o,next:null},$a===null){if(dd===null)throw Error(n(308));$a=s,dd.dependencies={lanes:0,firstContext:s}}else $a=$a.next=s;return o}var So=null;function am(s){So===null?So=[s]:So.push(s)}function Ty(s,o,u,f){var g=o.interleaved;return g===null?(u.next=u,am(o)):(u.next=g.next,g.next=u),o.interleaved=u,Ii(s,f)}function Ii(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var xs=!1;function lm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ky(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Si(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Es(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,Ke&2){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Ii(s,u)}return g=f.interleaved,g===null?(o.next=o,am(f)):(o.next=g.next,g.next=o),f.interleaved=o,Ii(s,u)}function hd(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,ds(s,u)}}function Iy(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=T:w=w.next=T,u=u.next}while(u!==null);w===null?g=w=o:w=w.next=o}else g=w=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function fd(s,o,u,f){var g=s.updateQueue;xs=!1;var w=g.firstBaseUpdate,T=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var $=V,K=$.next;$.next=null,T===null?w=K:T.next=K,T=$;var re=s.alternate;re!==null&&(re=re.updateQueue,V=re.lastBaseUpdate,V!==T&&(V===null?re.firstBaseUpdate=K:V.next=K,re.lastBaseUpdate=$))}if(w!==null){var se=g.baseState;T=0,re=K=$=null,V=w;do{var ne=V.lane,de=V.eventTime;if((f&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ge=s,ye=V;switch(ne=o,de=u,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){se=ge.call(de,se,ne);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,ne=typeof ge=="function"?ge.call(de,se,ne):ge,ne==null)break e;se=te({},se,ne);break e;case 2:xs=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,ne=g.effects,ne===null?g.effects=[V]:ne.push(V))}else de={eventTime:de,lane:ne,tag:V.tag,payload:V.payload,callback:V.callback,next:null},re===null?(K=re=de,$=se):re=re.next=de,T|=ne;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;ne=V,V=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(re===null&&($=se),g.baseState=$,g.firstBaseUpdate=K,g.lastBaseUpdate=re,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);No|=T,s.lanes=T,s.memoizedState=se}}function Sy(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var nu={},Xr=vs(nu),ru=vs(nu),iu=vs(nu);function Co(s){if(s===nu)throw Error(n(174));return s}function um(s,o){switch(lt(iu,o),lt(ru,s),lt(Xr,nu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:St(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=St(o,s)}dt(Xr),lt(Xr,o)}function za(){dt(Xr),dt(ru),dt(iu)}function Cy(s){Co(iu.current);var o=Co(Xr.current),u=St(o,s.type);o!==u&&(lt(ru,s),lt(Xr,u))}function cm(s){ru.current===s&&(dt(Xr),dt(ru))}var _t=vs(0);function md(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var dm=[];function hm(){for(var s=0;s<dm.length;s++)dm[s]._workInProgressVersionPrimary=null;dm.length=0}var pd=q.ReactCurrentDispatcher,fm=q.ReactCurrentBatchConfig,Ro=0,xt=null,Vt=null,qt=null,gd=!1,su=!1,ou=0,ZT=0;function un(){throw Error(n(321))}function mm(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Er(s[u],o[u]))return!1;return!0}function pm(s,o,u,f,g,w){if(Ro=w,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,pd.current=s===null||s.memoizedState===null?rk:ik,s=u(f,g),su){w=0;do{if(su=!1,ou=0,25<=w)throw Error(n(301));w+=1,qt=Vt=null,o.updateQueue=null,pd.current=sk,s=u(f,g)}while(su)}if(pd.current=wd,o=Vt!==null&&Vt.next!==null,Ro=0,qt=Vt=xt=null,gd=!1,o)throw Error(n(300));return s}function gm(){var s=ou!==0;return ou=0,s}function Jr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?xt.memoizedState=qt=s:qt=qt.next=s,qt}function nr(){if(Vt===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=Vt.next;var o=qt===null?xt.memoizedState:qt.next;if(o!==null)qt=o,Vt=s;else{if(s===null)throw Error(n(310));Vt=s,s={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},qt===null?xt.memoizedState=qt=s:qt=qt.next=s}return qt}function au(s,o){return typeof o=="function"?o(s):o}function ym(s){var o=nr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=Vt,g=f.baseQueue,w=u.pending;if(w!==null){if(g!==null){var T=g.next;g.next=w.next,w.next=T}f.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,f=f.baseState;var V=T=null,$=null,K=w;do{var re=K.lane;if((Ro&re)===re)$!==null&&($=$.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:s(f,K.action);else{var se={lane:re,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};$===null?(V=$=se,T=f):$=$.next=se,xt.lanes|=re,No|=re}K=K.next}while(K!==null&&K!==w);$===null?T=f:$.next=V,Er(f,o.memoizedState)||(Dn=!0),o.memoizedState=f,o.baseState=T,o.baseQueue=$,u.lastRenderedState=f}if(s=u.interleaved,s!==null){g=s;do w=g.lane,xt.lanes|=w,No|=w,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function vm(s){var o=nr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,w=o.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do w=s(w,T.action),T=T.next;while(T!==g);Er(w,o.memoizedState)||(Dn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,f]}function Ry(){}function Ny(s,o){var u=xt,f=nr(),g=o(),w=!Er(f.memoizedState,g);if(w&&(f.memoizedState=g,Dn=!0),f=f.queue,wm(Dy.bind(null,u,f,s),[s]),f.getSnapshot!==o||w||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,lu(9,Ay.bind(null,u,f,g,o),void 0,null),Gt===null)throw Error(n(349));Ro&30||Py(u,o,g)}return g}function Py(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Ay(s,o,u,f){o.value=u,o.getSnapshot=f,Oy(o)&&My(s)}function Dy(s,o,u){return u(function(){Oy(o)&&My(s)})}function Oy(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Er(s,u)}catch{return!0}}function My(s){var o=Ii(s,1);o!==null&&Sr(o,s,1,-1)}function jy(s){var o=Jr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:s},o.queue=s,s=s.dispatch=nk.bind(null,xt,s),[o.memoizedState,s]}function lu(s,o,u,f){return s={tag:s,create:o,destroy:u,deps:f,next:null},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s)),s}function Ly(){return nr().memoizedState}function yd(s,o,u,f){var g=Jr();xt.flags|=s,g.memoizedState=lu(1|o,u,void 0,f===void 0?null:f)}function vd(s,o,u,f){var g=nr();f=f===void 0?null:f;var w=void 0;if(Vt!==null){var T=Vt.memoizedState;if(w=T.destroy,f!==null&&mm(f,T.deps)){g.memoizedState=lu(o,u,w,f);return}}xt.flags|=s,g.memoizedState=lu(1|o,u,w,f)}function Vy(s,o){return yd(8390656,8,s,o)}function wm(s,o){return vd(2048,8,s,o)}function Fy(s,o){return vd(4,2,s,o)}function Uy(s,o){return vd(4,4,s,o)}function $y(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function By(s,o,u){return u=u!=null?u.concat([s]):null,vd(4,4,$y.bind(null,o,s),u)}function _m(){}function zy(s,o){var u=nr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&mm(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function Wy(s,o){var u=nr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&mm(o,f[1])?f[0]:(s=s(),u.memoizedState=[s,o],s)}function Hy(s,o,u){return Ro&21?(Er(u,o)||(u=vo(),xt.lanes|=u,No|=u,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,Dn=!0),s.memoizedState=u)}function ek(s,o){var u=We;We=u!==0&&4>u?u:4,s(!0);var f=fm.transition;fm.transition={};try{s(!1),o()}finally{We=u,fm.transition=f}}function qy(){return nr().memoizedState}function tk(s,o,u){var f=Is(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Gy(s))Ky(o,u);else if(u=Ty(s,o,u,f),u!==null){var g=_n();Sr(u,s,f,g),Yy(u,o,f)}}function nk(s,o,u){var f=Is(s),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gy(s))Ky(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var T=o.lastRenderedState,V=w(T,u);if(g.hasEagerState=!0,g.eagerState=V,Er(V,T)){var $=o.interleaved;$===null?(g.next=g,am(o)):(g.next=$.next,$.next=g),o.interleaved=g;return}}catch{}finally{}u=Ty(s,o,g,f),u!==null&&(g=_n(),Sr(u,s,f,g),Yy(u,o,f))}}function Gy(s){var o=s.alternate;return s===xt||o!==null&&o===xt}function Ky(s,o){su=gd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Yy(s,o,u){if(u&4194240){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,ds(s,u)}}var wd={readContext:tr,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},rk={readContext:tr,useCallback:function(s,o){return Jr().memoizedState=[s,o===void 0?null:o],s},useContext:tr,useEffect:Vy,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,yd(4194308,4,$y.bind(null,o,s),u)},useLayoutEffect:function(s,o){return yd(4194308,4,s,o)},useInsertionEffect:function(s,o){return yd(4,2,s,o)},useMemo:function(s,o){var u=Jr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var f=Jr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=tk.bind(null,xt,s),[f.memoizedState,s]},useRef:function(s){var o=Jr();return s={current:s},o.memoizedState=s},useState:jy,useDebugValue:_m,useDeferredValue:function(s){return Jr().memoizedState=s},useTransition:function(){var s=jy(!1),o=s[0];return s=ek.bind(null,s[1]),Jr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var f=xt,g=Jr();if(yt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Gt===null)throw Error(n(349));Ro&30||Py(f,o,u)}g.memoizedState=u;var w={value:u,getSnapshot:o};return g.queue=w,Vy(Dy.bind(null,f,w,s),[s]),f.flags|=2048,lu(9,Ay.bind(null,f,w,u,o),void 0,null),u},useId:function(){var s=Jr(),o=Gt.identifierPrefix;if(yt){var u=ki,f=Ti;u=(f&~(1<<32-yn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=ou++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=ZT++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},ik={readContext:tr,useCallback:zy,useContext:tr,useEffect:wm,useImperativeHandle:By,useInsertionEffect:Fy,useLayoutEffect:Uy,useMemo:Wy,useReducer:ym,useRef:Ly,useState:function(){return ym(au)},useDebugValue:_m,useDeferredValue:function(s){var o=nr();return Hy(o,Vt.memoizedState,s)},useTransition:function(){var s=ym(au)[0],o=nr().memoizedState;return[s,o]},useMutableSource:Ry,useSyncExternalStore:Ny,useId:qy,unstable_isNewReconciler:!1},sk={readContext:tr,useCallback:zy,useContext:tr,useEffect:wm,useImperativeHandle:By,useInsertionEffect:Fy,useLayoutEffect:Uy,useMemo:Wy,useReducer:vm,useRef:Ly,useState:function(){return vm(au)},useDebugValue:_m,useDeferredValue:function(s){var o=nr();return Vt===null?o.memoizedState=s:Hy(o,Vt.memoizedState,s)},useTransition:function(){var s=vm(au)[0],o=nr().memoizedState;return[s,o]},useMutableSource:Ry,useSyncExternalStore:Ny,useId:qy,unstable_isNewReconciler:!1};function Tr(s,o){if(s&&s.defaultProps){o=te({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function xm(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:te({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var _d={isMounted:function(s){return(s=s._reactInternals)?pr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var f=_n(),g=Is(s),w=Si(f,g);w.payload=o,u!=null&&(w.callback=u),o=Es(s,w,g),o!==null&&(Sr(o,s,g,f),hd(o,s,g))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=_n(),g=Is(s),w=Si(f,g);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Es(s,w,g),o!==null&&(Sr(o,s,g,f),hd(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=_n(),f=Is(s),g=Si(u,f);g.tag=2,o!=null&&(g.callback=o),o=Es(s,g,f),o!==null&&(Sr(o,s,f,u),hd(o,s,f))}};function Qy(s,o,u,f,g,w,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,T):o.prototype&&o.prototype.isPureReactComponent?!Kl(u,f)||!Kl(g,w):!0}function Xy(s,o,u){var f=!1,g=ws,w=o.contextType;return typeof w=="object"&&w!==null?w=tr(w):(g=An(o)?To:ln.current,f=o.contextTypes,w=(f=f!=null)?ja(s,g):ws),o=new o(u,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_d,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function Jy(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&_d.enqueueReplaceState(o,o.state,null)}function Em(s,o,u,f){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},lm(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=tr(w):(w=An(o)?To:ln.current,g.context=ja(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(xm(s,o,w,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&_d.enqueueReplaceState(g,g.state,null),fd(s,u,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Wa(s,o){try{var u="",f=o;do u+=Ee(f),f=f.return;while(f);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function bm(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Tm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var ok=typeof WeakMap=="function"?WeakMap:Map;function Zy(s,o,u){u=Si(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Sd||(Sd=!0,Fm=f),Tm(s,o)},u}function ev(s,o,u){u=Si(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){Tm(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Tm(s,o),typeof f!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function tv(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new ok;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),s=_k.bind(null,s,o,u),o.then(s,s))}function nv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function rv(s,o,u,f,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Si(-1,1),o.tag=2,Es(u,o,1))),u.lanes|=1),s)}var ak=q.ReactCurrentOwner,Dn=!1;function wn(s,o,u,f){o.child=s===null?by(o,null,u,f):Ua(o,s.child,u,f)}function iv(s,o,u,f,g){u=u.render;var w=o.ref;return Ba(o,g),f=pm(s,o,u,f,w,g),u=gm(),s!==null&&!Dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ci(s,o,g)):(yt&&u&&Jf(o),o.flags|=1,wn(s,o,f,g),o.child)}function sv(s,o,u,f,g){if(s===null){var w=u.type;return typeof w=="function"&&!qm(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,ov(s,o,w,f,g)):(s=Dd(u.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!(s.lanes&g)){var T=w.memoizedProps;if(u=u.compare,u=u!==null?u:Kl,u(T,f)&&s.ref===o.ref)return Ci(s,o,g)}return o.flags|=1,s=Cs(w,f),s.ref=o.ref,s.return=o,o.child=s}function ov(s,o,u,f,g){if(s!==null){var w=s.memoizedProps;if(Kl(w,f)&&s.ref===o.ref)if(Dn=!1,o.pendingProps=f=w,(s.lanes&g)!==0)s.flags&131072&&(Dn=!0);else return o.lanes=s.lanes,Ci(s,o,g)}return km(s,o,u,f,g)}function av(s,o,u){var f=o.pendingProps,g=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(qa,Hn),Hn|=u;else{if(!(u&1073741824))return s=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,lt(qa,Hn),Hn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:u,lt(qa,Hn),Hn|=f}else w!==null?(f=w.baseLanes|u,o.memoizedState=null):f=u,lt(qa,Hn),Hn|=f;return wn(s,o,g,u),o.child}function lv(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function km(s,o,u,f,g){var w=An(u)?To:ln.current;return w=ja(o,w),Ba(o,g),u=pm(s,o,u,f,w,g),f=gm(),s!==null&&!Dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ci(s,o,g)):(yt&&f&&Jf(o),o.flags|=1,wn(s,o,u,g),o.child)}function uv(s,o,u,f,g){if(An(u)){var w=!0;id(o)}else w=!1;if(Ba(o,g),o.stateNode===null)Ed(s,o),Xy(o,u,f),Em(o,u,f,g),f=!0;else if(s===null){var T=o.stateNode,V=o.memoizedProps;T.props=V;var $=T.context,K=u.contextType;typeof K=="object"&&K!==null?K=tr(K):(K=An(u)?To:ln.current,K=ja(o,K));var re=u.getDerivedStateFromProps,se=typeof re=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==f||$!==K)&&Jy(o,T,f,K),xs=!1;var ne=o.memoizedState;T.state=ne,fd(o,f,T,g),$=o.memoizedState,V!==f||ne!==$||Pn.current||xs?(typeof re=="function"&&(xm(o,u,re,f),$=o.memoizedState),(V=xs||Qy(o,u,V,f,ne,$,K))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=$),T.props=f,T.state=$,T.context=K,f=V):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,ky(s,o),V=o.memoizedProps,K=o.type===o.elementType?V:Tr(o.type,V),T.props=K,se=o.pendingProps,ne=T.context,$=u.contextType,typeof $=="object"&&$!==null?$=tr($):($=An(u)?To:ln.current,$=ja(o,$));var de=u.getDerivedStateFromProps;(re=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==se||ne!==$)&&Jy(o,T,f,$),xs=!1,ne=o.memoizedState,T.state=ne,fd(o,f,T,g);var ge=o.memoizedState;V!==se||ne!==ge||Pn.current||xs?(typeof de=="function"&&(xm(o,u,de,f),ge=o.memoizedState),(K=xs||Qy(o,u,K,f,ne,ge,$)||!1)?(re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,ge,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,ge,$)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ge),T.props=f,T.state=ge,T.context=$,f=K):(typeof T.componentDidUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),f=!1)}return Im(s,o,u,f,w,g)}function Im(s,o,u,f,g,w){lv(s,o);var T=(o.flags&128)!==0;if(!f&&!T)return g&&my(o,u,!1),Ci(s,o,w);f=o.stateNode,ak.current=o;var V=T&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&T?(o.child=Ua(o,s.child,null,w),o.child=Ua(o,null,V,w)):wn(s,o,V,w),o.memoizedState=f.state,g&&my(o,u,!0),o.child}function cv(s){var o=s.stateNode;o.pendingContext?hy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&hy(s,o.context,!1),um(s,o.containerInfo)}function dv(s,o,u,f,g){return Fa(),nm(g),o.flags|=256,wn(s,o,u,f),o.child}var Sm={dehydrated:null,treeContext:null,retryLane:0};function Cm(s){return{baseLanes:s,cachePool:null,transitions:null}}function hv(s,o,u){var f=o.pendingProps,g=_t.current,w=!1,T=(o.flags&128)!==0,V;if((V=T)||(V=s!==null&&s.memoizedState===null?!1:(g&2)!==0),V?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),lt(_t,g&1),s===null)return tm(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=f.children,s=f.fallback,w?(f=o.mode,w=o.child,T={mode:"hidden",children:T},!(f&1)&&w!==null?(w.childLanes=0,w.pendingProps=T):w=Od(T,f,0,null),s=Oo(s,f,u,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Cm(u),o.memoizedState=Sm,s):Rm(o,T));if(g=s.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return lk(s,o,T,f,V,g,u);if(w){w=f.fallback,T=o.mode,g=s.child,V=g.sibling;var $={mode:"hidden",children:f.children};return!(T&1)&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=$,o.deletions=null):(f=Cs(g,$),f.subtreeFlags=g.subtreeFlags&14680064),V!==null?w=Cs(V,w):(w=Oo(w,T,u,null),w.flags|=2),w.return=o,f.return=o,f.sibling=w,o.child=f,f=w,w=o.child,T=s.child.memoizedState,T=T===null?Cm(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},w.memoizedState=T,w.childLanes=s.childLanes&~u,o.memoizedState=Sm,f}return w=s.child,s=w.sibling,f=Cs(w,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=u),f.return=o,f.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=f,o.memoizedState=null,f}function Rm(s,o){return o=Od({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function xd(s,o,u,f){return f!==null&&nm(f),Ua(o,s.child,null,u),s=Rm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function lk(s,o,u,f,g,w,T){if(u)return o.flags&256?(o.flags&=-257,f=bm(Error(n(422))),xd(s,o,T,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=f.fallback,g=o.mode,f=Od({mode:"visible",children:f.children},g,0,null),w=Oo(w,g,T,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,o.mode&1&&Ua(o,s.child,null,T),o.child.memoizedState=Cm(T),o.memoizedState=Sm,w);if(!(o.mode&1))return xd(s,o,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var V=f.dgst;return f=V,w=Error(n(419)),f=bm(w,f,void 0),xd(s,o,T,f)}if(V=(T&s.childLanes)!==0,Dn||V){if(f=Gt,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(f.suspendedLanes|T)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Ii(s,g),Sr(f,s,g,-1))}return Hm(),f=bm(Error(n(421))),xd(s,o,T,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=xk.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,Wn=ys(g.nextSibling),zn=o,yt=!0,br=null,s!==null&&(Zn[er++]=Ti,Zn[er++]=ki,Zn[er++]=ko,Ti=s.id,ki=s.overflow,ko=o),o=Rm(o,f.children),o.flags|=4096,o)}function fv(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),om(s.return,o,u)}function Nm(s,o,u,f,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=u,w.tailMode=g)}function mv(s,o,u){var f=o.pendingProps,g=f.revealOrder,w=f.tail;if(wn(s,o,f.children,u),f=_t.current,f&2)f=f&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fv(s,u,o);else if(s.tag===19)fv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(lt(_t,f),!(o.mode&1))o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&md(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Nm(o,!1,g,u,w);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&md(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Nm(o,!0,u,null,w);break;case"together":Nm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ed(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ci(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),No|=o.lanes,!(u&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Cs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Cs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function uk(s,o,u){switch(o.tag){case 3:cv(o),Fa();break;case 5:Cy(o);break;case 1:An(o.type)&&id(o);break;case 4:um(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;lt(cd,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(lt(_t,_t.current&1),o.flags|=128,null):u&o.child.childLanes?hv(s,o,u):(lt(_t,_t.current&1),s=Ci(s,o,u),s!==null?s.sibling:null);lt(_t,_t.current&1);break;case 19:if(f=(u&o.childLanes)!==0,s.flags&128){if(f)return mv(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(_t,_t.current),f)break;return null;case 22:case 23:return o.lanes=0,av(s,o,u)}return Ci(s,o,u)}var pv,Pm,gv,yv;pv=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Pm=function(){},gv=function(s,o,u,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,Co(Xr.current);var w=null;switch(u){case"input":g=fi(s,g),f=fi(s,f),w=[];break;case"select":g=te({},g,{value:void 0}),f=te({},f,{value:void 0}),w=[];break;case"textarea":g=ao(s,g),f=ao(s,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=td)}Xt(u,f);var T;u=null;for(K in g)if(!f.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var V=g[K];for(T in V)V.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?w||(w=[]):(w=w||[]).push(K,null));for(K in f){var $=f[K];if(V=g!=null?g[K]:void 0,f.hasOwnProperty(K)&&$!==V&&($!=null||V!=null))if(K==="style")if(V){for(T in V)!V.hasOwnProperty(T)||$&&$.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in $)$.hasOwnProperty(T)&&V[T]!==$[T]&&(u||(u={}),u[T]=$[T])}else u||(w||(w=[]),w.push(K,u)),u=$;else K==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,V=V?V.__html:void 0,$!=null&&V!==$&&(w=w||[]).push(K,$)):K==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(K,""+$):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?($!=null&&K==="onScroll"&&ct("scroll",s),w||V===$||(w=[])):(w=w||[]).push(K,$))}u&&(w=w||[]).push("style",u);var K=w;(o.updateQueue=K)&&(o.flags|=4)}},yv=function(s,o,u,f){u!==f&&(o.flags|=4)};function uu(s,o){if(!yt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function cn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function ck(s,o,u){var f=o.pendingProps;switch(Zf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(o),null;case 1:return An(o.type)&&rd(),cn(o),null;case 3:return f=o.stateNode,za(),dt(Pn),dt(ln),hm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(ld(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,br!==null&&(Bm(br),br=null))),Pm(s,o),cn(o),null;case 5:cm(o);var g=Co(iu.current);if(u=o.type,s!==null&&o.stateNode!=null)gv(s,o,u,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return cn(o),null}if(s=Co(Xr.current),ld(o)){f=o.stateNode,u=o.type;var w=o.memoizedProps;switch(f[Qr]=o,f[Zl]=w,s=(o.mode&1)!==0,u){case"dialog":ct("cancel",f),ct("close",f);break;case"iframe":case"object":case"embed":ct("load",f);break;case"video":case"audio":for(g=0;g<Ql.length;g++)ct(Ql[g],f);break;case"source":ct("error",f);break;case"img":case"image":case"link":ct("error",f),ct("load",f);break;case"details":ct("toggle",f);break;case"input":ts(f,w),ct("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},ct("invalid",f);break;case"textarea":is(f,w),ct("invalid",f)}Xt(u,w),g=null;for(var T in w)if(w.hasOwnProperty(T)){var V=w[T];T==="children"?typeof V=="string"?f.textContent!==V&&(w.suppressHydrationWarning!==!0&&ed(f.textContent,V,s),g=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&ed(f.textContent,V,s),g=["children",""+V]):i.hasOwnProperty(T)&&V!=null&&T==="onScroll"&&ct("scroll",f)}switch(u){case"input":ur(f),ca(f,w,!0);break;case"textarea":ur(f),lo(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=td)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=It(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(u,{is:f.is}):(s=T.createElement(u),u==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,u),s[Qr]=o,s[Zl]=f,pv(s,o,!1,!1),o.stateNode=s;e:{switch(T=Wr(u,f),u){case"dialog":ct("cancel",s),ct("close",s),g=f;break;case"iframe":case"object":case"embed":ct("load",s),g=f;break;case"video":case"audio":for(g=0;g<Ql.length;g++)ct(Ql[g],s);g=f;break;case"source":ct("error",s),g=f;break;case"img":case"image":case"link":ct("error",s),ct("load",s),g=f;break;case"details":ct("toggle",s),g=f;break;case"input":ts(s,f),g=fi(s,f),ct("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=te({},f,{value:void 0}),ct("invalid",s);break;case"textarea":is(s,f),g=ao(s,f),ct("invalid",s);break;default:g=f}Xt(u,g),V=g;for(w in V)if(V.hasOwnProperty(w)){var $=V[w];w==="style"?Qe(s,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&uo(s,$)):w==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&zr(s,$):typeof $=="number"&&zr(s,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?$!=null&&w==="onScroll"&&ct("scroll",s):$!=null&&B(s,w,$,T))}switch(u){case"input":ur(s),ca(s,f,!1);break;case"textarea":ur(s),lo(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ne(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?dr(s,!!f.multiple,w,!1):f.defaultValue!=null&&dr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=td)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return cn(o),null;case 6:if(s&&o.stateNode!=null)yv(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Co(iu.current),Co(Xr.current),ld(o)){if(f=o.stateNode,u=o.memoizedProps,f[Qr]=o,(w=f.nodeValue!==u)&&(s=zn,s!==null))switch(s.tag){case 3:ed(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ed(f.nodeValue,u,(s.mode&1)!==0)}w&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Qr]=o,o.stateNode=f}return cn(o),null;case 13:if(dt(_t),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(yt&&Wn!==null&&o.mode&1&&!(o.flags&128))_y(),Fa(),o.flags|=98560,w=!1;else if(w=ld(o),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Qr]=o}else Fa(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;cn(o),w=!1}else br!==null&&(Bm(br),br=null),w=!0;if(!w)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(s===null||_t.current&1?Ft===0&&(Ft=3):Hm())),o.updateQueue!==null&&(o.flags|=4),cn(o),null);case 4:return za(),Pm(s,o),s===null&&Xl(o.stateNode.containerInfo),cn(o),null;case 10:return sm(o.type._context),cn(o),null;case 17:return An(o.type)&&rd(),cn(o),null;case 19:if(dt(_t),w=o.memoizedState,w===null)return cn(o),null;if(f=(o.flags&128)!==0,T=w.rendering,T===null)if(f)uu(w,!1);else{if(Ft!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(T=md(s),T!==null){for(o.flags|=128,uu(w,!1),f=T.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)w=u,s=f,w.flags&=14680066,T=w.alternate,T===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=T.childLanes,w.lanes=T.lanes,w.child=T.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=T.memoizedProps,w.memoizedState=T.memoizedState,w.updateQueue=T.updateQueue,w.type=T.type,s=T.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return lt(_t,_t.current&1|2),o.child}s=s.sibling}w.tail!==null&&at()>Ga&&(o.flags|=128,f=!0,uu(w,!1),o.lanes=4194304)}else{if(!f)if(s=md(T),s!==null){if(o.flags|=128,f=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),uu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!yt)return cn(o),null}else 2*at()-w.renderingStartTime>Ga&&u!==1073741824&&(o.flags|=128,f=!0,uu(w,!1),o.lanes=4194304);w.isBackwards?(T.sibling=o.child,o.child=T):(u=w.last,u!==null?u.sibling=T:o.child=T,w.last=T)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=at(),o.sibling=null,u=_t.current,lt(_t,f?u&1|2:u&1),o):(cn(o),null);case 22:case 23:return Wm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?Hn&1073741824&&(cn(o),o.subtreeFlags&6&&(o.flags|=8192)):cn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function dk(s,o){switch(Zf(o),o.tag){case 1:return An(o.type)&&rd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return za(),dt(Pn),dt(ln),hm(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return cm(o),null;case 13:if(dt(_t),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Fa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return dt(_t),null;case 4:return za(),null;case 10:return sm(o.type._context),null;case 22:case 23:return Wm(),null;case 24:return null;default:return null}}var bd=!1,dn=!1,hk=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ha(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){bt(s,o,f)}else u.current=null}function Am(s,o,u){try{u()}catch(f){bt(s,o,f)}}var vv=!1;function fk(s,o){if(Wf=ms,s=Q0(),jf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var T=0,V=-1,$=-1,K=0,re=0,se=s,ne=null;t:for(;;){for(var de;se!==u||g!==0&&se.nodeType!==3||(V=T+g),se!==w||f!==0&&se.nodeType!==3||($=T+f),se.nodeType===3&&(T+=se.nodeValue.length),(de=se.firstChild)!==null;)ne=se,se=de;for(;;){if(se===s)break t;if(ne===u&&++K===g&&(V=T),ne===w&&++re===f&&($=T),(de=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=de}u=V===-1||$===-1?null:{start:V,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hf={focusedElem:s,selectionRange:u},ms=!1,me=o;me!==null;)if(o=me,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,me=s;else for(;me!==null;){o=me;try{var ge=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,Rt=ge.memoizedState,H=o.stateNode,z=H.getSnapshotBeforeUpdate(o.elementType===o.type?ye:Tr(o.type,ye),Rt);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){bt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,me=s;break}me=o.return}return ge=vv,vv=!1,ge}function cu(s,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&Am(o,u,w)}g=g.next}while(g!==f)}}function Td(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Dm(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function wv(s){var o=s.alternate;o!==null&&(s.alternate=null,wv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Qr],delete o[Zl],delete o[Yf],delete o[YT],delete o[QT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function _v(s){return s.tag===5||s.tag===3||s.tag===4}function xv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||_v(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Om(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=td));else if(f!==4&&(s=s.child,s!==null))for(Om(s,o,u),s=s.sibling;s!==null;)Om(s,o,u),s=s.sibling}function Mm(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Mm(s,o,u),s=s.sibling;s!==null;)Mm(s,o,u),s=s.sibling}var tn=null,kr=!1;function bs(s,o,u){for(u=u.child;u!==null;)Ev(s,o,u),u=u.sibling}function Ev(s,o,u){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(go,u)}catch{}switch(u.tag){case 5:dn||Ha(u,o);case 6:var f=tn,g=kr;tn=null,bs(s,o,u),tn=f,kr=g,tn!==null&&(kr?(s=tn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):tn.removeChild(u.stateNode));break;case 18:tn!==null&&(kr?(s=tn,u=u.stateNode,s.nodeType===8?Kf(s.parentNode,u):s.nodeType===1&&Kf(s,u),_r(s)):Kf(tn,u.stateNode));break;case 4:f=tn,g=kr,tn=u.stateNode.containerInfo,kr=!0,bs(s,o,u),tn=f,kr=g;break;case 0:case 11:case 14:case 15:if(!dn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var w=g,T=w.destroy;w=w.tag,T!==void 0&&(w&2||w&4)&&Am(u,o,T),g=g.next}while(g!==f)}bs(s,o,u);break;case 1:if(!dn&&(Ha(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(V){bt(u,o,V)}bs(s,o,u);break;case 21:bs(s,o,u);break;case 22:u.mode&1?(dn=(f=dn)||u.memoizedState!==null,bs(s,o,u),dn=f):bs(s,o,u);break;default:bs(s,o,u)}}function bv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new hk),o.forEach(function(f){var g=Ek.bind(null,s,f);u.has(f)||(u.add(f),f.then(g,g))})}}function Ir(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var w=s,T=o,V=T;e:for(;V!==null;){switch(V.tag){case 5:tn=V.stateNode,kr=!1;break e;case 3:tn=V.stateNode.containerInfo,kr=!0;break e;case 4:tn=V.stateNode.containerInfo,kr=!0;break e}V=V.return}if(tn===null)throw Error(n(160));Ev(w,T,g),tn=null,kr=!1;var $=g.alternate;$!==null&&($.return=null),g.return=null}catch(K){bt(g,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Tv(o,s),o=o.sibling}function Tv(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ir(o,s),Zr(s),f&4){try{cu(3,s,s.return),Td(3,s)}catch(ye){bt(s,s.return,ye)}try{cu(5,s,s.return)}catch(ye){bt(s,s.return,ye)}}break;case 1:Ir(o,s),Zr(s),f&512&&u!==null&&Ha(u,u.return);break;case 5:if(Ir(o,s),Zr(s),f&512&&u!==null&&Ha(u,u.return),s.flags&32){var g=s.stateNode;try{zr(g,"")}catch(ye){bt(s,s.return,ye)}}if(f&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,T=u!==null?u.memoizedProps:w,V=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&oo(g,w),Wr(V,T);var K=Wr(V,w);for(T=0;T<$.length;T+=2){var re=$[T],se=$[T+1];re==="style"?Qe(g,se):re==="dangerouslySetInnerHTML"?uo(g,se):re==="children"?zr(g,se):B(g,re,se,K)}switch(V){case"input":ns(g,w);break;case"textarea":ss(g,w);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var de=w.value;de!=null?dr(g,!!w.multiple,de,!1):ne!==!!w.multiple&&(w.defaultValue!=null?dr(g,!!w.multiple,w.defaultValue,!0):dr(g,!!w.multiple,w.multiple?[]:"",!1))}g[Zl]=w}catch(ye){bt(s,s.return,ye)}}break;case 6:if(Ir(o,s),Zr(s),f&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(ye){bt(s,s.return,ye)}}break;case 3:if(Ir(o,s),Zr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{_r(o.containerInfo)}catch(ye){bt(s,s.return,ye)}break;case 4:Ir(o,s),Zr(s);break;case 13:Ir(o,s),Zr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Vm=at())),f&4&&bv(s);break;case 22:if(re=u!==null&&u.memoizedState!==null,s.mode&1?(dn=(K=dn)||re,Ir(o,s),dn=K):Ir(o,s),Zr(s),f&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!re&&s.mode&1)for(me=s,re=s.child;re!==null;){for(se=me=re;me!==null;){switch(ne=me,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:cu(4,ne,ne.return);break;case 1:Ha(ne,ne.return);var ge=ne.stateNode;if(typeof ge.componentWillUnmount=="function"){f=ne,u=ne.return;try{o=f,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(ye){bt(f,u,ye)}}break;case 5:Ha(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Sv(se);continue}}de!==null?(de.return=ne,me=de):Sv(se)}re=re.sibling}e:for(re=null,se=s;;){if(se.tag===5){if(re===null){re=se;try{g=se.stateNode,K?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=se.stateNode,$=se.memoizedProps.style,T=$!=null&&$.hasOwnProperty("display")?$.display:null,V.style.display=st("display",T))}catch(ye){bt(s,s.return,ye)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(ye){bt(s,s.return,ye)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Ir(o,s),Zr(s),f&4&&bv(s);break;case 21:break;default:Ir(o,s),Zr(s)}}function Zr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(_v(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(zr(g,""),f.flags&=-33);var w=xv(s);Mm(s,w,g);break;case 3:case 4:var T=f.stateNode.containerInfo,V=xv(s);Om(s,V,T);break;default:throw Error(n(161))}}catch($){bt(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function mk(s,o,u){me=s,kv(s)}function kv(s,o,u){for(var f=(s.mode&1)!==0;me!==null;){var g=me,w=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||bd;if(!T){var V=g.alternate,$=V!==null&&V.memoizedState!==null||dn;V=bd;var K=dn;if(bd=T,(dn=$)&&!K)for(me=g;me!==null;)T=me,$=T.child,T.tag===22&&T.memoizedState!==null?Cv(g):$!==null?($.return=T,me=$):Cv(g);for(;w!==null;)me=w,kv(w),w=w.sibling;me=g,bd=V,dn=K}Iv(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,me=w):Iv(s)}}function Iv(s){for(;me!==null;){var o=me;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:dn||Td(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!dn)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Tr(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Sy(o,w,f);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Sy(o,T,u)}break;case 5:var V=o.stateNode;if(u===null&&o.flags&4){u=V;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var re=K.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&_r(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dn||o.flags&512&&Dm(o)}catch(ne){bt(o,o.return,ne)}}if(o===s){me=null;break}if(u=o.sibling,u!==null){u.return=o.return,me=u;break}me=o.return}}function Sv(s){for(;me!==null;){var o=me;if(o===s){me=null;break}var u=o.sibling;if(u!==null){u.return=o.return,me=u;break}me=o.return}}function Cv(s){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Td(4,o)}catch($){bt(o,u,$)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch($){bt(o,g,$)}}var w=o.return;try{Dm(o)}catch($){bt(o,w,$)}break;case 5:var T=o.return;try{Dm(o)}catch($){bt(o,T,$)}}}catch($){bt(o,o.return,$)}if(o===s){me=null;break}var V=o.sibling;if(V!==null){V.return=o.return,me=V;break}me=o.return}}var pk=Math.ceil,kd=q.ReactCurrentDispatcher,jm=q.ReactCurrentOwner,rr=q.ReactCurrentBatchConfig,Ke=0,Gt=null,Ot=null,nn=0,Hn=0,qa=vs(0),Ft=0,du=null,No=0,Id=0,Lm=0,hu=null,On=null,Vm=0,Ga=1/0,Ri=null,Sd=!1,Fm=null,Ts=null,Cd=!1,ks=null,Rd=0,fu=0,Um=null,Nd=-1,Pd=0;function _n(){return Ke&6?at():Nd!==-1?Nd:Nd=at()}function Is(s){return s.mode&1?Ke&2&&nn!==0?nn&-nn:JT.transition!==null?(Pd===0&&(Pd=vo()),Pd):(s=We,s!==0||(s=window.event,s=s===void 0?16:$l(s.type)),s):1}function Sr(s,o,u,f){if(50<fu)throw fu=0,Um=null,Error(n(185));cs(s,u,f),(!(Ke&2)||s!==Gt)&&(s===Gt&&(!(Ke&2)&&(Id|=u),Ft===4&&Ss(s,nn)),Mn(s,f),u===1&&Ke===0&&!(o.mode&1)&&(Ga=at()+500,sd&&_s()))}function Mn(s,o){var u=s.callbackNode;yi(s,o);var f=yo(s,s===Gt?nn:0);if(f===0)u!==null&&jl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(u!=null&&jl(u),o===1)s.tag===0?XT(Nv.bind(null,s)):py(Nv.bind(null,s)),GT(function(){!(Ke&6)&&_s()}),u=null;else{switch(hs(f)){case 1:u=po;break;case 4:u=as;break;case 16:u=Qn;break;case 536870912:u=Pc;break;default:u=Qn}u=Vv(u,Rv.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function Rv(s,o){if(Nd=-1,Pd=0,Ke&6)throw Error(n(327));var u=s.callbackNode;if(Ka()&&s.callbackNode!==u)return null;var f=yo(s,s===Gt?nn:0);if(f===0)return null;if(f&30||f&s.expiredLanes||o)o=Ad(s,f);else{o=f;var g=Ke;Ke|=2;var w=Av();(Gt!==s||nn!==o)&&(Ri=null,Ga=at()+500,Ao(s,o));do try{vk();break}catch(V){Pv(s,V)}while(!0);im(),kd.current=w,Ke=g,Ot!==null?o=0:(Gt=null,nn=0,o=Ft)}if(o!==0){if(o===2&&(g=Un(s),g!==0&&(f=g,o=$m(s,g))),o===1)throw u=du,Ao(s,0),Ss(s,f),Mn(s,at()),u;if(o===6)Ss(s,f);else{if(g=s.current.alternate,!(f&30)&&!gk(g)&&(o=Ad(s,f),o===2&&(w=Un(s),w!==0&&(f=w,o=$m(s,w))),o===1))throw u=du,Ao(s,0),Ss(s,f),Mn(s,at()),u;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Do(s,On,Ri);break;case 3:if(Ss(s,f),(f&130023424)===f&&(o=Vm+500-at(),10<o)){if(yo(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){_n(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Gf(Do.bind(null,s,On,Ri),o);break}Do(s,On,Ri);break;case 4:if(Ss(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var T=31-yn(f);w=1<<T,T=o[T],T>g&&(g=T),f&=~w}if(f=g,f=at()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*pk(f/1960))-f,10<f){s.timeoutHandle=Gf(Do.bind(null,s,On,Ri),f);break}Do(s,On,Ri);break;case 5:Do(s,On,Ri);break;default:throw Error(n(329))}}}return Mn(s,at()),s.callbackNode===u?Rv.bind(null,s):null}function $m(s,o){var u=hu;return s.current.memoizedState.isDehydrated&&(Ao(s,o).flags|=256),s=Ad(s,o),s!==2&&(o=On,On=u,o!==null&&Bm(o)),s}function Bm(s){On===null?On=s:On.push.apply(On,s)}function gk(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],w=g.getSnapshot;g=g.value;try{if(!Er(w(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ss(s,o){for(o&=~Lm,o&=~Id,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-yn(o),f=1<<u;s[u]=-1,o&=~f}}function Nv(s){if(Ke&6)throw Error(n(327));Ka();var o=yo(s,0);if(!(o&1))return Mn(s,at()),null;var u=Ad(s,o);if(s.tag!==0&&u===2){var f=Un(s);f!==0&&(o=f,u=$m(s,f))}if(u===1)throw u=du,Ao(s,0),Ss(s,o),Mn(s,at()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Do(s,On,Ri),Mn(s,at()),null}function zm(s,o){var u=Ke;Ke|=1;try{return s(o)}finally{Ke=u,Ke===0&&(Ga=at()+500,sd&&_s())}}function Po(s){ks!==null&&ks.tag===0&&!(Ke&6)&&Ka();var o=Ke;Ke|=1;var u=rr.transition,f=We;try{if(rr.transition=null,We=1,s)return s()}finally{We=f,rr.transition=u,Ke=o,!(Ke&6)&&_s()}}function Wm(){Hn=qa.current,dt(qa)}function Ao(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,qT(u)),Ot!==null)for(u=Ot.return;u!==null;){var f=u;switch(Zf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&rd();break;case 3:za(),dt(Pn),dt(ln),hm();break;case 5:cm(f);break;case 4:za();break;case 13:dt(_t);break;case 19:dt(_t);break;case 10:sm(f.type._context);break;case 22:case 23:Wm()}u=u.return}if(Gt=s,Ot=s=Cs(s.current,null),nn=Hn=o,Ft=0,du=null,Lm=Id=No=0,On=hu=null,So!==null){for(o=0;o<So.length;o++)if(u=So[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,w=u.pending;if(w!==null){var T=w.next;w.next=g,f.next=T}u.pending=f}So=null}return s}function Pv(s,o){do{var u=Ot;try{if(im(),pd.current=wd,gd){for(var f=xt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}gd=!1}if(Ro=0,qt=Vt=xt=null,su=!1,ou=0,jm.current=null,u===null||u.return===null){Ft=1,du=o,Ot=null;break}e:{var w=s,T=u.return,V=u,$=o;if(o=nn,V.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var K=$,re=V,se=re.tag;if(!(re.mode&1)&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=nv(T);if(de!==null){de.flags&=-257,rv(de,T,V,w,o),de.mode&1&&tv(w,K,o),o=de,$=K;var ge=o.updateQueue;if(ge===null){var ye=new Set;ye.add($),o.updateQueue=ye}else ge.add($);break e}else{if(!(o&1)){tv(w,K,o),Hm();break e}$=Error(n(426))}}else if(yt&&V.mode&1){var Rt=nv(T);if(Rt!==null){!(Rt.flags&65536)&&(Rt.flags|=256),rv(Rt,T,V,w,o),nm(Wa($,V));break e}}w=$=Wa($,V),Ft!==4&&(Ft=2),hu===null?hu=[w]:hu.push(w),w=T;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=Zy(w,$,o);Iy(w,H);break e;case 1:V=$;var z=w.type,G=w.stateNode;if(!(w.flags&128)&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ts===null||!Ts.has(G)))){w.flags|=65536,o&=-o,w.lanes|=o;var ae=ev(w,V,o);Iy(w,ae);break e}}w=w.return}while(w!==null)}Ov(u)}catch(ve){o=ve,Ot===u&&u!==null&&(Ot=u=u.return);continue}break}while(!0)}function Av(){var s=kd.current;return kd.current=wd,s===null?wd:s}function Hm(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Gt===null||!(No&268435455)&&!(Id&268435455)||Ss(Gt,nn)}function Ad(s,o){var u=Ke;Ke|=2;var f=Av();(Gt!==s||nn!==o)&&(Ri=null,Ao(s,o));do try{yk();break}catch(g){Pv(s,g)}while(!0);if(im(),Ke=u,kd.current=f,Ot!==null)throw Error(n(261));return Gt=null,nn=0,Ft}function yk(){for(;Ot!==null;)Dv(Ot)}function vk(){for(;Ot!==null&&!Rc();)Dv(Ot)}function Dv(s){var o=Lv(s.alternate,s,Hn);s.memoizedProps=s.pendingProps,o===null?Ov(s):Ot=o,jm.current=null}function Ov(s){var o=s;do{var u=o.alternate;if(s=o.return,o.flags&32768){if(u=dk(u,o),u!==null){u.flags&=32767,Ot=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ft=6,Ot=null;return}}else if(u=ck(u,o,Hn),u!==null){Ot=u;return}if(o=o.sibling,o!==null){Ot=o;return}Ot=o=s}while(o!==null);Ft===0&&(Ft=5)}function Do(s,o,u){var f=We,g=rr.transition;try{rr.transition=null,We=1,wk(s,o,u,f)}finally{rr.transition=g,We=f}return null}function wk(s,o,u,f){do Ka();while(ks!==null);if(Ke&6)throw Error(n(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(ot(s,w),s===Gt&&(Ot=Gt=null,nn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Cd||(Cd=!0,Vv(Qn,function(){return Ka(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=rr.transition,rr.transition=null;var T=We;We=1;var V=Ke;Ke|=4,jm.current=null,fk(s,u),Tv(u,s),FT(Hf),ms=!!Wf,Hf=Wf=null,s.current=u,mk(u),Cf(),Ke=V,We=T,rr.transition=w}else s.current=u;if(Cd&&(Cd=!1,ks=s,Rd=g),w=s.pendingLanes,w===0&&(Ts=null),Ac(u.stateNode),Mn(s,at()),o!==null)for(f=s.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Sd)throw Sd=!1,s=Fm,Fm=null,s;return Rd&1&&s.tag!==0&&Ka(),w=s.pendingLanes,w&1?s===Um?fu++:(fu=0,Um=s):fu=0,_s(),null}function Ka(){if(ks!==null){var s=hs(Rd),o=rr.transition,u=We;try{if(rr.transition=null,We=16>s?16:s,ks===null)var f=!1;else{if(s=ks,ks=null,Rd=0,Ke&6)throw Error(n(331));var g=Ke;for(Ke|=4,me=s.current;me!==null;){var w=me,T=w.child;if(me.flags&16){var V=w.deletions;if(V!==null){for(var $=0;$<V.length;$++){var K=V[$];for(me=K;me!==null;){var re=me;switch(re.tag){case 0:case 11:case 15:cu(8,re,w)}var se=re.child;if(se!==null)se.return=re,me=se;else for(;me!==null;){re=me;var ne=re.sibling,de=re.return;if(wv(re),re===K){me=null;break}if(ne!==null){ne.return=de,me=ne;break}me=de}}}var ge=w.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var Rt=ye.sibling;ye.sibling=null,ye=Rt}while(ye!==null)}}me=w}}if(w.subtreeFlags&2064&&T!==null)T.return=w,me=T;else e:for(;me!==null;){if(w=me,w.flags&2048)switch(w.tag){case 0:case 11:case 15:cu(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,me=H;break e}me=w.return}}var z=s.current;for(me=z;me!==null;){T=me;var G=T.child;if(T.subtreeFlags&2064&&G!==null)G.return=T,me=G;else e:for(T=z;me!==null;){if(V=me,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:Td(9,V)}}catch(ve){bt(V,V.return,ve)}if(V===T){me=null;break e}var ae=V.sibling;if(ae!==null){ae.return=V.return,me=ae;break e}me=V.return}}if(Ke=g,_s(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(go,s)}catch{}f=!0}return f}finally{We=u,rr.transition=o}}return!1}function Mv(s,o,u){o=Wa(u,o),o=Zy(s,o,1),s=Es(s,o,1),o=_n(),s!==null&&(cs(s,1,o),Mn(s,o))}function bt(s,o,u){if(s.tag===3)Mv(s,s,u);else for(;o!==null;){if(o.tag===3){Mv(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ts===null||!Ts.has(f))){s=Wa(u,s),s=ev(o,s,1),o=Es(o,s,1),s=_n(),o!==null&&(cs(o,1,s),Mn(o,s));break}}o=o.return}}function _k(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),o=_n(),s.pingedLanes|=s.suspendedLanes&u,Gt===s&&(nn&u)===u&&(Ft===4||Ft===3&&(nn&130023424)===nn&&500>at()-Vm?Ao(s,0):Lm|=u),Mn(s,o)}function jv(s,o){o===0&&(s.mode&1?(o=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):o=1);var u=_n();s=Ii(s,o),s!==null&&(cs(s,o,u),Mn(s,u))}function xk(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),jv(s,u)}function Ek(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),jv(s,u)}var Lv;Lv=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||Pn.current)Dn=!0;else{if(!(s.lanes&u)&&!(o.flags&128))return Dn=!1,uk(s,o,u);Dn=!!(s.flags&131072)}else Dn=!1,yt&&o.flags&1048576&&gy(o,ad,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Ed(s,o),s=o.pendingProps;var g=ja(o,ln.current);Ba(o,u),g=pm(null,o,f,s,g,u);var w=gm();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,An(f)?(w=!0,id(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,lm(o),g.updater=_d,o.stateNode=g,g._reactInternals=o,Em(o,f,s,u),o=Im(null,o,f,!0,w,u)):(o.tag=0,yt&&w&&Jf(o),wn(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Ed(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=Tk(f),s=Tr(f,s),g){case 0:o=km(null,o,f,s,u);break e;case 1:o=uv(null,o,f,s,u);break e;case 11:o=iv(null,o,f,s,u);break e;case 14:o=sv(null,o,f,Tr(f.type,s),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Tr(f,g),km(s,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Tr(f,g),uv(s,o,f,g,u);case 3:e:{if(cv(o),s===null)throw Error(n(387));f=o.pendingProps,w=o.memoizedState,g=w.element,ky(s,o),fd(o,f,null,u);var T=o.memoizedState;if(f=T.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=Wa(Error(n(423)),o),o=dv(s,o,f,u,g);break e}else if(f!==g){g=Wa(Error(n(424)),o),o=dv(s,o,f,u,g);break e}else for(Wn=ys(o.stateNode.containerInfo.firstChild),zn=o,yt=!0,br=null,u=by(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Fa(),f===g){o=Ci(s,o,u);break e}wn(s,o,f,u)}o=o.child}return o;case 5:return Cy(o),s===null&&tm(o),f=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,T=g.children,qf(f,g)?T=null:w!==null&&qf(f,w)&&(o.flags|=32),lv(s,o),wn(s,o,T,u),o.child;case 6:return s===null&&tm(o),null;case 13:return hv(s,o,u);case 4:return um(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Ua(o,null,f,u):wn(s,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Tr(f,g),iv(s,o,f,g,u);case 7:return wn(s,o,o.pendingProps,u),o.child;case 8:return wn(s,o,o.pendingProps.children,u),o.child;case 12:return wn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,w=o.memoizedProps,T=g.value,lt(cd,f._currentValue),f._currentValue=T,w!==null)if(Er(w.value,T)){if(w.children===g.children&&!Pn.current){o=Ci(s,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var V=w.dependencies;if(V!==null){T=w.child;for(var $=V.firstContext;$!==null;){if($.context===f){if(w.tag===1){$=Si(-1,u&-u),$.tag=2;var K=w.updateQueue;if(K!==null){K=K.shared;var re=K.pending;re===null?$.next=$:($.next=re.next,re.next=$),K.pending=$}}w.lanes|=u,$=w.alternate,$!==null&&($.lanes|=u),om(w.return,u,o),V.lanes|=u;break}$=$.next}}else if(w.tag===10)T=w.type===o.type?null:w.child;else if(w.tag===18){if(T=w.return,T===null)throw Error(n(341));T.lanes|=u,V=T.alternate,V!==null&&(V.lanes|=u),om(T,u,o),T=w.sibling}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===o){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}wn(s,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Ba(o,u),g=tr(g),f=f(g),o.flags|=1,wn(s,o,f,u),o.child;case 14:return f=o.type,g=Tr(f,o.pendingProps),g=Tr(f.type,g),sv(s,o,f,g,u);case 15:return ov(s,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Tr(f,g),Ed(s,o),o.tag=1,An(f)?(s=!0,id(o)):s=!1,Ba(o,u),Xy(o,f,g),Em(o,f,g,u),Im(null,o,f,!0,s,u);case 19:return mv(s,o,u);case 22:return av(s,o,u)}throw Error(n(156,o.tag))};function Vv(s,o){return pa(s,o)}function bk(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(s,o,u,f){return new bk(s,o,u,f)}function qm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Tk(s){if(typeof s=="function")return qm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===De)return 14}return 2}function Cs(s,o){var u=s.alternate;return u===null?(u=ir(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Dd(s,o,u,f,g,w){var T=2;if(f=s,typeof s=="function")qm(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case j:return Oo(u.children,g,w,o);case N:T=8,g|=8;break;case O:return s=ir(12,u,o,g|2),s.elementType=O,s.lanes=w,s;case M:return s=ir(13,u,o,g),s.elementType=M,s.lanes=w,s;case pe:return s=ir(19,u,o,g),s.elementType=pe,s.lanes=w,s;case we:return Od(u,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:T=10;break e;case D:T=9;break e;case F:T=11;break e;case De:T=14;break e;case Fe:T=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=ir(T,u,o,g),o.elementType=s,o.type=f,o.lanes=w,o}function Oo(s,o,u,f){return s=ir(7,s,f,o),s.lanes=u,s}function Od(s,o,u,f){return s=ir(22,s,f,o),s.elementType=we,s.lanes=u,s.stateNode={isHidden:!1},s}function Gm(s,o,u){return s=ir(6,s,null,o),s.lanes=u,s}function Km(s,o,u){return o=ir(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function kk(s,o,u,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=us(0),this.expirationTimes=us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ym(s,o,u,f,g,w,T,V,$){return s=new kk(s,o,u,V,$),o===1?(o=1,w===!0&&(o|=8)):o=0,w=ir(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},lm(w),s}function Ik(s,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:s,containerInfo:o,implementation:u}}function Fv(s){if(!s)return ws;s=s._reactInternals;e:{if(pr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(An(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(An(u))return fy(s,u,o)}return o}function Uv(s,o,u,f,g,w,T,V,$){return s=Ym(u,f,!0,s,g,w,T,V,$),s.context=Fv(null),u=s.current,f=_n(),g=Is(u),w=Si(f,g),w.callback=o??null,Es(u,w,g),s.current.lanes=g,cs(s,g,f),Mn(s,f),s}function Md(s,o,u,f){var g=o.current,w=_n(),T=Is(g);return u=Fv(u),o.context===null?o.context=u:o.pendingContext=u,o=Si(w,T),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Es(g,o,T),s!==null&&(Sr(s,g,T,w),hd(s,g,T)),T}function jd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function $v(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Qm(s,o){$v(s,o),(s=s.alternate)&&$v(s,o)}var Bv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Xm(s){this._internalRoot=s}Ld.prototype.render=Xm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Md(s,o,null,null)},Ld.prototype.unmount=Xm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Po(function(){Md(null,s,null,null)}),o[Ei]=null}};function Ld(s){this._internalRoot=s}Ld.prototype.unstable_scheduleHydration=function(s){if(s){var o=Lc();s={blockedOn:null,target:s,priority:o};for(var u=0;u<qr.length&&o!==0&&o<qr[u].priority;u++);qr.splice(u,0,s),u===0&&Uc(s)}};function Jm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Vd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function zv(){}function Sk(s,o,u,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var K=jd(T);w.call(K)}}var T=Uv(o,f,s,0,null,!1,!1,"",zv);return s._reactRootContainer=T,s[Ei]=T.current,Xl(s.nodeType===8?s.parentNode:s),Po(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var V=f;f=function(){var K=jd($);V.call(K)}}var $=Ym(s,0,!1,null,null,!1,!1,"",zv);return s._reactRootContainer=$,s[Ei]=$.current,Xl(s.nodeType===8?s.parentNode:s),Po(function(){Md(o,$,u,f)}),$}function Fd(s,o,u,f,g){var w=u._reactRootContainer;if(w){var T=w;if(typeof g=="function"){var V=g;g=function(){var $=jd(T);V.call($)}}Md(o,T,s,g)}else T=Sk(u,o,s,g,f);return jd(T)}Mc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=ls(o.pendingLanes);u!==0&&(ds(o,u|1),Mn(o,at()),!(Ke&6)&&(Ga=at()+500,_s()))}break;case 13:Po(function(){var f=Ii(s,1);if(f!==null){var g=_n();Sr(f,s,1,g)}}),Qm(s,1)}},va=function(s){if(s.tag===13){var o=Ii(s,134217728);if(o!==null){var u=_n();Sr(o,s,134217728,u)}Qm(s,134217728)}},jc=function(s){if(s.tag===13){var o=Is(s),u=Ii(s,o);if(u!==null){var f=_n();Sr(u,s,o,f)}Qm(s,o)}},Lc=function(){return We},Vc=function(s,o){var u=We;try{return We=s,o()}finally{We=u}},$e=function(s,o,u){switch(o){case"input":if(ns(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var g=nd(f);if(!g)throw Error(n(90));es(f),ns(f,g)}}}break;case"textarea":ss(s,u);break;case"select":o=u.value,o!=null&&dr(s,!!u.multiple,o,!1)}},co=zm,Al=Po;var Ck={usingClientEntryPoint:!1,Events:[eu,Oa,nd,Cn,pi,zm]},mu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rk={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ml(s),s===null?null:s.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{go=Ud.inject(Rk),Fn=Ud}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck,jn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jm(o))throw Error(n(200));return Ik(s,o,null,u)},jn.createRoot=function(s,o){if(!Jm(s))throw Error(n(299));var u=!1,f="",g=Bv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Ym(s,1,!1,null,null,u,!1,f,g),s[Ei]=o.current,Xl(s.nodeType===8?s.parentNode:s),new Xm(o)},jn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ml(o),s=s===null?null:s.stateNode,s},jn.flushSync=function(s){return Po(s)},jn.hydrate=function(s,o,u){if(!Vd(o))throw Error(n(200));return Fd(null,s,o,!0,u)},jn.hydrateRoot=function(s,o,u){if(!Jm(s))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,g=!1,w="",T=Bv;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=Uv(o,null,s,1,u??null,g,!1,w,T),s[Ei]=o.current,Xl(s),f)for(s=0;s<f.length;s++)u=f[s],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new Ld(o)},jn.render=function(s,o,u){if(!Vd(o))throw Error(n(200));return Fd(null,s,o,!1,u)},jn.unmountComponentAtNode=function(s){if(!Vd(s))throw Error(n(40));return s._reactRootContainer?(Po(function(){Fd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ei]=null})}),!0):!1},jn.unstable_batchedUpdates=zm,jn.unstable_renderSubtreeIntoContainer=function(s,o,u,f){if(!Vd(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Fd(s,o,u,!1,f)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var Jv;function u_(){if(Jv)return tp.exports;Jv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tp.exports=Lk(),tp.exports}var Zv;function Vk(){if(Zv)return $d;Zv=1;var t=u_();return $d.createRoot=t.createRoot,$d.hydrateRoot=t.hydrateRoot,$d}var Fk=Vk(),gu={},ew;function Uk(){if(ew)return gu;ew=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.parse=l,gu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,k){const I=new a,P=b.length;if(P<2)return I;const S=(k==null?void 0:k.decode)||y;let A=0;do{const R=b.indexOf("=",A);if(R===-1)break;const B=b.indexOf(";",A),q=B===-1?P:B;if(R>q){A=b.lastIndexOf(";",R-1)+1;continue}const oe=c(b,A,R),J=h(b,R,oe),j=b.slice(oe,J);if(I[j]===void 0){let N=c(b,R+1,q),O=h(b,q,N);const L=S(b.slice(N,O));I[j]=L}A=q+1}while(A<P);return I}function c(b,k,I){do{const P=b.charCodeAt(k);if(P!==32&&P!==9)return k}while(++k<I);return I}function h(b,k,I){for(;k>I;){const P=b.charCodeAt(--k);if(P!==32&&P!==9)return k+1}return I}function p(b,k,I){const P=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const S=P(k);if(!e.test(S))throw new TypeError(`argument val is invalid: ${k}`);let A=b+"="+S;if(!I)return A;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);A+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);A+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);A+="; Path="+I.path}if(I.expires){if(!_(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);A+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(A+="; HttpOnly"),I.secure&&(A+="; Secure"),I.partitioned&&(A+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return A}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return i.call(b)==="[object Date]"}return gu}Uk();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tw="popstate";function $k(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Sp("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bu(i)}return zk(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bk(){return Math.random().toString(36).substring(2,10)}function nw(t,e){return{usr:t.state,key:t.key,idx:e}}function Sp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wl(e):e,state:n,key:e&&e.key||r||Bk()}}function Bu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zk(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",h=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function _(){c="POP";let S=y(),A=S==null?null:S-p;p=S,h&&h({action:c,location:P.location,delta:A})}function b(S,A){c="PUSH";let R=Sp(P.location,S,A);p=y()+1;let B=nw(R,p),q=P.createHref(R);try{l.pushState(B,"",q)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;i.location.assign(q)}a&&h&&h({action:c,location:P.location,delta:1})}function k(S,A){c="REPLACE";let R=Sp(P.location,S,A);p=y();let B=nw(R,p),q=P.createHref(R);l.replaceState(B,"",q),a&&h&&h({action:c,location:P.location,delta:0})}function I(S){let A=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof S=="string"?S:Bu(S);return R=R.replace(/ $/,"%20"),wt(A,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,A)}let P={get action(){return c},get location(){return t(i,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(tw,_),h=S,()=>{i.removeEventListener(tw,_),h=null}},createHref(S){return e(i,S)},createURL:I,encodeLocation(S){let A=I(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:k,go(S){return l.go(S)}};return P}function c_(t,e,n="/"){return Wk(t,e,n,!1)}function Wk(t,e,n,r){let i=typeof e=="string"?wl(e):e,a=qs(i.pathname||"/",n);if(a==null)return null;let l=d_(t);Hk(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=nI(a);c=eI(l[h],p,r)}return c}function d_(t,e=[],n=[],r=""){let i=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(wt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=$i([r,h.relativePath]),y=n.concat(h);a.children&&a.children.length>0&&(wt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),d_(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Jk(p,a.index),routesMeta:y})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let h of h_(a.path))i(a,l,h)}),e}function h_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=h_(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function Hk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Zk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qk=/^:[\w-]+$/,Gk=3,Kk=2,Yk=1,Qk=10,Xk=-2,rw=t=>t==="*";function Jk(t,e){let n=t.split("/"),r=n.length;return n.some(rw)&&(r+=Xk),e&&(r+=Kk),n.filter(i=>!rw(i)).reduce((i,a)=>i+(qk.test(a)?Gk:a===""?Yk:Qk),r)}function Zk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eI(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=vh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),b=h.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=vh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:$i([a,_.pathname]),pathnameBase:oI($i([a,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(a=$i([a,_.pathnameBase]))}return l}function vh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let I=c[b]||"";l=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const k=c[b];return _&&!k?p[y]=void 0:p[y]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function tI(t,e=!1,n=!0){Lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rI(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wl(t):t;return{pathname:n?n.startsWith("/")?n:iI(n,e):e,search:aI(r),hash:lI(i)}}function iI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ip(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vg(t){let e=sI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function wg(t,e,n,r=!1){let i;typeof t=="string"?i=wl(t):(i={...t},wt(!i.pathname||!i.pathname.includes("?"),ip("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),ip("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),ip("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),_-=1;i.pathname=b.join("/")}c=_>=0?e[_]:"/"}let h=rI(i,c),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var $i=t=>t.join("/").replace(/\/\/+/g,"/"),oI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var f_=["POST","PUT","PATCH","DELETE"];new Set(f_);var cI=["GET",...f_];new Set(cI);var _l=x.createContext(null);_l.displayName="DataRouter";var $h=x.createContext(null);$h.displayName="DataRouterState";var m_=x.createContext({isTransitioning:!1});m_.displayName="ViewTransition";var dI=x.createContext(new Map);dI.displayName="Fetchers";var hI=x.createContext(null);hI.displayName="Await";var Ur=x.createContext(null);Ur.displayName="Navigation";var ic=x.createContext(null);ic.displayName="Location";var $r=x.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var _g=x.createContext(null);_g.displayName="RouteError";function fI(t,{relative:e}={}){wt(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Ur),{hash:i,pathname:a,search:l}=sc(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:$i([n,a])),r.createHref({pathname:c,search:l,hash:i})}function xl(){return x.useContext(ic)!=null}function di(){return wt(xl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(ic).location}var p_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g_(t){x.useContext(Ur).static||x.useLayoutEffect(t)}function ia(){let{isDataRoute:t}=x.useContext($r);return t?SI():mI()}function mI(){wt(xl(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(_l),{basename:e,navigator:n}=x.useContext(Ur),{matches:r}=x.useContext($r),{pathname:i}=di(),a=JSON.stringify(vg(r)),l=x.useRef(!1);return g_(()=>{l.current=!0}),x.useCallback((h,p={})=>{if(Lr(l.current,p_),!l.current)return;if(typeof h=="number"){n.go(h);return}let y=wg(h,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:$i([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,a,i,t])}x.createContext(null);function pI(){let{matches:t}=x.useContext($r),e=t[t.length-1];return e?e.params:{}}function sc(t,{relative:e}={}){let{matches:n}=x.useContext($r),{pathname:r}=di(),i=JSON.stringify(vg(n));return x.useMemo(()=>wg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function gI(t,e){return y_(t,e)}function y_(t,e,n,r){var A;wt(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Ur),{matches:a}=x.useContext($r),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",y=l&&l.route;{let R=y&&y.path||"";v_(h,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let _=di(),b;if(e){let R=typeof e=="string"?wl(e):e;wt(p==="/"||((A=R.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),b=R}else b=_;let k=b.pathname||"/",I=k;if(p!=="/"){let R=p.replace(/^\//,"").split("/");I="/"+k.replace(/^\//,"").split("/").slice(R.length).join("/")}let P=c_(t,{pathname:I});Lr(y||P!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Lr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=xI(P&&P.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:$i([p,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:$i([p,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,n,r);return e&&S?x.createElement(ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function yI(){let t=II(),e=uI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,l)}var vI=x.createElement(yI,null),wI=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement($r.Provider,{value:this.props.routeContext},x.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _I({routeContext:t,match:e,children:n}){let r=x.useContext(_l);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement($r.Provider,{value:t},n)}function xI(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:y,errors:_}=n,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,y)=>{let _,b=!1,k=null,I=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,k=p.route.errorElement||vI,l&&(c<0&&y===0?(v_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,I=null):c===y&&(b=!0,I=p.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,y+1)),S=()=>{let A;return _?A=k:b?A=I:p.route.Component?A=x.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,x.createElement(_I,{match:p,routeContext:{outlet:h,matches:P,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?x.createElement(wI,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:S(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):S()},null)}function xg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EI(t){let e=x.useContext(_l);return wt(e,xg(t)),e}function bI(t){let e=x.useContext($h);return wt(e,xg(t)),e}function TI(t){let e=x.useContext($r);return wt(e,xg(t)),e}function Eg(t){let e=TI(t),n=e.matches[e.matches.length-1];return wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kI(){return Eg("useRouteId")}function II(){var r;let t=x.useContext(_g),e=bI("useRouteError"),n=Eg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function SI(){let{router:t}=EI("useNavigate"),e=Eg("useNavigate"),n=x.useRef(!1);return g_(()=>{n.current=!0}),x.useCallback(async(i,a={})=>{Lr(n.current,p_),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var iw={};function v_(t,e,n){!e&&!iw[t]&&(iw[t]=!0,Lr(!1,n))}x.memo(CI);function CI({routes:t,future:e,state:n}){return y_(t,void 0,n,e)}function w_({to:t,replace:e,state:n,relative:r}){wt(xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Ur);Lr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=x.useContext($r),{pathname:l}=di(),c=ia(),h=wg(t,vg(a),l,r==="path"),p=JSON.stringify(h);return x.useEffect(()=>{c(JSON.parse(p),{replace:e,state:n,relative:r})},[c,p,r,e,n]),null}function Cr(t){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){wt(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=wl(n));let{pathname:h="/",search:p="",hash:y="",state:_=null,key:b="default"}=n,k=x.useMemo(()=>{let I=qs(h,l);return I==null?null:{location:{pathname:I,search:p,hash:y,state:_,key:b},navigationType:r}},[l,h,p,y,_,b,r]);return Lr(k!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:x.createElement(Ur.Provider,{value:c},x.createElement(ic.Provider,{children:e,value:k}))}function NI({children:t,location:e}){return gI(Cp(t),e)}function Cp(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let a=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Cp(r.props.children,a));return}wt(r.type===Cr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Cp(r.props.children,a)),n.push(l)}),n}var nh="get",rh="application/x-www-form-urlencoded";function Bh(t){return t!=null&&typeof t.tagName=="string"}function PI(t){return Bh(t)&&t.tagName.toLowerCase()==="button"}function AI(t){return Bh(t)&&t.tagName.toLowerCase()==="form"}function DI(t){return Bh(t)&&t.tagName.toLowerCase()==="input"}function OI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MI(t,e){return t.button===0&&(!e||e==="_self")&&!OI(t)}var Bd=null;function jI(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var LI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sp(t){return t!=null&&!LI.has(t)?(Lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):t}function VI(t,e){let n,r,i,a,l;if(AI(t)){let c=t.getAttribute("action");r=c?qs(c,e):null,n=t.getAttribute("method")||nh,i=sp(t.getAttribute("enctype"))||rh,a=new FormData(t)}else if(PI(t)||DI(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?qs(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||nh,i=sp(t.getAttribute("formenctype"))||sp(c.getAttribute("enctype"))||rh,a=new FormData(c,t),!jI()){let{name:p,type:y,value:_}=t;if(y==="image"){let b=p?`${p}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else p&&a.append(p,_)}}else{if(Bh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,r=null,i=rh,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}function bg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function FI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $I(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await FI(a,n);return l.links?l.links():[]}return[]}));return HI(r.flat(1).filter(UI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sw(t,e,n,r,i,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>{var y;return n[p].pathname!==h.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var _;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function BI(t,e){return zI(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function zI(t){return[...new Set(t)]}function WI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function HI(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(WI(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function qI(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function GI(){let t=x.useContext(_l);return bg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function KI(){let t=x.useContext($h);return bg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tg=x.createContext(void 0);Tg.displayName="FrameworkContext";function __(){let t=x.useContext(Tg);return bg(t,"You must render this element inside a <HydratedRouter> element"),t}function YI(t,e){let n=x.useContext(Tg),[r,i]=x.useState(!1),[a,l]=x.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,b=x.useRef(null);x.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=A=>{A.forEach(R=>{l(R.isIntersecting)})},S=new IntersectionObserver(P,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),x.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let k=()=>{i(!0)},I=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:yu(c,k),onBlur:yu(h,I),onMouseEnter:yu(p,k),onMouseLeave:yu(y,I),onTouchStart:yu(_,k)}]:[!1,b,{}]}function yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QI({page:t,...e}){let{router:n}=GI(),r=x.useMemo(()=>c_(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(JI,{page:t,matches:r,...e}):null}function XI(t){let{manifest:e,routeModules:n}=__(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return $I(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function JI({page:t,matches:e,...n}){let r=di(),{manifest:i,routeModules:a}=__(),{loaderData:l,matches:c}=KI(),h=x.useMemo(()=>sw(t,e,c,i,r,"data"),[t,e,c,i,r]),p=x.useMemo(()=>sw(t,e,c,i,r,"assets"),[t,e,c,i,r]),y=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,I=!1;if(e.forEach(S=>{var R;let A=i.routes[S.route.id];!A||!A.hasLoader||(!h.some(B=>B.route.id===S.route.id)&&S.route.id in l&&((R=a[S.route.id])!=null&&R.shouldRevalidate)||A.hasClientLoader?I=!0:k.add(S.route.id))}),k.size===0)return[];let P=qI(t);return I&&k.size>0&&P.searchParams.set("_routes",e.filter(S=>k.has(S.route.id)).map(S=>S.route.id).join(",")),[P.pathname+P.search]},[l,r,i,h,e,t,a]),_=x.useMemo(()=>BI(p,i),[p,i]),b=XI(p);return x.createElement(x.Fragment,null,y.map(k=>x.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),_.map(k=>x.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),b.map(({key:k,link:I})=>x.createElement("link",{key:k,...I})))}function ZI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var x_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x_&&(window.__reactRouterVersion="7.1.1")}catch{}function eS({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=$k({window:n,v5Compat:!0}));let i=r.current,[a,l]=x.useState({action:i.action,location:i.location}),c=x.useCallback(h=>{x.startTransition(()=>l(h))},[l]);return x.useLayoutEffect(()=>i.listen(c),[i,c]),x.createElement(RI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var E_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:y,viewTransition:_,...b},k){let{basename:I}=x.useContext(Ur),P=typeof p=="string"&&E_.test(p),S,A=!1;if(typeof p=="string"&&P&&(S=p,x_))try{let O=new URL(window.location.href),L=p.startsWith("//")?new URL(O.protocol+p):new URL(p),D=qs(L.pathname,I);L.origin===O.origin&&D!=null?p=D+L.search+L.hash:A=!0}catch{Lr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=fI(p,{relative:i}),[B,q,oe]=YI(r,b),J=iS(p,{replace:l,state:c,target:h,preventScrollReset:y,relative:i,viewTransition:_});function j(O){e&&e(O),O.defaultPrevented||J(O)}let N=x.createElement("a",{...b,...oe,href:S||R,onClick:A||a?e:j,ref:ZI(k,q),target:h,"data-discover":!P&&n==="render"?"true":void 0});return B&&!P?x.createElement(x.Fragment,null,N,x.createElement(QI,{page:R})):N});Ye.displayName="Link";var tS=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:h,...p},y){let _=sc(l,{relative:p.relative}),b=di(),k=x.useContext($h),{navigator:I,basename:P}=x.useContext(Ur),S=k!=null&&uS(_)&&c===!0,A=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,R=b.pathname,B=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(R=R.toLowerCase(),B=B?B.toLowerCase():null,A=A.toLowerCase()),B&&P&&(B=qs(B,P)||B);const q=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let oe=R===A||!i&&R.startsWith(A)&&R.charAt(q)==="/",J=B!=null&&(B===A||!i&&B.startsWith(A)&&B.charAt(A.length)==="/"),j={isActive:oe,isPending:J,isTransitioning:S},N=oe?e:void 0,O;typeof r=="function"?O=r(j):O=[r,oe?"active":null,J?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(j):a;return x.createElement(Ye,{...p,"aria-current":N,className:O,ref:y,style:L,to:l,viewTransition:c},typeof h=="function"?h(j):h)});tS.displayName="NavLink";var nS=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=nh,action:c,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:_,...b},k)=>{let I=aS(),P=lS(c,{relative:p}),S=l.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&E_.test(c),R=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,oe=(q==null?void 0:q.getAttribute("formmethod"))||l;I(q||B.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:i,state:a,relative:p,preventScrollReset:y,viewTransition:_})};return x.createElement("form",{ref:k,method:S,action:P,onSubmit:r?h:R,...b,"data-discover":!A&&t==="render"?"true":void 0})});nS.displayName="Form";function rS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b_(t){let e=x.useContext(_l);return wt(e,rS(t)),e}function iS(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=ia(),h=di(),p=sc(t,{relative:a});return x.useCallback(y=>{if(MI(y,e)){y.preventDefault();let _=n!==void 0?n:Bu(h)===Bu(p);c(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,p,n,r,e,t,i,a,l])}var sS=0,oS=()=>`__${String(++sS)}__`;function aS(){let{router:t}=b_("useSubmit"),{basename:e}=x.useContext(Ur),n=kI();return x.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=VI(r,e);if(i.navigate===!1){let y=i.fetcherKey||oS();await t.fetch(y,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function lS(t,{relative:e}={}){let{basename:n}=x.useContext(Ur),r=x.useContext($r);wt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...sc(t||".",{relative:e})},l=di();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(y=>y==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let y=c.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:$i([n,a.pathname])),Bu(a)}function uS(t,e={}){let n=x.useContext(m_);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b_("useViewTransitionState"),i=sc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=qs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=qs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vh(i.pathname,l)!=null||vh(i.pathname,a)!=null}new TextEncoder;var cS=u_(),ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},k_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,y=a>>2,_=(a&3)<<4|c>>4;let b=(c&15)<<2|p>>6,k=p&63;h||(k=64,l||(b=64)),r.push(n[y],n[_],n[b],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new hS;const b=a<<2|c>>4;if(r.push(b),p!==64){const k=c<<4&240|p>>2;if(r.push(k),_!==64){const I=p<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(t){const e=T_(t);return k_.encodeByteArray(e,!0)},wh=function(t){return fS(t).replace(/\./g,"")},I_=function(t){try{return k_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=()=>mS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof ow>"u")return;const t=ow.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I_(t[1]);return e&&JSON.parse(e)},zh=()=>{try{return pS()||gS()||yS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S_=t=>{var e,n;return(n=(e=zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},C_=t=>{const e=S_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},R_=()=>{var t;return(t=zh())===null||t===void 0?void 0:t.config},N_=t=>{var e;return(e=zh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wh(JSON.stringify(n)),wh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function _S(){var t;const e=(t=zh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ES(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kS(){return!_S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CS,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?RS(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new hi(i,c,r)}}function RS(t,e){return t.replace(NS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NS=/\{\$([^}]+)}/g;function PS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _h(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(aw(a)&&aw(l)){if(!_h(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AS(t,e){const n=new DS(t,e);return n.subscribe.bind(n)}class DS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OS(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=op),i.error===void 0&&(i.error=op),i.complete===void 0&&(i.complete=op);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LS(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jS(t){return t===jo?void 0:t}function LS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const FS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},US=Be.INFO,$S={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},BS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$S[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=US,this._logHandler=BS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const zS=(t,e)=>e.some(n=>t instanceof n);let lw,uw;function WS(){return lw||(lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HS(){return uw||(uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A_=new WeakMap,Rp=new WeakMap,D_=new WeakMap,ap=new WeakMap,Ig=new WeakMap;function qS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(zs(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&A_.set(n,t)}).catch(()=>{}),Ig.set(e,t),e}function GS(t){if(Rp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Rp.set(t,e)}let Np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KS(t){Np=t(Np)}function YS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lp(this),e,...n);return D_.set(r,e.sort?e.sort():[e]),zs(r)}:HS().includes(t)?function(...e){return t.apply(lp(this),e),zs(A_.get(this))}:function(...e){return zs(t.apply(lp(this),e))}}function QS(t){return typeof t=="function"?YS(t):(t instanceof IDBTransaction&&GS(t),zS(t,WS())?new Proxy(t,Np):t)}function zs(t){if(t instanceof IDBRequest)return qS(t);if(ap.has(t))return ap.get(t);const e=QS(t);return e!==t&&(ap.set(t,e),Ig.set(e,t)),e}const lp=t=>Ig.get(t);function XS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=zs(l);return r&&l.addEventListener("upgradeneeded",h=>{r(zs(l.result),h.oldVersion,h.newVersion,zs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const JS=["get","getKey","getAll","getAllKeys","count"],ZS=["put","add","delete","clear"],up=new Map;function cw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JS.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&h.done]))[0]};return up.set(e,a),a}KS(t=>({...t,get:(e,n,r)=>cw(e,n)||t.get(e,n,r),has:(e,n)=>!!cw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pp="@firebase/app",dw="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new kg("@firebase/app"),nC="@firebase/app-compat",rC="@firebase/analytics-compat",iC="@firebase/analytics",sC="@firebase/app-check-compat",oC="@firebase/app-check",aC="@firebase/auth",lC="@firebase/auth-compat",uC="@firebase/database",cC="@firebase/data-connect",dC="@firebase/database-compat",hC="@firebase/functions",fC="@firebase/functions-compat",mC="@firebase/installations",pC="@firebase/installations-compat",gC="@firebase/messaging",yC="@firebase/messaging-compat",vC="@firebase/performance",wC="@firebase/performance-compat",_C="@firebase/remote-config",xC="@firebase/remote-config-compat",EC="@firebase/storage",bC="@firebase/storage-compat",TC="@firebase/firestore",kC="@firebase/vertexai",IC="@firebase/firestore-compat",SC="firebase",CC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",RC={[Pp]:"fire-core",[nC]:"fire-core-compat",[iC]:"fire-analytics",[rC]:"fire-analytics-compat",[oC]:"fire-app-check",[sC]:"fire-app-check-compat",[aC]:"fire-auth",[lC]:"fire-auth-compat",[uC]:"fire-rtdb",[cC]:"fire-data-connect",[dC]:"fire-rtdb-compat",[hC]:"fire-fn",[fC]:"fire-fn-compat",[mC]:"fire-iid",[pC]:"fire-iid-compat",[gC]:"fire-fcm",[yC]:"fire-fcm-compat",[vC]:"fire-perf",[wC]:"fire-perf-compat",[_C]:"fire-rc",[xC]:"fire-rc-compat",[EC]:"fire-gcs",[bC]:"fire-gcs-compat",[TC]:"fire-fst",[IC]:"fire-fst-compat",[kC]:"fire-vertex","fire-js":"fire-js",[SC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,NC=new Map,Dp=new Map;function hw(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jo(t){const e=t.name;if(Dp.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,t);for(const n of xh.values())hw(n,t);for(const n of NC.values())hw(n,t);return!0}function Wh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new oc("app","Firebase",PC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=CC;function O_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ap,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ws.create("bad-app-name",{appName:String(i)});if(n||(n=R_()),!n)throw Ws.create("no-options");const a=xh.get(i);if(a){if(_h(n,a.options)&&_h(r,a.config))return a;throw Ws.create("duplicate-app",{appName:i})}const l=new VS(i);for(const h of Dp.values())l.addComponent(h);const c=new AC(n,r,l);return xh.set(i,c),c}function Sg(t=Ap){const e=xh.get(t);if(!e&&t===Ap&&R_())return O_();if(!e)throw Ws.create("no-app",{appName:t});return e}function oi(t,e,n){var r;let i=(r=RC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(c.join(" "));return}Jo(new Gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firebase-heartbeat-database",OC=1,zu="firebase-heartbeat-store";let cp=null;function M_(){return cp||(cp=XS(DC,OC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),cp}async function MC(t){try{const n=(await M_()).transaction(zu),r=await n.objectStore(zu).get(j_(t));return await n.done,r}catch(e){if(e instanceof hi)qi.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function fw(t,e){try{const r=(await M_()).transaction(zu,"readwrite");await r.objectStore(zu).put(e,j_(t)),await r.done}catch(n){if(n instanceof hi)qi.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function j_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=1024,LC=30*24*60*60*1e3;class VC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=mw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=LC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mw(),{heartbeatsToSend:r,unsentEntries:i}=FC(this._heartbeatsCache.heartbeats),a=wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return qi.warn(n),""}}}function mw(){return new Date().toISOString().substring(0,10)}function FC(t,e=jC){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),pw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pw(t){return wh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){Jo(new Gs("platform-logger",e=>new eC(e),"PRIVATE")),Jo(new Gs("heartbeat",e=>new VC(e),"PRIVATE")),oi(Pp,dw,t),oi(Pp,dw,"esm2017"),oi("fire-js","")}$C("");var gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yo,L_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,N){function O(){}O.prototype=N.prototype,j.D=N.prototype,j.prototype=new O,j.prototype.constructor=j,j.C=function(L,D,F){for(var M=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)M[pe-2]=arguments[pe];return N.prototype[D].apply(L,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,N,O){O||(O=0);var L=Array(16);if(typeof N=="string")for(var D=0;16>D;++D)L[D]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(D=0;16>D;++D)L[D]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=j.g[0],O=j.g[1],D=j.g[2];var F=j.g[3],M=N+(F^O&(D^F))+L[0]+3614090360&4294967295;N=O+(M<<7&4294967295|M>>>25),M=F+(D^N&(O^D))+L[1]+3905402710&4294967295,F=N+(M<<12&4294967295|M>>>20),M=D+(O^F&(N^O))+L[2]+606105819&4294967295,D=F+(M<<17&4294967295|M>>>15),M=O+(N^D&(F^N))+L[3]+3250441966&4294967295,O=D+(M<<22&4294967295|M>>>10),M=N+(F^O&(D^F))+L[4]+4118548399&4294967295,N=O+(M<<7&4294967295|M>>>25),M=F+(D^N&(O^D))+L[5]+1200080426&4294967295,F=N+(M<<12&4294967295|M>>>20),M=D+(O^F&(N^O))+L[6]+2821735955&4294967295,D=F+(M<<17&4294967295|M>>>15),M=O+(N^D&(F^N))+L[7]+4249261313&4294967295,O=D+(M<<22&4294967295|M>>>10),M=N+(F^O&(D^F))+L[8]+1770035416&4294967295,N=O+(M<<7&4294967295|M>>>25),M=F+(D^N&(O^D))+L[9]+2336552879&4294967295,F=N+(M<<12&4294967295|M>>>20),M=D+(O^F&(N^O))+L[10]+4294925233&4294967295,D=F+(M<<17&4294967295|M>>>15),M=O+(N^D&(F^N))+L[11]+2304563134&4294967295,O=D+(M<<22&4294967295|M>>>10),M=N+(F^O&(D^F))+L[12]+1804603682&4294967295,N=O+(M<<7&4294967295|M>>>25),M=F+(D^N&(O^D))+L[13]+4254626195&4294967295,F=N+(M<<12&4294967295|M>>>20),M=D+(O^F&(N^O))+L[14]+2792965006&4294967295,D=F+(M<<17&4294967295|M>>>15),M=O+(N^D&(F^N))+L[15]+1236535329&4294967295,O=D+(M<<22&4294967295|M>>>10),M=N+(D^F&(O^D))+L[1]+4129170786&4294967295,N=O+(M<<5&4294967295|M>>>27),M=F+(O^D&(N^O))+L[6]+3225465664&4294967295,F=N+(M<<9&4294967295|M>>>23),M=D+(N^O&(F^N))+L[11]+643717713&4294967295,D=F+(M<<14&4294967295|M>>>18),M=O+(F^N&(D^F))+L[0]+3921069994&4294967295,O=D+(M<<20&4294967295|M>>>12),M=N+(D^F&(O^D))+L[5]+3593408605&4294967295,N=O+(M<<5&4294967295|M>>>27),M=F+(O^D&(N^O))+L[10]+38016083&4294967295,F=N+(M<<9&4294967295|M>>>23),M=D+(N^O&(F^N))+L[15]+3634488961&4294967295,D=F+(M<<14&4294967295|M>>>18),M=O+(F^N&(D^F))+L[4]+3889429448&4294967295,O=D+(M<<20&4294967295|M>>>12),M=N+(D^F&(O^D))+L[9]+568446438&4294967295,N=O+(M<<5&4294967295|M>>>27),M=F+(O^D&(N^O))+L[14]+3275163606&4294967295,F=N+(M<<9&4294967295|M>>>23),M=D+(N^O&(F^N))+L[3]+4107603335&4294967295,D=F+(M<<14&4294967295|M>>>18),M=O+(F^N&(D^F))+L[8]+1163531501&4294967295,O=D+(M<<20&4294967295|M>>>12),M=N+(D^F&(O^D))+L[13]+2850285829&4294967295,N=O+(M<<5&4294967295|M>>>27),M=F+(O^D&(N^O))+L[2]+4243563512&4294967295,F=N+(M<<9&4294967295|M>>>23),M=D+(N^O&(F^N))+L[7]+1735328473&4294967295,D=F+(M<<14&4294967295|M>>>18),M=O+(F^N&(D^F))+L[12]+2368359562&4294967295,O=D+(M<<20&4294967295|M>>>12),M=N+(O^D^F)+L[5]+4294588738&4294967295,N=O+(M<<4&4294967295|M>>>28),M=F+(N^O^D)+L[8]+2272392833&4294967295,F=N+(M<<11&4294967295|M>>>21),M=D+(F^N^O)+L[11]+1839030562&4294967295,D=F+(M<<16&4294967295|M>>>16),M=O+(D^F^N)+L[14]+4259657740&4294967295,O=D+(M<<23&4294967295|M>>>9),M=N+(O^D^F)+L[1]+2763975236&4294967295,N=O+(M<<4&4294967295|M>>>28),M=F+(N^O^D)+L[4]+1272893353&4294967295,F=N+(M<<11&4294967295|M>>>21),M=D+(F^N^O)+L[7]+4139469664&4294967295,D=F+(M<<16&4294967295|M>>>16),M=O+(D^F^N)+L[10]+3200236656&4294967295,O=D+(M<<23&4294967295|M>>>9),M=N+(O^D^F)+L[13]+681279174&4294967295,N=O+(M<<4&4294967295|M>>>28),M=F+(N^O^D)+L[0]+3936430074&4294967295,F=N+(M<<11&4294967295|M>>>21),M=D+(F^N^O)+L[3]+3572445317&4294967295,D=F+(M<<16&4294967295|M>>>16),M=O+(D^F^N)+L[6]+76029189&4294967295,O=D+(M<<23&4294967295|M>>>9),M=N+(O^D^F)+L[9]+3654602809&4294967295,N=O+(M<<4&4294967295|M>>>28),M=F+(N^O^D)+L[12]+3873151461&4294967295,F=N+(M<<11&4294967295|M>>>21),M=D+(F^N^O)+L[15]+530742520&4294967295,D=F+(M<<16&4294967295|M>>>16),M=O+(D^F^N)+L[2]+3299628645&4294967295,O=D+(M<<23&4294967295|M>>>9),M=N+(D^(O|~F))+L[0]+4096336452&4294967295,N=O+(M<<6&4294967295|M>>>26),M=F+(O^(N|~D))+L[7]+1126891415&4294967295,F=N+(M<<10&4294967295|M>>>22),M=D+(N^(F|~O))+L[14]+2878612391&4294967295,D=F+(M<<15&4294967295|M>>>17),M=O+(F^(D|~N))+L[5]+4237533241&4294967295,O=D+(M<<21&4294967295|M>>>11),M=N+(D^(O|~F))+L[12]+1700485571&4294967295,N=O+(M<<6&4294967295|M>>>26),M=F+(O^(N|~D))+L[3]+2399980690&4294967295,F=N+(M<<10&4294967295|M>>>22),M=D+(N^(F|~O))+L[10]+4293915773&4294967295,D=F+(M<<15&4294967295|M>>>17),M=O+(F^(D|~N))+L[1]+2240044497&4294967295,O=D+(M<<21&4294967295|M>>>11),M=N+(D^(O|~F))+L[8]+1873313359&4294967295,N=O+(M<<6&4294967295|M>>>26),M=F+(O^(N|~D))+L[15]+4264355552&4294967295,F=N+(M<<10&4294967295|M>>>22),M=D+(N^(F|~O))+L[6]+2734768916&4294967295,D=F+(M<<15&4294967295|M>>>17),M=O+(F^(D|~N))+L[13]+1309151649&4294967295,O=D+(M<<21&4294967295|M>>>11),M=N+(D^(O|~F))+L[4]+4149444226&4294967295,N=O+(M<<6&4294967295|M>>>26),M=F+(O^(N|~D))+L[11]+3174756917&4294967295,F=N+(M<<10&4294967295|M>>>22),M=D+(N^(F|~O))+L[2]+718787259&4294967295,D=F+(M<<15&4294967295|M>>>17),M=O+(F^(D|~N))+L[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,j.g[2]=j.g[2]+D&4294967295,j.g[3]=j.g[3]+F&4294967295}r.prototype.u=function(j,N){N===void 0&&(N=j.length);for(var O=N-this.blockSize,L=this.B,D=this.h,F=0;F<N;){if(D==0)for(;F<=O;)i(this,j,F),F+=this.blockSize;if(typeof j=="string"){for(;F<N;)if(L[D++]=j.charCodeAt(F++),D==this.blockSize){i(this,L),D=0;break}}else for(;F<N;)if(L[D++]=j[F++],D==this.blockSize){i(this,L),D=0;break}}this.h=D,this.o+=N},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;var O=8*this.o;for(N=j.length-8;N<j.length;++N)j[N]=O&255,O/=256;for(this.u(j),j=Array(16),N=O=0;4>N;++N)for(var L=0;32>L;L+=8)j[O++]=this.g[N]>>>L&255;return j};function a(j,N){var O=c;return Object.prototype.hasOwnProperty.call(O,j)?O[j]:O[j]=N(j)}function l(j,N){this.h=N;for(var O=[],L=!0,D=j.length-1;0<=D;D--){var F=j[D]|0;L&&F==N||(O[D]=F,L=!1)}this.g=O}var c={};function h(j){return-128<=j&&128>j?a(j,function(N){return new l([N|0],0>N?-1:0)}):new l([j|0],0>j?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return _;if(0>j)return S(p(-j));for(var N=[],O=1,L=0;j>=O;L++)N[L]=j/O|0,O*=4294967296;return new l(N,0)}function y(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return S(y(j.substring(1),N));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(N,8)),L=_,D=0;D<j.length;D+=8){var F=Math.min(8,j.length-D),M=parseInt(j.substring(D,D+F),N);8>F?(F=p(Math.pow(N,F)),L=L.j(F).add(p(M))):(L=L.j(O),L=L.add(p(M)))}return L}var _=h(0),b=h(1),k=h(16777216);t=l.prototype,t.m=function(){if(P(this))return-S(this).m();for(var j=0,N=1,O=0;O<this.g.length;O++){var L=this.i(O);j+=(0<=L?L:4294967296+L)*N,N*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(I(this))return"0";if(P(this))return"-"+S(this).toString(j);for(var N=p(Math.pow(j,6)),O=this,L="";;){var D=q(O,N).g;O=A(O,D.j(N));var F=((0<O.g.length?O.g[0]:O.h)>>>0).toString(j);if(O=D,I(O))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function I(j){if(j.h!=0)return!1;for(var N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function P(j){return j.h==-1}t.l=function(j){return j=A(this,j),P(j)?-1:I(j)?0:1};function S(j){for(var N=j.g.length,O=[],L=0;L<N;L++)O[L]=~j.g[L];return new l(O,~j.h).add(b)}t.abs=function(){return P(this)?S(this):this},t.add=function(j){for(var N=Math.max(this.g.length,j.g.length),O=[],L=0,D=0;D<=N;D++){var F=L+(this.i(D)&65535)+(j.i(D)&65535),M=(F>>>16)+(this.i(D)>>>16)+(j.i(D)>>>16);L=M>>>16,F&=65535,M&=65535,O[D]=M<<16|F}return new l(O,O[O.length-1]&-2147483648?-1:0)};function A(j,N){return j.add(S(N))}t.j=function(j){if(I(this)||I(j))return _;if(P(this))return P(j)?S(this).j(S(j)):S(S(this).j(j));if(P(j))return S(this.j(S(j)));if(0>this.l(k)&&0>j.l(k))return p(this.m()*j.m());for(var N=this.g.length+j.g.length,O=[],L=0;L<2*N;L++)O[L]=0;for(L=0;L<this.g.length;L++)for(var D=0;D<j.g.length;D++){var F=this.i(L)>>>16,M=this.i(L)&65535,pe=j.i(D)>>>16,De=j.i(D)&65535;O[2*L+2*D]+=M*De,R(O,2*L+2*D),O[2*L+2*D+1]+=F*De,R(O,2*L+2*D+1),O[2*L+2*D+1]+=M*pe,R(O,2*L+2*D+1),O[2*L+2*D+2]+=F*pe,R(O,2*L+2*D+2)}for(L=0;L<N;L++)O[L]=O[2*L+1]<<16|O[2*L];for(L=N;L<2*N;L++)O[L]=0;return new l(O,0)};function R(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function B(j,N){this.g=j,this.h=N}function q(j,N){if(I(N))throw Error("division by zero");if(I(j))return new B(_,_);if(P(j))return N=q(S(j),N),new B(S(N.g),S(N.h));if(P(N))return N=q(j,S(N)),new B(S(N.g),N.h);if(30<j.g.length){if(P(j)||P(N))throw Error("slowDivide_ only works with positive integers.");for(var O=b,L=N;0>=L.l(j);)O=oe(O),L=oe(L);var D=J(O,1),F=J(L,1);for(L=J(L,2),O=J(O,2);!I(L);){var M=F.add(L);0>=M.l(j)&&(D=D.add(O),F=M),L=J(L,1),O=J(O,1)}return N=A(j,D.j(N)),new B(D,N)}for(D=_;0<=j.l(N);){for(O=Math.max(1,Math.floor(j.m()/N.m())),L=Math.ceil(Math.log(O)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=p(O),M=F.j(N);P(M)||0<M.l(j);)O-=L,F=p(O),M=F.j(N);I(F)&&(F=b),D=D.add(F),j=A(j,M)}return new B(D,j)}t.A=function(j){return q(this,j).h},t.and=function(j){for(var N=Math.max(this.g.length,j.g.length),O=[],L=0;L<N;L++)O[L]=this.i(L)&j.i(L);return new l(O,this.h&j.h)},t.or=function(j){for(var N=Math.max(this.g.length,j.g.length),O=[],L=0;L<N;L++)O[L]=this.i(L)|j.i(L);return new l(O,this.h|j.h)},t.xor=function(j){for(var N=Math.max(this.g.length,j.g.length),O=[],L=0;L<N;L++)O[L]=this.i(L)^j.i(L);return new l(O,this.h^j.h)};function oe(j){for(var N=j.g.length+1,O=[],L=0;L<N;L++)O[L]=j.i(L)<<1|j.i(L-1)>>>31;return new l(O,j.h)}function J(j,N){var O=N>>5;N%=32;for(var L=j.g.length-O,D=[],F=0;F<L;F++)D[F]=0<N?j.i(F+O)>>>N|j.i(F+O+1)<<32-N:j.i(F+O);return new l(D,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,L_=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,Yo=l}).apply(typeof gw<"u"?gw:typeof self<"u"?self:typeof window<"u"?window:{});var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V_,ku,F_,ih,Op,U_,$_,B_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var E=r;d=d.split(".");for(var C=0;C<d.length-1;C++){var W=d[C];if(!(W in E))break e;E=E[W]}d=d[d.length-1],C=E[d],v=v(C),v!=C&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var E=0,C=!1,W={next:function(){if(!C&&E<d.length){var Y=E++;return{value:v(Y,d[Y]),done:!1}}return C=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(d){return d||function(){return a(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,E){return d.call.apply(d.bind,arguments)}function _(d,v,E){if(!d)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,C),d.apply(v,W)}}return function(){return d.apply(v,arguments)}}function b(d,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function k(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function I(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(C,W,Y){for(var ue=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ue[tt-2]=arguments[tt];return v.prototype[W].apply(C,ue)}}function P(d){const v=d.length;if(0<v){const E=Array(v);for(let C=0;C<v;C++)E[C]=d[C];return E}return[]}function S(d,v){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(h(C)){const W=d.length||0,Y=C.length||0;d.length=W+Y;for(let ue=0;ue<Y;ue++)d[W+ue]=C[ue]}else d.push(C)}}class A{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function R(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var oe=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function J(d,v,E){for(const C in d)v.call(E,d[C],C,d)}function j(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function N(d){const v={};for(const E in d)v[E]=d[E];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,v){let E,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(E in C)d[E]=C[E];for(let Y=0;Y<O.length;Y++)E=O[Y],Object.prototype.hasOwnProperty.call(C,E)&&(d[E]=C[E])}}function D(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function F(d){c.setTimeout(()=>{throw d},0)}function M(){var d=le;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class pe{constructor(){this.h=this.g=null}add(v,E){const C=De.get();C.set(v,E),this.h?this.h.next=C:this.g=C,this.h=C}}var De=new A(()=>new Fe,d=>d.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ie=!1,le=new pe,te=()=>{const d=c.Promise.resolve(void 0);we=()=>{d.then(U)}};var U=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(E){F(E)}var v=De;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ie=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return d}();function Ee(d,v){if(ce.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(oe){e:{try{q(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:_e[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ee.aa.h.call(this)}}I(Ee,ce);var _e={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Oe(d,v,E,C,W){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!C,this.ha=W,this.key=++Ne,this.da=this.fa=!1}function At(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ur(d){this.src=d,this.g={},this.h=0}ur.prototype.add=function(d,v,E,C,W){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ue=Br(d,v,C,W);return-1<ue?(v=d[ue],E||(v.fa=!1)):(v=new Oe(v,this.src,Y,!!C,W),v.fa=E,d.push(v)),v};function es(d,v){var E=v.type;if(E in d.g){var C=d.g[E],W=Array.prototype.indexOf.call(C,v,void 0),Y;(Y=0<=W)&&Array.prototype.splice.call(C,W,1),Y&&(At(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Br(d,v,E,C){for(var W=0;W<d.length;++W){var Y=d[W];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==C)return W}return-1}var fi="closure_lm_"+(1e6*Math.random()|0),ts={};function oo(d,v,E,C,W){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)oo(d,v[Y],E,C,W);return null}return E=lo(E),d&&d[je]?d.K(v,E,p(C)?!!C.capture:!!C,W):ns(d,v,E,!1,C,W)}function ns(d,v,E,C,W,Y){if(!v)throw Error("Invalid event type");var ue=p(W)?!!W.capture:!!W,tt=is(d);if(tt||(d[fi]=tt=new ur(d)),E=tt.add(v,E,C,ue,Y),E.proxy)return E;if(C=ca(),E.proxy=C,C.src=d,C.listener=E,d.addEventListener)ke||(W=ue),W===void 0&&(W=!1),d.addEventListener(v.toString(),C,W);else if(d.attachEvent)d.attachEvent(dr(v.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ca(){function d(E){return v.call(d.src,d.listener,E)}const v=ao;return d}function rs(d,v,E,C,W){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)rs(d,v[Y],E,C,W);else C=p(C)?!!C.capture:!!C,E=lo(E),d&&d[je]?(d=d.i,v=String(v).toString(),v in d.g&&(Y=d.g[v],E=Br(Y,E,C,W),-1<E&&(At(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete d.g[v],d.h--)))):d&&(d=is(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Br(v,E,C,W)),(E=-1<d?v[d]:null)&&cr(E))}function cr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[je])es(v.i,d);else{var E=d.type,C=d.proxy;v.removeEventListener?v.removeEventListener(E,C,d.capture):v.detachEvent?v.detachEvent(dr(E),C):v.addListener&&v.removeListener&&v.removeListener(C),(E=is(v))?(es(E,d),E.h==0&&(E.src=null,v[fi]=null)):At(d)}}}function dr(d){return d in ts?ts[d]:ts[d]="on"+d}function ao(d,v){if(d.da)d=!0;else{v=new Ee(v,this);var E=d.listener,C=d.ha||d.src;d.fa&&cr(d),d=E.call(C,v)}return d}function is(d){return d=d[fi],d instanceof ur?d:null}var ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(d){return typeof d=="function"?d:(d[ss]||(d[ss]=function(v){return d.handleEvent(v)}),d[ss])}function It(){Q.call(this),this.i=new ur(this),this.M=this,this.F=null}I(It,Q),It.prototype[je]=!0,It.prototype.removeEventListener=function(d,v,E,C){rs(this,d,v,E,C)};function St(d,v){var E,C=d.F;if(C)for(E=[];C;C=C.F)E.push(C);if(d=d.M,C=v.type||v,typeof v=="string")v=new ce(v,d);else if(v instanceof ce)v.target=v.target||d;else{var W=v;v=new ce(C,d),L(v,W)}if(W=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ue=v.g=E[Y];W=hr(ue,C,!0,v)&&W}if(ue=v.g=d,W=hr(ue,C,!0,v)&&W,W=hr(ue,C,!1,v)&&W,E)for(Y=0;Y<E.length;Y++)ue=v.g=E[Y],W=hr(ue,C,!1,v)&&W}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],C=0;C<E.length;C++)At(E[C]);delete d.g[v],d.h--}}this.F=null},It.prototype.K=function(d,v,E,C){return this.i.add(String(d),v,!1,E,C)},It.prototype.L=function(d,v,E,C){return this.i.add(String(d),v,!0,E,C)};function hr(d,v,E,C){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,Y=0;Y<v.length;++Y){var ue=v[Y];if(ue&&!ue.da&&ue.capture==E){var tt=ue.listener,Lt=ue.ha||ue.src;ue.fa&&es(d.i,ue),W=tt.call(Lt,C)!==!1&&W}}return W&&!C.defaultPrevented}function uo(d,v,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function zr(d){d.g=uo(()=>{d.g=null,d.i&&(d.i=!1,zr(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class mi extends Q{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(d){Q.call(this),this.h=d,this.g={}}I(Me,Q);var st=[];function Qe(d){J(d.g,function(v,E){this.g.hasOwnProperty(E)&&cr(v)},d),d.g={}}Me.prototype.N=function(){Me.aa.N.call(this),Qe(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=c.JSON.stringify,Xt=c.JSON.parse,Wr=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function pt(){}pt.prototype.h=null;function Jt(d){return d.h||(d.h=d.i())}function $e(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){ce.call(this,"d")}I(Yn,ce);function os(){ce.call(this,"c")}I(os,ce);var Cn={},pi=null;function co(){return pi=pi||new It}Cn.La="serverreachability";function Al(d){ce.call(this,Cn.La,d)}I(Al,ce);function gi(d){const v=co();St(v,new Al(v))}Cn.STAT_EVENT="statevent";function Dl(d,v){ce.call(this,Cn.STAT_EVENT,d),this.stat=v}I(Dl,ce);function Ct(d){const v=co();St(v,new Dl(v,d))}Cn.Ma="timingevent";function da(d,v){ce.call(this,Cn.Ma,d),this.size=v}I(da,ce);function fr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function ho(){this.g=!0}ho.prototype.xa=function(){this.g=!1};function fo(d,v,E,C,W,Y){d.info(function(){if(d.g)if(Y)for(var ue="",tt=Y.split("&"),Lt=0;Lt<tt.length;Lt++){var qe=tt[Lt].split("=");if(1<qe.length){var Ht=qe[0];qe=qe[1];var Dt=Ht.split("_");ue=2<=Dt.length&&Dt[1]=="type"?ue+(Ht+"="+qe+"&"):ue+(Ht+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+v+`
`+E+`
`+ue})}function ha(d,v,E,C,W,Y,ue){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+v+`
`+E+`
`+Y+" "+ue})}function mr(d,v,E,C){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sf(d,E)+(C?" "+C:"")})}function Ol(d,v){d.info(function(){return"TIMEOUT: "+v})}ho.prototype.info=function(){};function Sf(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var C=E[d];if(!(2>C.length)){var W=C[1];if(Array.isArray(W)&&!(1>W.length)){var Y=W[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<W.length;ue++)W[ue]=""}}}}return In(E)}catch{return v}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function mo(){}I(mo,pt),mo.prototype.g=function(){return new XMLHttpRequest},mo.prototype.i=function(){return{}},pr=new mo;function gr(d,v,E,C){this.j=d,this.i=v,this.l=E,this.R=C||1,this.U=new Me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cc}function Cc(){this.i=null,this.g="",this.h=!1}var Ml={},ma={};function pa(d,v,E){d.L=1,d.v=ds(Un(v)),d.m=E,d.P=!0,jl(d,null)}function jl(d,v){d.F=Date.now(),at(d),d.A=Un(d.v);var E=d.A,C=d.R;Array.isArray(C)||(C=[String(C)]),fs(E.i,"t",C),d.C=0,E=d.j.J,d.h=new Cc,d.g=qc(d.j,E?v:null,!d.m),0<d.O&&(d.M=new mi(b(d.Y,d,d.g),d.O)),v=d.U,E=d.g,C=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(st[0]=W.toString()),W=st);for(var Y=0;Y<W.length;Y++){var ue=oo(E,W[Y],C||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),gi(),fo(d.i,d.u,d.A,d.l,d.R,d.m)}gr.prototype.ca=function(d){d=d.target;const v=this.M;v&&Nn(d)==3?v.j():this.Y(d)},gr.prototype.Y=function(d){try{if(d==this.g)e:{const Dt=Nn(this.g);var v=this.g.Ba();const Jn=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Bl(this.g)))){this.J||Dt!=4||v==7||(v==8||0>=Jn?gi(3):gi(2)),po(this);var E=this.g.Z();this.X=E;t:if(Rc(this)){var C=Bl(this.g);d="";var W=C.length,Y=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),as(this);var ue="";break t}this.h.i=new c.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,d+=this.h.i.decode(C[v],{stream:!(Y&&v==W-1)});C.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,ha(this.i,this.u,this.A,this.l,this.R,Dt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Lt=this.g;if((tt=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(tt)){var qe=tt;break t}}qe=null}if(E=qe)mr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ll(this,E);else{this.o=!1,this.s=3,Ct(12),Qn(this),as(this);break e}}if(this.P){E=!0;let Bn;for(;!this.J&&this.C<ue.length;)if(Bn=Cf(this,ue),Bn==ma){Dt==4&&(this.s=4,Ct(14),E=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Ml){this.s=4,Ct(15),mr(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else mr(this.i,this.l,Bn,null),Ll(this,Bn);if(Rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ue.length!=0||this.h.h||(this.s=1,Ct(16),E=!1),this.o=this.o&&E,!E)mr(this.i,this.l,ue,"[Invalid Chunked Response]"),Qn(this),as(this);else if(0<ue.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Wl(Ht),Ht.M=!0,Ct(11))}}else mr(this.i,this.l,ue,null),Ll(this,ue);Dt==4&&Qn(this),this.o&&!this.J&&(Dt==4?Ia(this.j,this):(this.o=!1,at(this)))}else xa(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Qn(this),as(this)}}}catch{}finally{}};function Rc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Cf(d,v){var E=d.C,C=v.indexOf(`
`,E);return C==-1?ma:(E=Number(v.substring(E,C)),isNaN(E)?Ml:(C+=1,C+E>v.length?ma:(v=v.slice(C,C+E),d.C=C+E,v)))}gr.prototype.cancel=function(){this.J=!0,Qn(this)};function at(d){d.S=Date.now()+d.I,Nc(d,d.I)}function Nc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=fr(b(d.ba,d),v)}function po(d){d.B&&(c.clearTimeout(d.B),d.B=null)}gr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ol(this.i,this.A),this.L!=2&&(gi(),Ct(17)),Qn(this),this.s=2,as(this)):Nc(this,this.S-d)};function as(d){d.j.G==0||d.J||Ia(d.j,d)}function Qn(d){po(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Qe(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ll(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||yn(E.h,d))){if(!d.K&&yn(E.h,d)&&E.G==3){try{var C=E.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)ka(E),xr(E);else break e;Ta(E),Ct(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=fr(b(E.Za,E),6e3));if(1>=Ac(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else xi(E,11)}else if((d.K||E.g==d)&&ka(E),!R(v))for(W=E.Da.g.parse(v),v=0;v<W.length;v++){let qe=W[v];if(E.T=qe[0],qe=qe[1],E.G==2)if(qe[0]=="c"){E.K=qe[1],E.ia=qe[2];const Ht=qe[3];Ht!=null&&(E.la=Ht,E.j.info("VER="+E.la));const Dt=qe[4];Dt!=null&&(E.Aa=Dt,E.j.info("SVER="+E.Aa));const Jn=qe[5];Jn!=null&&typeof Jn=="number"&&0<Jn&&(C=1.5*Jn,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Bn=d.g;if(Bn){const Eo=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var Y=C.h;Y.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Vl(Y,Y.h),Y.h=null))}if(C.D){const Ca=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(C.ya=Ca,ot(C.I,C.D,Ca))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var ue=d;if(C.qa=Hc(C,C.J?C.ia:null,C.W),ue.K){Dc(C.h,ue);var tt=ue,Lt=C.L;Lt&&(tt.I=Lt),tt.B&&(po(tt),at(tt)),C.g=ue}else xo(C);0<E.i.length&&Kr(E)}else qe[0]!="stop"&&qe[0]!="close"||xi(E,7);else E.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?xi(E,7):en(E):qe[0]!="noop"&&E.l&&E.l.ta(qe),E.v=0)}}gi(4)}catch{}}var Pc=class{constructor(d,v){this.g=d,this.map=v}};function go(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ac(d){return d.h?1:d.g?d.g.size:0}function yn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Vl(d,v){d.g?d.g.add(v):d.h=v}function Dc(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}go.prototype.cancel=function(){if(this.i=Oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Oc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return P(d.i)}function ga(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],E=d.length,C=0;C<E;C++)v.push(d[C]);return v}v=[],E=0;for(C in d)v[E++]=d[C];return v}function ya(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const C in d)v[E++]=C;return v}}}function ls(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=ya(d),C=ga(d),W=C.length,Y=0;Y<W;Y++)v.call(void 0,C[Y],E&&E[Y],d)}var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rf(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var C=d[E].indexOf("="),W=null;if(0<=C){var Y=d[E].substring(0,C);W=d[E].substring(C+1)}else Y=d[E];v(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function yi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof yi){this.h=d.h,vo(this,d.j),this.o=d.o,this.g=d.g,us(this,d.s),this.l=d.l;var v=d.i,E=new Hr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),cs(this,E),this.m=d.m}else d&&(v=String(d).match(yo))?(this.h=!1,vo(this,v[1]||"",!0),this.o=We(v[2]||""),this.g=We(v[3]||"",!0),us(this,v[4]),this.l=We(v[5]||"",!0),cs(this,v[6]||"",!0),this.m=We(v[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}yi.prototype.toString=function(){var d=[],v=this.j;v&&d.push(hs(v,va,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(hs(v,va,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(hs(E,E.charAt(0)=="/"?Lc:jc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",hs(E,Fl)),d.join("")};function Un(d){return new yi(d)}function vo(d,v,E){d.j=E?We(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function us(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function cs(d,v,E){v instanceof Hr?(d.i=v,qr(d.i,d.h)):(E||(v=hs(v,Vc)),d.i=new Hr(v,d.h))}function ot(d,v,E){d.i.set(v,E)}function ds(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function We(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function hs(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,Mc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Mc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var va=/[#\/\?@]/g,jc=/[#\?:]/g,Lc=/[#\?]/g,Vc=/[#\?@]/g,Fl=/#/g;function Hr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Zt(d){d.g||(d.g=new Map,d.h=0,d.i&&Rf(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Hr.prototype,t.add=function(d,v){Zt(this),this.i=null,d=Xn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function yr(d,v){Zt(d),v=Xn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function vr(d,v){return Zt(d),v=Xn(d,v),d.g.has(v)}t.forEach=function(d,v){Zt(this),this.g.forEach(function(E,C){E.forEach(function(W){d.call(v,W,C,this)},this)},this)},t.na=function(){Zt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let C=0;C<v.length;C++){const W=d[C];for(let Y=0;Y<W.length;Y++)E.push(v[C])}return E},t.V=function(d){Zt(this);let v=[];if(typeof d=="string")vr(this,d)&&(v=v.concat(this.g.get(Xn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},t.set=function(d,v){return Zt(this),this.i=null,d=Xn(this,d),vr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function fs(d,v,E){yr(d,v),0<E.length&&(d.i=null,d.g.set(Xn(d,v),P(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var C=v[E];const Y=encodeURIComponent(String(C)),ue=this.V(C);for(C=0;C<ue.length;C++){var W=Y;ue[C]!==""&&(W+="="+encodeURIComponent(String(ue[C]))),d.push(W)}}return this.i=d.join("&")};function Xn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function qr(d,v){v&&!d.j&&(Zt(d),d.i=null,d.g.forEach(function(E,C){var W=C.toLowerCase();C!=W&&(yr(this,C),fs(this,W,E))},d)),d.j=v}function Nf(d,v){const E=new ho;if(c.Image){const C=new Image;C.onload=k(Rn,E,"TestLoadImage: loaded",!0,v,C),C.onerror=k(Rn,E,"TestLoadImage: error",!1,v,C),C.onabort=k(Rn,E,"TestLoadImage: abort",!1,v,C),C.ontimeout=k(Rn,E,"TestLoadImage: timeout",!1,v,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else v(!1)}function Fc(d,v){const E=new ho,C=new AbortController,W=setTimeout(()=>{C.abort(),Rn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:C.signal}).then(Y=>{clearTimeout(W),Y.ok?Rn(E,"TestPingServer: ok",!0,v):Rn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Rn(E,"TestPingServer: error",!1,v)})}function Rn(d,v,E,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(E)}catch{}}function Pf(){this.g=new Wr}function Uc(d,v,E){const C=E||"";try{ls(d,function(W,Y){let ue=W;p(W)&&(ue=In(W)),v.push(C+Y+"="+encodeURIComponent(ue))})}catch(W){throw v.push(C+"type="+encodeURIComponent("_badmap")),W}}function vi(d){this.l=d.Ub||null,this.j=d.eb||!1}I(vi,pt),vi.prototype.g=function(){return new wo(this.l,this.j)},vi.prototype.i=function(d){return function(){return d}}({});function wo(d,v){It.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(wo,It),t=wo.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,_r(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$c(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function $c(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?wr(this):_r(this),this.readyState==3&&$c(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,wr(this))},t.Qa=function(d){this.g&&(this.response=d,wr(this))},t.ga=function(){this.g&&wr(this)};function wr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,_r(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function _r(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function wi(d){let v="";return J(d,function(E,C){v+=C,v+=":",v+=E,v+=`\r
`}),v}function ms(d,v,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=wi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):ot(d,v,E))}function gt(d){It.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(gt,It);var Af=/^https?$/i,Ul=["POST","PUT"];t=gt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?Jt(this.o):Jt(pr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Y){_o(this,Y);return}if(d=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)E.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Y of C.keys())E.set(Y,C.get(Y));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ul,v,void 0))||C||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of E)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_a(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){_o(this,Y)}};function _o(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,wa(d),$n(d)}function wa(d){d.A||(d.A=!0,St(d,"complete"),St(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,St(this,"complete"),St(this,"abort"),$n(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$l(this):this.bb())},t.bb=function(){$l(this)};function $l(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Nn(d)!=4||d.Z()!=2)){if(d.u&&Nn(d)==4)uo(d.Ea,0,d);else if(St(d,"readystatechange"),Nn(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var C;if(C=ue===0){var W=String(d.D).match(yo)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),C=!Af.test(W?W.toLowerCase():"")}E=C}if(E)St(d,"complete"),St(d,"success");else{d.m=6;try{var Y=2<Nn(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",wa(d)}}finally{$n(d)}}}}function $n(d,v){if(d.g){_a(d);const E=d.g,C=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||St(d,"ready");try{E.onreadystatechange=C}catch{}}}function _a(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Nn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Xt(v)}};function Bl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function xa(d){const v={};d=(d.g&&2<=Nn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(R(d[C]))continue;var E=D(d[C]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[W]||[];v[W]=Y,Y.push(E)}j(v,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function zl(d){this.Aa=0,this.i=[],this.j=new ho,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,d),this.cb=Gr("retryDelaySeedMs",1e4,d),this.Wa=Gr("forwardChannelMaxRetries",2,d),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new go(d&&d.concurrentRequestLimit),this.Da=new Pf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zl.prototype,t.la=8,t.G=1,t.connect=function(d,v,E,C){Ct(0),this.W=d,this.H=v||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=Hc(this,null,this.W),Kr(this)};function en(d){if(Ea(d),d.G==3){var v=d.U++,E=Un(d.I);if(ot(E,"SID",d.K),ot(E,"RID",v),ot(E,"TYPE","terminate"),_i(d,E),v=new gr(d,d.j,v),v.L=2,v.v=ds(Un(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.v,E=!0),E||(v.g=qc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),at(v)}Wc(d)}function xr(d){d.g&&(Wl(d),d.g.cancel(),d.g=null)}function Ea(d){xr(d),d.u&&(c.clearTimeout(d.u),d.u=null),ka(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Kr(d){if(!Fn(d.h)&&!d.s){d.s=!0;var v=d.Ga;we||te(),ie||(we(),ie=!0),le.add(v,d),d.B=0}}function Df(d,v){return Ac(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=fr(b(d.Ga,d,v),zc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new gr(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=N(Y),L(Y,this.S)):Y=this.S),this.m!==null||this.O||(W.H=Y,Y=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=ps(this,W,v),E=Un(this.I),ot(E,"RID",d),ot(E,"CVER",22),this.D&&ot(E,"X-HTTP-Session-Id",this.D),_i(this,E),Y&&(this.O?v="headers="+encodeURIComponent(String(wi(Y)))+"&"+v:this.m&&ms(E,this.m,Y)),Vl(this.h,W),this.Ua&&ot(E,"TYPE","init"),this.P?(ot(E,"$req",v),ot(E,"SID","null"),W.T=!0,pa(W,E,null)):pa(W,E,v),this.G=2}}else this.G==3&&(d?ba(this,d):this.i.length==0||Fn(this.h)||ba(this))};function ba(d,v){var E;v?E=v.l:E=d.U++;const C=Un(d.I);ot(C,"SID",d.K),ot(C,"RID",E),ot(C,"AID",d.T),_i(d,C),d.m&&d.o&&ms(C,d.m,d.o),E=new gr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=ps(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Vl(d.h,E),pa(E,C,v)}function _i(d,v){d.H&&J(d.H,function(E,C){ot(v,C,E)}),d.l&&ls({},function(E,C){ot(v,C,E)})}function ps(d,v,E){E=Math.min(d.i.length,E);var C=d.l?b(d.l.Na,d.l,d):null;e:{var W=d.i;let Y=-1;for(;;){const ue=["count="+E];Y==-1?0<E?(Y=W[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let tt=!0;for(let Lt=0;Lt<E;Lt++){let qe=W[Lt].g;const Ht=W[Lt].map;if(qe-=Y,0>qe)Y=Math.max(0,W[Lt].g-100),tt=!1;else try{Uc(Ht,ue,"req"+qe+"_")}catch{C&&C(Ht)}}if(tt){C=ue.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,C}function xo(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;we||te(),ie||(we(),ie=!0),le.add(v,d),d.v=0}}function Ta(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=fr(b(d.Fa,d),zc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=fr(b(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),xr(this),Bc(this))};function Wl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Bc(d){d.g=new gr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Un(d.qa);ot(v,"RID","rpc"),ot(v,"SID",d.K),ot(v,"AID",d.T),ot(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(v,"TO",d.ja),ot(v,"TYPE","xmlhttp"),_i(d,v),d.m&&d.o&&ms(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=ds(Un(v)),E.m=null,E.P=!0,jl(E,d)}t.Za=function(){this.C!=null&&(this.C=null,xr(this),Ta(this),Ct(19))};function ka(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ia(d,v){var E=null;if(d.g==v){ka(d),Wl(d),d.g=null;var C=2}else if(yn(d.h,v))E=v.D,Dc(d.h,v),C=1;else return;if(d.G!=0){if(v.o)if(C==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var W=d.B;C=co(),St(C,new da(C,E)),Kr(d)}else xo(d);else if(W=v.s,W==3||W==0&&0<v.X||!(C==1&&Df(d,v)||C==2&&Ta(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),W){case 1:xi(d,5);break;case 4:xi(d,10);break;case 3:xi(d,6);break;default:xi(d,2)}}}function zc(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function xi(d,v){if(d.j.info("Error code "+v),v==2){var E=b(d.fb,d),C=d.Xa;const W=!C;C=new yi(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vo(C,"https"),ds(C),W?Nf(C.toString(),E):Fc(C.toString(),E)}else Ct(2);d.G=0,d.l&&d.l.sa(v),Wc(d),Ea(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Wc(d){if(d.G=0,d.ka=[],d.l){const v=Oc(d.h);(v.length!=0||d.i.length!=0)&&(S(d.ka,v),S(d.ka,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.ra()}}function Hc(d,v,E){var C=E instanceof yi?Un(E):new yi(E);if(C.g!="")v&&(C.g=v+"."+C.g),us(C,C.s);else{var W=c.location;C=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var Y=new yi(null);C&&vo(Y,C),v&&(Y.g=v),W&&us(Y,W),E&&(Y.l=E),C=Y}return E=d.D,v=d.ya,E&&v&&ot(C,E,v),ot(C,"VER",d.la),_i(d,C),C}function qc(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new gt(new vi({eb:E})):new gt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hl(){}t=Hl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sa(){}Sa.prototype.g=function(d,v){return new vn(d,v)};function vn(d,v){It.call(this),this.g=new zl(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!R(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Yr(this)}I(vn,It),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){en(this.g)},vn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=In(d),d=E);v.i.push(new Pc(v.Ya++,d)),v.G==3&&Kr(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,vn.aa.N.call(this)};function Gc(d){Yn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}I(Gc,Yn);function Kc(){os.call(this),this.status=1}I(Kc,os);function Yr(d){this.g=d}I(Yr,Hl),Yr.prototype.ua=function(){St(this.g,"a")},Yr.prototype.ta=function(d){St(this.g,new Gc(d))},Yr.prototype.sa=function(d){St(this.g,new Kc)},Yr.prototype.ra=function(){St(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,B_=function(){return new Sa},$_=function(){return co()},U_=Cn,Op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,ih=fa,Sc.COMPLETE="complete",F_=Sc,$e.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",It.prototype.listen=It.prototype.K,ku=$e,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,V_=gt}).apply(typeof zd<"u"?zd:typeof self<"u"?self:typeof window<"u"?window:{});const yw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new kg("@firebase/firestore");function Qa(){return Zo.logLevel}function he(t,...e){if(Zo.logLevel<=Be.DEBUG){const n=e.map(Cg);Zo.debug(`Firestore (${El}): ${t}`,...n)}}function Gi(t,...e){if(Zo.logLevel<=Be.ERROR){const n=e.map(Cg);Zo.error(`Firestore (${El}): ${t}`,...n)}}function ll(t,...e){if(Zo.logLevel<=Be.WARN){const n=e.map(Cg);Zo.warn(`Firestore (${El}): ${t}`,...n)}}function Cg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: `+t;throw Gi(e),new Error(e)}function et(t,e){t||Re()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class zC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new z_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new mn(e)}}class HC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new HC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){et(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new GC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YC(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new vt(0,0))}static max(){return new Pe(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends Wu{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const QC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Wu{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return QC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ft.fromString(e))}static fromName(e){return new xe(ft.fromString(e).popFirst(5))}static empty(){return new xe(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ft(e.slice()))}}function XC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Ks(i,xe.empty(),e)}function JC(t){return new Ks(t.readTime,t.key,-1)}class Ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ks(Pe.min(),xe.empty(),-1)}static max(){return new Ks(Pe.max(),xe.empty(),-1)}}function ZC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==e2)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&n()},h=>r(h))}),l=!0,a===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(y=>{l[p]=y,++c,c===a&&r(l)},y=>i(y))}})}static doWhile(e,n){return new ee((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function n2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hh.oe=-1;function qh(t){return t==null}function Eh(t){return t===0&&1/t==-1/0}function r2(t){return typeof t=="number"&&Number.isInteger(t)&&!Eh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vw(e)),e=s2(t.get(n),e);return vw(e)}function s2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function vw(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=a??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,a){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _w(this.data.getIterator())}getIteratorFrom(e){return new _w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class _w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new qn([])}unionWith(e){let n=new $t(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new q_("Invalid base64 string: "+a):a}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const o2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(et(!!t),typeof t=="string"){let e=0;const n=o2.exec(t);if(et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gh(t){const e=t.mapValue.fields.__previous_value__;return Rg(e)?Gh(e):e}function Hu(t){const e=Ys(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,r,i,a,l,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class qu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rg(t)?4:u2(t)?9007199254740991:l2(t)?10:11:Re()}function ci(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hu(t).isEqual(Hu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ys(i.timestampValue),c=Ys(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Qs(i.bytesValue).isEqual(Qs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Pt(i.geoPointValue.latitude)===Pt(a.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Pt(i.integerValue)===Pt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Pt(i.doubleValue),c=Pt(a.doubleValue);return l===c?Eh(l)===Eh(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(ww(l)!==ww(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ci(l[h],c[h])))return!1;return!0}(t,e);default:return Re()}}function Gu(t,e){return(t.values||[]).find(n=>ci(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Pt(a.integerValue||a.doubleValue),h=Pt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return xw(t.timestampValue,e.timestampValue);case 4:return xw(Hu(t),Hu(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(a,l){const c=Qs(a),h=Qs(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const y=He(c[p],h[p]);if(y!==0)return y}return He(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=He(Pt(a.latitude),Pt(l.latitude));return c!==0?c:He(Pt(a.longitude),Pt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ew(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,y;const _=a.fields||{},b=l.fields||{},k=(c=_.value)===null||c===void 0?void 0:c.arrayValue,I=(h=b.value)===null||h===void 0?void 0:h.arrayValue,P=He(((p=k==null?void 0:k.values)===null||p===void 0?void 0:p.length)||0,((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:Ew(k,I)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Hd.mapValue&&l===Hd.mapValue)return 0;if(a===Hd.mapValue)return 1;if(l===Hd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let _=0;_<h.length&&_<y.length;++_){const b=He(h[_],y[_]);if(b!==0)return b;const k=cl(c[h[_]],p[y[_]]);if(k!==0)return k}return He(h.length,y.length)}(t.mapValue,e.mapValue);default:throw Re()}}function xw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Ys(t),r=Ys(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function Ew(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=cl(n[i],r[i]);if(a)return a}return He(n.length,r.length)}function dl(t){return Mp(t)}function Mp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Mp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Mp(n.fields[l])}`;return i+"}"}(t.mapValue):Re()}function sh(t){switch(Xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(t);return e?16+sh(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+sh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Zs(r.fields,(a,l)=>{i+=a.length+sh(l)}),i}(t.mapValue);default:throw Re()}}function bw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jp(t){return!!t&&"integerValue"in t}function Ng(t){return!!t&&"arrayValue"in t}function Tw(t){return!!t&&"nullValue"in t}function kw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function l2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function u2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Pu(l):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Vn(Pu(this.value))}}function G_(t){const e=[];return Zs(t.fields,(n,r)=>{const i=new sn([n]);if(oh(r)){const a=G_(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new pn(e,0,Pe.min(),Pe.min(),Pe.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,i){return new pn(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new pn(e,2,n,Pe.min(),Pe.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Pe.min(),Pe.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function Iw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=cl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function c2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{}class jt extends K_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new h2(e,n,r):n==="array-contains"?new p2(e,r):n==="in"?new g2(e,r):n==="not-in"?new y2(e,r):n==="array-contains-any"?new v2(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f2(e,r):new m2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends K_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Vr(e,n)}matches(e){return Y_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Y_(t){return t.op==="and"}function Q_(t){return d2(t)&&Y_(t)}function d2(t){for(const e of t.filters)if(e instanceof Vr)return!1;return!0}function Lp(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(Q_(t))return t.filters.map(e=>Lp(e)).join(",");{const e=t.filters.map(n=>Lp(n)).join(",");return`${t.op}(${e})`}}function X_(t,e){return t instanceof jt?function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&ci(r.value,i.value)}(t,e):t instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&X_(l,i.filters[c]),!0):!1}(t,e):void Re()}function J_(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(t):t instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(J_).join(" ,")+"}"}(t):"Filter"}class h2 extends jt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class f2 extends jt{constructor(e,n){super(e,"in",n),this.keys=Z_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m2 extends jt{constructor(e,n){super(e,"not-in",n),this.keys=Z_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class p2 extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ng(n)&&Gu(n.arrayValue,this.value)}}class g2 extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gu(this.value.arrayValue,n)}}class y2 extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gu(this.value.arrayValue,n)}}class v2 extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function Cw(t,e=null,n=[],r=[],i=null,a=null,l=null){return new w2(t,e,n,r,i,a,l)}function Pg(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),e.ue=n}return e.ue}function Ag(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sw(t.startAt,e.startAt)&&Sw(t.endAt,e.endAt)}function Vp(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _2(t,e,n,r,i,a,l,c){return new kl(t,e,n,r,i,a,l,c)}function Dg(t){return new kl(t)}function Rw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ex(t){return t.collectionGroup!==null}function Au(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new $t(sn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Ku(a,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new Ku(sn.keyField(),r))}return e.ce}function ai(t){const e=Ae(t);return e.le||(e.le=x2(e,Au(t))),e.le}function x2(t,e){if(t.limitType==="F")return Cw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ku(i.field,a)});const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return Cw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fp(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Up(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kh(t,e){return Ag(ai(t),ai(e))&&t.limitType===e.limitType}function tx(t){return`${Pg(ai(t))}|lt:${t.limitType}`}function Xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>J_(i)).join(", ")}]`),qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(ai(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Au(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=Iw(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Au(r),i)||r.endAt&&!function(l,c,h){const p=Iw(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Au(r),i))}(t,e)}function E2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nx(t){return(e,n)=>{let r=!1;for(const i of Au(t)){const a=b2(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function b2(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?cl(h,p):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Et(xe.comparator);function Ki(){return T2}const rx=new Et(xe.comparator);function Iu(...t){let e=rx;for(const n of t)e=e.insert(n.key,n);return e}function ix(t){let e=rx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $o(){return Du()}function sx(){return Du()}function Du(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const k2=new Et(xe.comparator),I2=new $t(xe.comparator);function ze(...t){let e=I2;for(const n of t)e=e.add(n);return e}const S2=new $t(He);function C2(){return S2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function ox(t){return{integerValue:""+t}}function ax(t,e){return r2(e)?ox(e):Og(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function R2(t,e,n){return t instanceof Yu?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Rg(a)&&(a=Gh(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof Qu?ux(t,e):t instanceof Xu?cx(t,e):function(i,a){const l=lx(i,a),c=Nw(l)+Nw(i.Pe);return jp(l)&&jp(i.Pe)?ox(c):Og(i.serializer,c)}(t,e)}function N2(t,e,n){return t instanceof Qu?ux(t,e):t instanceof Xu?cx(t,e):n}function lx(t,e){return t instanceof Ju?function(r){return jp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Yu extends Qh{}class Qu extends Qh{constructor(e){super(),this.elements=e}}function ux(t,e){const n=dx(e);for(const r of t.elements)n.some(i=>ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xu extends Qh{constructor(e){super(),this.elements=e}}function cx(t,e){let n=dx(e);for(const r of t.elements)n=n.filter(i=>!ci(i,r));return{arrayValue:{values:n}}}class Ju extends Qh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Nw(t){return Pt(t.integerValue||t.doubleValue)}function dx(t){return Ng(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.field=e,this.transform=n}}function P2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qu&&i instanceof Qu||r instanceof Xu&&i instanceof Xu?ul(r.elements,i.elements,ci):r instanceof Ju&&i instanceof Ju?ci(r.Pe,i.Pe):r instanceof Yu&&i instanceof Yu}(t.transform,e.transform)}class A2{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xh{}function fx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mg(t.key,ar.none()):new lc(t.key,t.data,ar.none());{const n=t.data,r=Vn.empty();let i=new $t(sn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new eo(t.key,r,new qn(i.toArray()),ar.none())}}function D2(t,e,n){t instanceof lc?function(i,a,l){const c=i.value.clone(),h=Aw(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof eo?function(i,a,l){if(!ah(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=Aw(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(mx(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Ou(t,e,n,r){return t instanceof lc?function(a,l,c,h){if(!ah(a.precondition,l))return c;const p=a.value.clone(),y=Dw(a.fieldTransforms,h,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof eo?function(a,l,c,h){if(!ah(a.precondition,l))return c;const p=Dw(a.fieldTransforms,h,l),y=l.data;return y.setAll(mx(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,c){return ah(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function O2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=lx(r.transform,i||null);a!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,a))}return n||null}function Pw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ul(r,i,(a,l)=>P2(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lc extends Xh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eo extends Xh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Aw(t,e,n){const r=new Map;et(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,N2(l,c,n[i]))}return r}function Dw(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,R2(a,l,e))}return r}class Mg extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M2 extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&D2(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sx();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const h=fx(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(n,r)=>Pw(n,r))&&ul(this.baseMutations,e.baseMutations,(n,r)=>Pw(n,r))}}class jg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){et(e.mutations.length===r.length);let i=function(){return k2}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new jg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ge;function F2(t){switch(t){default:return Re();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function px(t){if(t===void 0)return Gi("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Mt.OK:return Z.OK;case Mt.CANCELLED:return Z.CANCELLED;case Mt.UNKNOWN:return Z.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return Z.INTERNAL;case Mt.UNAVAILABLE:return Z.UNAVAILABLE;case Mt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Mt.NOT_FOUND:return Z.NOT_FOUND;case Mt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Mt.ABORTED:return Z.ABORTED;case Mt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Mt.DATA_LOSS:return Z.DATA_LOSS;default:return Re()}}(Ge=Mt||(Mt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new Yo([4294967295,4294967295],0);function Ow(t){const e=U2().encode(t),n=new L_;return n.update(e),new Uint8Array(n.digest())}function Mw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,a],0)]}class Lg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Yo.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Yo.fromNumber(r)));return i.compare($2)===1&&(i=new Yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Ow(e),[r,i]=Mw(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);if(!this.de(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Lg(a,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=Ow(e),[r,i]=Mw(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jh(Pe.min(),i,new Et(He),Ki(),ze())}}class uc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uc(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gx{constructor(e,n){this.targetId=e,this.me=n}}class yx{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jw{constructor(){this.fe=0,this.ge=Lw(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),n=ze(),r=ze();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new uc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Lw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class B2{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ki(),this.qe=qd(),this.Qe=qd(),this.Ke=new Et(He)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const a=i.target;if(Vp(a))if(r===0){const l=new xe(a.path);this.We(n,l,pn.newNoDocument(l,Pe.min()))}else et(r===1);else{const l=this.Ze(n);if(l!==r){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=Qs(r).toUint8Array()}catch(h){if(h instanceof q_)return ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Lg(l,i,a)}catch(h){return ll(h instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.We(n,a,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((a,l)=>{const c=this.Ye(l);if(c){if(a.current&&Vp(c.target)){const h=new xe(c.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,pn.newNoDocument(h,e))}a.be&&(n.set(l,a.ve()),a.Ce())}});let r=ze();this.Qe.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const i=new Jh(e,n,this.Ke,this.ke,r);return this.ke=Ki(),this.qe=qd(),this.Qe=qd(),this.Ke=new Et(He),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new jw,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new $t(He),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $t(He),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new jw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qd(){return new Et(xe.comparator)}function Lw(){return new Et(xe.comparator)}const z2={asc:"ASCENDING",desc:"DESCENDING"},W2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H2={and:"AND",or:"OR"};class q2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $p(t,e){return t.useProto3Json||qh(e)?e:{value:e}}function Th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function G2(t,e){return Th(t,e.toTimestamp())}function li(t){return et(!!t),Pe.fromTimestamp(function(n){const r=Ys(n);return new vt(r.seconds,r.nanos)}(t))}function Vg(t,e){return Bp(t,e).canonicalString()}function Bp(t,e){const n=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wx(t){const e=ft.fromString(t);return et(Tx(e)),e}function zp(t,e){return Vg(t.databaseId,e.path)}function dp(t,e){const n=wx(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(xx(n))}function _x(t,e){return Vg(t.databaseId,e)}function K2(t){const e=wx(t);return e.length===4?ft.emptyPath():xx(e)}function Wp(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xx(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Vw(t,e,n){return{name:zp(t,e),fields:n.value.mapValue.fields}}function Y2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(et(y===void 0||typeof y=="string"),on.fromBase64String(y||"")):(et(y===void 0||y instanceof Buffer||y instanceof Uint8Array),on.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const y=p.code===void 0?Z.UNKNOWN:px(p.code);return new fe(y,p.message||"")}(l);n=new yx(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dp(t,r.document.name),a=li(r.document.updateTime),l=r.document.createTime?li(r.document.createTime):Pe.min(),c=new Vn({mapValue:{fields:r.document.fields}}),h=pn.newFoundDocument(i,a,l,c),p=r.targetIds||[],y=r.removedTargetIds||[];n=new lh(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dp(t,r.document),a=r.readTime?li(r.readTime):Pe.min(),l=pn.newNoDocument(i,a),c=r.removedTargetIds||[];n=new lh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dp(t,r.document),a=r.removedTargetIds||[];n=new lh([],a,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new V2(i,a),c=r.targetId;n=new gx(c,l)}}return n}function Q2(t,e){let n;if(e instanceof lc)n={update:Vw(t,e.key,e.value)};else if(e instanceof Mg)n={delete:zp(t,e.key)};else if(e instanceof eo)n={update:Vw(t,e.key,e.data),updateMask:sR(e.fieldMask)};else{if(!(e instanceof M2))return Re();n={verify:zp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Yu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ju)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:G2(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(t,e.precondition)),n}function X2(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(i,a){let l=i.updateTime?li(i.updateTime):li(a);return l.isEqual(Pe.min())&&(l=li(a)),new A2(l,i.transformResults||[])}(n,e))):[]}function J2(t,e){return{documents:[_x(t,e.path)]}}function Z2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_x(t,i);const a=function(p){if(p.length!==0)return bx(Vr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Ja(b.field),direction:nR(b.dir)}}(y))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=$p(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:i}}function eR(t){let e=K2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){et(r===1);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=function(_){const b=Ex(_);return b instanceof Vr&&Q_(b)?b.getFilters():[b]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(b=>function(I){return new Ku(Za(I.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(b))}(n.orderBy));let c=null;n.limit&&(c=function(_){let b;return b=typeof _=="object"?_.value:_,qh(b)?null:b}(n.limit));let h=null;n.startAt&&(h=function(_){const b=!!_.before,k=_.values||[];return new bh(k,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,k=_.values||[];return new bh(k,b)}(n.endAt)),_2(e,i,l,a,c,"F",h,p)}function tR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ex(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Za(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Za(n.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Za(n.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Za(n.unaryFilter.field);return jt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return jt.create(Za(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>Ex(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function nR(t){return z2[t]}function rR(t){return W2[t]}function iR(t){return H2[t]}function Ja(t){return{fieldPath:t.canonicalString()}}function Za(t){return sn.fromServerFormat(t.fieldPath)}function bx(t){return t instanceof jt?function(n){if(n.op==="=="){if(kw(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(Tw(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kw(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(Tw(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:rR(n.op),value:n.value}}}(t):t instanceof Vr?function(n){const r=n.getFilters().map(i=>bx(i));return r.length===1?r[0]:{compositeFilter:{op:iR(n.op),filters:r}}}(t):Re()}function sR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,i,a=Pe.min(),l=Pe.min(),c=on.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.ht=e}}function aR(t){const e=eR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.ln=new uR}addToCollectionParentIndex(e,n){return this.ln.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ks.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class uR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $t(ft.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(41943040,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new hl(0)}static Qn(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw([t,e],[n,r]){const i=He(t,n);return i===0?He(e,r):i}class cR{constructor(e){this.Gn=e,this.buffer=new $t(Uw),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Uw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tl(n)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Yn(3e5)})}}class hR{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Hh.oe);const r=new cR(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Fw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fw):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,a,l,c,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Qa()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function fR(t,e){return new hR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ou(r.mutation,i,qn.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const i=$o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Iu();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=$o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let a=Ki();const l=Du(),c=function(){return Du()}();return n.forEach((h,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof eo)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),Ou(y.mutation,p,y.mutation.getFieldMask(),vt.now())):l.set(p.key,qn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,y)=>l.set(p,y)),n.forEach((p,y)=>{var _;return c.set(p,new pR(y,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Du();let i=new Et((l,c)=>l-c),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let y=r.get(h)||qn.empty();y=c.applyToLocalView(p,y),r.set(h,y);const _=(i.get(c.batchId)||ze()).add(h);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,y=h.value,_=sx();y.forEach(b=>{if(!a.has(b)){const k=fx(n.get(b),r.get(b));k!==null&&_.set(b,k),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ex(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ee.resolve($o());let c=-1,h=a;return l.next(p=>ee.forEach(p,(y,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(y)?ee.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{h=h.insert(y,b)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,ze())).next(y=>({batchId:c,changes:ix(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Iu();return this.indexManager.getCollectionParents(e,a).next(c=>ee.forEach(c,h=>{const p=function(_,b){return new kl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(y=>{y.forEach((_,b)=>{l=l.insert(_,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((h,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,pn.newInvalidDocument(y)))});let c=Iu();return l.forEach((h,p)=>{const y=a.get(h);y!==void 0&&Ou(y.mutation,p,qn.empty(),vt.now()),Yh(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return ee.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:li(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:aR(i.bundledQuery),readTime:li(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.overlays=new Et(xe.comparator),this.Er=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$o();return ee.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Tt(e,n,a)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=$o(),a=n.length+1,l=new xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Et((p,y)=>p-y);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=$o(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const c=$o(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>c.set(p,y)),!(c.size()>=i)););return ee.resolve(c)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new L2(n,r));let a=this.Er.get(n);a===void 0&&(a=ze(),this.Er.set(n,a)),this.Er.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.dr=new $t(Qt.Ar),this.Rr=new $t(Qt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Qt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new xe(new ft([])),r=new Qt(n,e),i=new Qt(n,e+1),a=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new xe(new ft([])),r=new Qt(n,e),i=new Qt(n,e+1);let a=ze();return this.Rr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Qt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return xe.comparator(e.key,n.key)||He(e.br,n.br)}static Vr(e,n){return He(e.br,n.br)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new $t(Qt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new j2(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new Qt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,n){return ee.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),i=new Qt(n,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,i],l=>{const c=this.Cr(l.br);a.push(c)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(He);return n.forEach(i=>{const a=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],c=>{r=r.add(c.br)})}),ee.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const l=new Qt(new xe(a),0);let c=new $t(He);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.br)),!0)},l),ee.resolve(this.Mr(c))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){et(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ee.forEach(n.mutations,i=>{const a=new Qt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Qt(n,0),i=this.vr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.Nr=e,this.docs=function(){return new Et(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=Ki();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ki();const l=n.path,c=new xe(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||ZC(JC(y),r)<=0||(i.has(y.key)||Yh(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Re()}Lr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ER(this)}getSize(e){return ee.resolve(this.size)}}class ER extends mR{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.persistence=e,this.Br=new oa(n=>Pg(n),Ag),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Fg,this.targetCount=0,this.Qr=hl.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),ee.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Un(n),ee.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Br.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Br.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Hh(0),this.Ur=!1,this.Ur=!0,this.Wr=new wR,this.referenceDelegate=e(this),this.Gr=new bR(this),this.indexManager=new lR,this.remoteDocumentCache=function(i){return new xR(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new oR(n),this.jr=new yR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new _R(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new TR(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,n){return ee.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class TR extends t2{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Zr=new Fg,this.Xr=null}static ei(e){return new Ug(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,r=>{const i=xe.fromPath(r);return this.ni(e,i).next(a=>{a||n.removeEntry(i,Pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return ee.or([()=>ee.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.ri=new oa(r=>i2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fR(this,n)}static ei(e,n){return new kh(e,n)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return ee.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(a=>a?ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Lr(e,l=>this.ir(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Pe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),ee.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}ir(e,n,r){return ee.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ze(),i=ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $g(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return kS()?8:n2(gn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Xi(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new kR;return this.ts(e,n,l).next(c=>{if(a.result=c,this.Hi)return this.ns(e,n,l,c.size)})}).next(()=>a.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Qa()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(Qa()<=Be.DEBUG&&he("QueryEngine","Query:",Xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Qa()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):ee.resolve())}Xi(e,n){if(Rw(n))return ee.resolve(null);let r=ai(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Up(n,null,"F"),r=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=ze(...a);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(n,c);return this.ss(n,p,l,h.readTime)?this.Xi(e,Up(n,null,"F")):this.os(e,p,n,h)}))})))}es(e,n,r,i){return Rw(n)||i.isEqual(Pe.min())?ee.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const l=this.rs(n,a);return this.ss(n,l,r,i)?ee.resolve(null):(Qa()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(n)),this.os(e,l,n,XC(i,-1)).next(c=>c))})}rs(e,n){let r=new $t(nx(e));return n.forEach((i,a)=>{Yh(e,a)&&(r=r.add(a))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,n,r){return Qa()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ks.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Et(He),this.cs=new oa(a=>Pg(a),Ag),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gR(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function CR(t,e,n,r){return new SR(t,e,n,r)}async function Ix(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=ze();for(const p of i){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of a){c.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function RR(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.hs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,y){const _=p.batch,b=_.keys();let k=ee.resolve();return b.forEach(I=>{k=k.next(()=>y.getEntry(h,I)).next(P=>{const S=p.docVersions.get(I);et(S!==null),P.version.compareTo(S)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))})}),k.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=ze();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sx(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function NR(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const c=[];e.targetChanges.forEach((y,_)=>{const b=i.get(_);if(!b)return;c.push(n.Gr.removeMatchingKeys(a,y.removedDocuments,_).next(()=>n.Gr.addMatchingKeys(a,y.addedDocuments,_)));let k=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?k=k.withResumeToken(on.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):y.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(y.resumeToken,r)),i=i.insert(_,k),function(P,S,A){return P.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(b,k,y)&&c.push(n.Gr.updateTargetData(a,k))});let h=Ki(),p=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))}),c.push(PR(a,l,e.documentUpdates).next(y=>{h=y.Is,p=y.Es})),!r.isEqual(Pe.min())){const y=n.Gr.getLastRemoteSnapshotVersion(a).next(_=>n.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(y)}return ee.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.us=i,a))}function PR(t,e,n){let r=ze(),i=ze();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Ki();return n.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Pe.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):he("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Is:l,Es:i}})}function AR(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DR(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(a=>a?(i=a,ee.resolve(i)):n.Gr.allocateTargetId(r).next(l=>(i=new $s(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Hp(t,e,n){const r=Ae(t),i=r.us.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Tl(l))throw l;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function $w(t,e,n){const r=Ae(t);let i=Pe.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,y){const _=Ae(h),b=_.cs.get(y);return b!==void 0?ee.resolve(_.us.get(b)):_.Gr.getTargetData(p,y)}(r,l,ai(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,n?i:Pe.min(),n?a:ze())).next(c=>(OR(r,E2(e),c),{documents:c,ds:a})))}function OR(t,e,n){let r=t.ls.get(e)||Pe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.ls.set(e,r)}class Bw{constructor(){this.activeTargetIds=C2()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MR{constructor(){this._o=new Bw,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Bw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd=null;function hp(){return Gd===null?Gd=function(){return 268435456+Math.round(2147483648*Math.random())}():Gd++,"0x"+Gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class FR extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(n,r,i,a,l){const c=hp(),h=this.No(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,l),this.Bo(n,h,p,i).then(y=>(he("RestConnection",`Received RPC '${n}' ${c}: `,y),y),y=>{throw ll("RestConnection",`RPC '${n}' ${c} failed with error: `,y,"url: ",h,"request:",i),y})}ko(n,r,i,a,l,c){return this.Oo(n,r,i,a,l)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+El}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>n[l]=a),i&&i.headers.forEach((a,l)=>n[l]=a)}No(n,r){const i=LR[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const a=hp();return new Promise((l,c)=>{const h=new V_;h.setWithCredentials(!0),h.listenOnce(F_.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ih.NO_ERROR:const y=h.getResponseJson();he(hn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case ih.TIMEOUT:he(hn,`RPC '${e}' ${a} timed out`),c(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const _=h.getStatus();if(he(hn,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const k=b==null?void 0:b.error;if(k&&k.status&&k.message){const I=function(S){const A=S.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(A)>=0?A:Z.UNKNOWN}(k.status);c(new fe(I,k.message))}else c(new fe(Z.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{he(hn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);he(hn,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",p,r,15)})}qo(e,n,r){const i=hp(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=B_(),c=$_(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const y=a.join("");he(hn,`Creating RPC '${e}' stream ${i}: ${y}`,h);const _=l.createWebChannel(y,h);let b=!1,k=!1;const I=new VR({Eo:S=>{k?he(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(he(hn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),b=!0),he(hn,`RPC '${e}' stream ${i} sending:`,S),_.send(S))},Ao:()=>_.close()}),P=(S,A,R)=>{S.listen(A,B=>{try{R(B)}catch(q){setTimeout(()=>{throw q},0)}})};return P(_,ku.EventType.OPEN,()=>{k||(he(hn,`RPC '${e}' stream ${i} transport opened.`),I.So())}),P(_,ku.EventType.CLOSE,()=>{k||(k=!0,he(hn,`RPC '${e}' stream ${i} transport closed`),I.Do())}),P(_,ku.EventType.ERROR,S=>{k||(k=!0,ll(hn,`RPC '${e}' stream ${i} transport errored:`,S),I.Do(new fe(Z.UNAVAILABLE,"The operation could not be completed")))}),P(_,ku.EventType.MESSAGE,S=>{var A;if(!k){const R=S.data[0];et(!!R);const B=R,q=(B==null?void 0:B.error)||((A=B[0])===null||A===void 0?void 0:A.error);if(q){he(hn,`RPC '${e}' stream ${i} received error:`,q);const oe=q.status;let J=function(O){const L=Mt[O];if(L!==void 0)return px(L)}(oe),j=q.message;J===void 0&&(J=Z.INTERNAL,j="Unknown error status: "+oe+" with message "+q.message),k=!0,I.Do(new fe(J,j)),_.close()}else he(hn,`RPC '${e}' stream ${i} received:`,R),I.vo(R)}}),P(c,U_.STAT_EVENT,S=>{S.stat===Op.PROXY?he(hn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Op.NOPROXY&&he(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.bo()},0),I}}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){return new q2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r=1e3,i=1.5,a=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,r,i,a,l,c,h){this.li=e,this.Yo=r,this.Zo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Cx(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new fe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UR extends Rx{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=Y2(this.serializer,e),r=function(a){if(!("targetChange"in a))return Pe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?li(l.readTime):Pe.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Wp(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=Vp(h)?{documents:J2(a,h)}:{query:Z2(a,h).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=vx(a,l.resumeToken);const p=$p(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Pe.min())>0){c.readTime=Th(a,l.snapshotVersion.toTimestamp());const p=$p(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=tR(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Wp(this.serializer),n.removeTarget=e,this.c_(n)}}class $R extends Rx{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=X2(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Wp(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Q2(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,Bp(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(Z.UNKNOWN,a.toString())})}ko(e,n,r,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Bp(n,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Z.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class zR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Gi(n),this.C_=!1):he("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{aa(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Ae(h);p.k_.add(4),await cc(p),p.K_.set("Unknown"),p.k_.delete(4),await ef(p)}(this))})}),this.K_=new zR(r,i)}}async function ef(t){if(aa(t))for(const e of t.q_)await e(!0)}async function cc(t){for(const e of t.q_)await e(!1)}function Nx(t,e){const n=Ae(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Hg(n)?Wg(n):Il(n).s_()&&zg(n,e))}function Bg(t,e){const n=Ae(t),r=Il(n);n.B_.delete(e),r.s_()&&Px(n,e),n.B_.size===0&&(r.s_()?r.a_():aa(n)&&n.K_.set("Unknown"))}function zg(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).V_(e)}function Px(t,e){t.U_.xe(e),Il(t).m_(e)}function Wg(t){t.U_=new B2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.K_.F_()}function Hg(t){return aa(t)&&!Il(t).i_()&&t.B_.size>0}function aa(t){return Ae(t).k_.size===0}function Ax(t){t.U_=void 0}async function HR(t){t.K_.set("Online")}async function qR(t){t.B_.forEach((e,n)=>{zg(t,e)})}async function GR(t,e){Ax(t),Hg(t)?(t.K_.O_(e),Wg(t)):t.K_.set("Unknown")}async function KR(t,e,n){if(t.K_.set("Online"),e instanceof yx&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.B_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.B_.delete(c),i.U_.removeTarget(c))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ih(t,r)}else if(e instanceof lh?t.U_.$e(e):e instanceof gx?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Pe.min()))try{const r=await Sx(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.U_.it(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=a.B_.get(p);y&&a.B_.set(p,y.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const y=a.B_.get(h);if(!y)return;a.B_.set(h,y.withResumeToken(on.EMPTY_BYTE_STRING,y.snapshotVersion)),Px(a,h);const _=new $s(y.target,h,p,y.sequenceNumber);zg(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Ih(t,r)}}async function Ih(t,e,n){if(!Tl(e))throw e;t.k_.add(1),await cc(t),t.K_.set("Offline"),n||(n=()=>Sx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await ef(t)})}function Dx(t,e){return e().catch(n=>Ih(t,n,e))}async function tf(t){const e=Ae(t),n=Js(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;YR(e);)try{const i=await AR(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,QR(e,i)}catch(i){await Ih(e,i)}Ox(e)&&Mx(e)}function YR(t){return aa(t)&&t.L_.length<10}function QR(t,e){t.L_.push(e);const n=Js(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Ox(t){return aa(t)&&!Js(t).i_()&&t.L_.length>0}function Mx(t){Js(t).start()}async function XR(t){Js(t).w_()}async function JR(t){const e=Js(t);for(const n of t.L_)e.g_(n.mutations)}async function ZR(t,e,n){const r=t.L_.shift(),i=jg.from(r,e,n);await Dx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tf(t)}async function eN(t,e){e&&Js(t).f_&&await async function(r,i){if(function(l){return F2(l)&&l!==Z.ABORTED}(i.code)){const a=r.L_.shift();Js(r).__(),await Dx(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await tf(r)}}(t,e),Ox(t)&&Mx(t)}async function Ww(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=aa(n);n.k_.add(3),await cc(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ef(n)}async function tN(t,e){const n=Ae(t);e?(n.k_.delete(2),await ef(n)):e||(n.k_.add(2),await cc(n),n.K_.set("Unknown"))}function Il(t){return t.W_||(t.W_=function(n,r,i){const a=Ae(n);return a.b_(),new UR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:HR.bind(null,t),mo:qR.bind(null,t),po:GR.bind(null,t),R_:KR.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Hg(t)?Wg(t):t.K_.set("Unknown")):(await t.W_.stop(),Ax(t))})),t.W_}function Js(t){return t.G_||(t.G_=function(n,r,i){const a=Ae(n);return a.b_(),new $R(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:XR.bind(null,t),po:eN.bind(null,t),p_:JR.bind(null,t),y_:ZR.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await tf(t)):(await t.G_.stop(),t.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new qg(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(t,e){if(Gi("AsyncQueue",`${e}: ${t}`),Tl(t))return new fe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Iu(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.z_=new Et(xe.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fl{constructor(e,n,r,i,a,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new fl(e,n,tl.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class rN{constructor(){this.queries=qw(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Ae(n),a=i.queries;i.queries=qw(),a.forEach((l,c)=>{for(const h of c.J_)h.onError(r)})})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function qw(){return new oa(t=>tx(t),Kh)}async function jx(t,e){const n=Ae(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Y_()&&e.Z_()&&(r=2):(a=new nN,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await n.onListen(i,!0);break;case 1:a.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Gg(l,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.J_.push(e),e.ea(n.onlineState),a.H_&&e.ta(a.H_)&&Kg(n)}async function Lx(t,e){const n=Ae(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.J_.indexOf(e);l>=0&&(a.J_.splice(l,1),a.J_.length===0?i=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iN(t,e){const n=Ae(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.J_)c.ta(i)&&(r=!0);l.H_=i}}r&&Kg(n)}function sN(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const a of i.J_)a.onError(n);r.queries.delete(e)}function Kg(t){t.X_.forEach(e=>{e.next()})}var qp,Gw;(Gw=qp||(qp={})).na="default",Gw.Cache="cache";class Vx{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.key=e}}class Ux{constructor(e){this.key=e}}class oN{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ze(),this.mutatedKeys=ze(),this.Va=nx(e),this.ma=new tl(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new Hw,i=n?n.ma:this.ma;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,_)=>{const b=i.get(y),k=Yh(this.query,_)?_:null,I=!!b&&this.mutatedKeys.has(b.key),P=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let S=!1;b&&k?b.data.isEqual(k.data)?I!==P&&(r.track({type:3,doc:k}),S=!0):this.ya(b,k)||(r.track({type:2,doc:k}),S=!0,(h&&this.Va(k,h)>0||p&&this.Va(k,p)<0)&&(c=!0)):!b&&k?(r.track({type:0,doc:k}),S=!0):b&&!k&&(r.track({type:1,doc:b}),S=!0,(h||p)&&(c=!0)),S&&(k?(l=l.add(k),a=P?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{ma:l,pa:r,ss:c,mutatedKeys:a}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((y,_)=>function(k,I){const P=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return P(k)-P(I)}(y.type,_.type)||this.Va(y.doc,_.doc)),this.wa(r),i=i!=null&&i;const c=n&&!i?this.Sa():[],h=this.Ra.size===0&&this.current&&!i?1:0,p=h!==this.Aa;return this.Aa=h,l.length!==0||p?{snapshot:new fl(this.query,e.ma,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Hw,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ze(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new Ux(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new Fx(r))}),n}va(e){this.da=e.ds,this.Ra=ze();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return fl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class aN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lN{constructor(e){this.key=e,this.Fa=!1}}class uN{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new oa(c=>tx(c),Kh),this.Oa=new Map,this.Na=new Set,this.La=new Et(xe.comparator),this.Ba=new Map,this.ka=new Fg,this.qa={},this.Qa=new Map,this.Ka=hl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function cN(t,e,n=!0){const r=qx(t);let i;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Ca()):i=await $x(r,e,n,!0),i}async function dN(t,e){const n=qx(t);await $x(n,e,!0,!1)}async function $x(t,e,n,r){const i=await DR(t.localStore,ai(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await hN(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Nx(t.remoteStore,i),c}async function hN(t,e,n,r,i){t.Ua=(_,b,k)=>async function(P,S,A,R){let B=S.view.ga(A);B.ss&&(B=await $w(P.localStore,S.query,!1).then(({documents:j})=>S.view.ga(j,B)));const q=R&&R.targetChanges.get(S.targetId),oe=R&&R.targetMismatches.get(S.targetId)!=null,J=S.view.applyChanges(B,P.isPrimaryClient,q,oe);return Yw(P,S.targetId,J.ba),J.snapshot}(t,_,b,k);const a=await $w(t.localStore,e,!0),l=new oN(e,a.ds),c=l.ga(a.documents),h=uc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,h);Yw(t,n,p.ba);const y=new aN(e,n,l);return t.xa.set(e,y),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function fN(t,e,n){const r=Ae(t),i=r.xa.get(e),a=r.Oa.get(i.targetId);if(a.length>1)return r.Oa.set(i.targetId,a.filter(l=>!Kh(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bg(r.remoteStore,i.targetId),Gp(r,i.targetId)}).catch(bl)):(Gp(r,i.targetId),await Hp(r.localStore,i.targetId,!0))}async function mN(t,e){const n=Ae(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bg(n.remoteStore,r.targetId))}async function pN(t,e,n){const r=EN(t);try{const i=await function(l,c){const h=Ae(l),p=vt.now(),y=c.reduce((k,I)=>k.add(I.key),ze());let _,b;return h.persistence.runTransaction("Locally write mutations","readwrite",k=>{let I=Ki(),P=ze();return h.hs.getEntries(k,y).next(S=>{I=S,I.forEach((A,R)=>{R.isValidDocument()||(P=P.add(A))})}).next(()=>h.localDocuments.getOverlayedDocuments(k,I)).next(S=>{_=S;const A=[];for(const R of c){const B=O2(R,_.get(R.key).overlayedDocument);B!=null&&A.push(new eo(R.key,B,G_(B.value.mapValue),ar.exists(!0)))}return h.mutationQueue.addMutationBatch(k,p,A,c)}).next(S=>{b=S;const A=S.applyToLocalDocumentSet(_,P);return h.documentOverlayCache.saveOverlays(k,S.batchId,A)})}).then(()=>({batchId:b.batchId,changes:ix(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.qa[l.currentUser.toKey()];p||(p=new Et(He)),p=p.insert(c,h),l.qa[l.currentUser.toKey()]=p}(r,i.batchId,n),await dc(r,i.changes),await tf(r.remoteStore)}catch(i){const a=Gg(i,"Failed to persist write");n.reject(a)}}async function Bx(t,e){const n=Ae(t);try{const r=await NR(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.Ba.get(a);l&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?et(l.Fa):i.removedDocuments.size>0&&(et(l.Fa),l.Fa=!1))}),await dc(n,r,e)}catch(r){await bl(r)}}function Kw(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((a,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=Ae(l);h.onlineState=c;let p=!1;h.queries.forEach((y,_)=>{for(const b of _.J_)b.ea(c)&&(p=!0)}),p&&Kg(h)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gN(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),a=i&&i.key;if(a){let l=new Et(xe.comparator);l=l.insert(a,pn.newNoDocument(a,Pe.min()));const c=ze().add(a),h=new Jh(Pe.min(),new Map,new Et(He),l,c);await Bx(r,h),r.La=r.La.remove(a),r.Ba.delete(e),Yg(r)}else await Hp(r.localStore,e,!1).then(()=>Gp(r,e,n)).catch(bl)}async function yN(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await RR(n.localStore,e);Wx(n,r,null),zx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dc(n,i)}catch(i){await bl(i)}}async function vN(t,e,n){const r=Ae(t);try{const i=await function(l,c){const h=Ae(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,c).next(_=>(et(_!==null),y=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);Wx(r,e,n),zx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dc(r,i)}catch(i){await bl(i)}}function zx(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function Wx(t,e,n){const r=Ae(t);let i=r.qa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Gp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||Hx(t,r)})}function Hx(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Bg(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Yg(t))}function Yw(t,e,n){for(const r of n)r instanceof Fx?(t.ka.addReference(r.key,e),wN(t,r)):r instanceof Ux?(he("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||Hx(t,r.key)):Re()}function wN(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(he("SyncEngine","New document in limbo: "+n),t.Na.add(r),Yg(t))}function Yg(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new xe(ft.fromString(e)),r=t.Ka.next();t.Ba.set(r,new lN(n)),t.La=t.La.insert(n,r),Nx(t.remoteStore,new $s(ai(Dg(n.path)),r,"TargetPurposeLimboResolution",Hh.oe))}}async function dc(t,e,n){const r=Ae(t),i=[],a=[],l=[];r.xa.isEmpty()||(r.xa.forEach((c,h)=>{l.push(r.Ua(h,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){i.push(p);const _=$g.zi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(h,p){const y=Ae(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(p,b=>ee.forEach(b.Wi,k=>y.persistence.referenceDelegate.addReference(_,b.targetId,k)).next(()=>ee.forEach(b.Gi,k=>y.persistence.referenceDelegate.removeReference(_,b.targetId,k)))))}catch(_){if(!Tl(_))throw _;he("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const k=y.us.get(b),I=k.snapshotVersion,P=k.withLastLimboFreeSnapshotVersion(I);y.us=y.us.insert(b,P)}}}(r.localStore,a))}async function _N(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await Ix(n.localStore,e);n.currentUser=e,function(a,l){a.Qa.forEach(c=>{c.forEach(h=>{h.reject(new fe(Z.CANCELLED,l))})}),a.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dc(n,r.Ts)}}function xN(t,e){const n=Ae(t),r=n.Ba.get(e);if(r&&r.Fa)return ze().add(r.key);{let i=ze();const a=n.Oa.get(e);if(!a)return i;for(const l of a){const c=n.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function qx(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gN.bind(null,e),e.Ma.R_=iN.bind(null,e.eventManager),e.Ma.Wa=sN.bind(null,e.eventManager),e}function EN(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vN.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return CR(this.persistence,new IR,e.initialUser,this.serializer)}ja(e){return new kx(Ug.ei,this.serializer)}za(e){return new MR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class bN extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){et(this.persistence.referenceDelegate instanceof kh);const r=this.persistence.referenceDelegate.garbageCollector;return new dR(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new kx(r=>kh.ei(r,n),this.serializer)}}class Kp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_N.bind(null,this.syncEngine),await tN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rN}()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),r=function(a){return new FR(a)}(e.databaseInfo);return function(a,l,c,h){return new BR(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,c){return new WR(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Kw(this.syncEngine,n,0),function(){return zw.p()?new zw:new jR}())}createSyncEngine(e,n){return function(i,a,l,c,h,p,y){const _=new uN(i,a,l,c,h,p);return y&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ae(i);he("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await cc(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kp.provider={build:()=>new Kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=W_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mp(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ix(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kN(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ww(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ww(e.remoteStore,i)),t._onlineComponents=e}async function kN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await mp(t,new Sh)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await mp(t,new bN(void 0));return t._offlineComponents}async function Kx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Qw(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Qw(t,new Kp))),t._onlineComponents}function IN(t){return Kx(t).then(e=>e.syncEngine)}async function Yx(t){const e=await Kx(t),n=e.eventManager;return n.onListen=cN.bind(null,e.syncEngine),n.onUnlisten=fN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mN.bind(null,e.syncEngine),n}function SN(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const y=new Gx({next:b=>{y.eu(),l.enqueueAndForget(()=>Lx(a,_));const k=b.docs.has(c);!k&&b.fromCache?p.reject(new fe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&b.fromCache&&h&&h.source==="server"?p.reject(new fe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new Vx(Dg(c.path),y,{includeMetadataChanges:!0,ua:!0});return jx(a,_)}(await Yx(t),t.asyncQueue,e,n,r)),r.promise}function CN(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const y=new Gx({next:b=>{y.eu(),l.enqueueAndForget(()=>Lx(a,_)),b.fromCache&&h.source==="server"?p.reject(new fe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new Vx(c,y,{includeMetadataChanges:!0,ua:!0});return jx(a,_)}(await Yx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e,n){if(!n)throw new fe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RN(t,e,n,r){if(e===!0&&r===!0)throw new fe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jw(t){if(!xe.isDocumentKey(t))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zw(t){if(xe.isDocumentKey(t))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function Fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(t);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BC;switch(r.type){case"firstParty":return new qC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Xw.get(n);r&&(he("ComponentProvider","Removing Datastore"),Xw.delete(n),r.terminate())}(this),Promise.resolve()}}function NN(t,e,n,r={}){var i;const a=(t=Fr(t,rf))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=mn.MOCK_USER;else{c=P_(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mn(p)}t._authCredentials=new zC(new z_(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Hs extends la{constructor(e,n,r){super(e,n,Dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new xe(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function ti(t,e,...n){if(t=mt(t),Xx("collection","path",e),t instanceof rf){const r=ft.fromString(e,...n);return Zw(r),new Hs(t,null,r)}{if(!(t instanceof Tn||t instanceof Hs))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return Zw(r),new Hs(t.firestore,null,r)}}function Nt(t,e,...n){if(t=mt(t),arguments.length===1&&(e=W_.newId()),Xx("doc","path",e),t instanceof rf){const r=ft.fromString(e,...n);return Jw(r),new Tn(t,null,new xe(r))}{if(!(t instanceof Tn||t instanceof Hs))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return Jw(r),new Tn(t.firestore,t instanceof Hs?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Cx(this,"async_queue_retry"),this.fu=()=>{const r=fp();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Bi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Tl(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Gi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=qg.createAndSchedule(this,e,n,r,a=>this.Su(a));return this.du.push(i),i}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class ua extends rf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new t1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t1(e),this._firestoreClient=void 0,await e}}}function PN(t,e){const n=typeof t=="object"?t:Sg(),r=typeof t=="string"?t:"(default)",i=Wh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=C_("firestore");a&&NN(i,...a)}return i}function Qg(t){if(t._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AN(t),t._firestoreClient}function AN(t){var e,n,r;const i=t._freezeSettings(),a=function(c,h,p,y){return new a2(c,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Qx(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new TN(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(on.fromBase64String(e))}catch(n){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=/^__.*__$/;class ON{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new lc(e,this.data,n,this.fieldTransforms)}}class Jx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Zg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ch(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Zx(this.Mu)&&DN.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class MN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zh(e)}$u(e,n,r,i=!1){return new Zg({Mu:e,methodName:n,Ku:r,path:sn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function of(t){const e=t._freezeSettings(),n=Zh(t._databaseId);return new MN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eE(t,e,n,r,i,a={}){const l=t.$u(a.merge||a.mergeFields?2:0,e,n,i);n0("Data must be an object, but it was:",l,r);const c=tE(r,l);let h,p;if(a.merge)h=new qn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const b=Yp(e,_,n);if(!l.contains(b))throw new fe(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);rE(y,b)||y.push(b)}h=new qn(y),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new ON(new Vn(c),h,p)}class af extends hc{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}class e0 extends hc{_toFieldTransform(e){return new hx(e.path,new Yu)}isEqual(e){return e instanceof e0}}class t0 extends hc{constructor(e,n){super(e),this.Wu=n}_toFieldTransform(e){const n=new Ju(e.serializer,ax(e.serializer,this.Wu));return new hx(e.path,n)}isEqual(e){return e instanceof t0&&this.Wu===e.Wu}}function jN(t,e,n,r){const i=t.$u(1,e,n);n0("Data must be an object, but it was:",i,r);const a=[],l=Vn.empty();Zs(r,(h,p)=>{const y=r0(e,h,n);p=mt(p);const _=i.Bu(y);if(p instanceof af)a.push(y);else{const b=fc(p,_);b!=null&&(a.push(y),l.set(y,b))}});const c=new qn(a);return new Jx(l,c,i.fieldTransforms)}function LN(t,e,n,r,i,a){const l=t.$u(1,e,n),c=[Yp(e,r,n)],h=[i];if(a.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)c.push(Yp(e,a[b])),h.push(a[b+1]);const p=[],y=Vn.empty();for(let b=c.length-1;b>=0;--b)if(!rE(p,c[b])){const k=c[b];let I=h[b];I=mt(I);const P=l.Bu(k);if(I instanceof af)p.push(k);else{const S=fc(I,P);S!=null&&(p.push(k),y.set(k,S))}}const _=new qn(p);return new Jx(y,_,l.fieldTransforms)}function VN(t,e,n,r=!1){return fc(n,t.$u(r?4:3,e))}function fc(t,e){if(nE(t=mt(t)))return n0("Unsupported field value:",e,t),tE(t,e);if(t instanceof hc)return function(r,i){if(!Zx(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let h=fc(c,i.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ax(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=vt.fromDate(r);return{timestampValue:Th(i.serializer,a)}}if(r instanceof vt){const a=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(i.serializer,a)}}if(r instanceof Xg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ml)return{bytesValue:vx(i.serializer,r._byteString)};if(r instanceof Tn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Vg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jg)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.qu("VectorValues must only contain numeric values.");return Og(c.serializer,h)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${nf(r)}`)}(t,e)}function tE(t,e){const n={};return H_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{const a=fc(i,e.Ou(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function nE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Xg||t instanceof ml||t instanceof Tn||t instanceof hc||t instanceof Jg)}function n0(t,e,n){if(!nE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nf(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Yp(t,e,n){if((e=mt(e))instanceof sf)return e._internalPath;if(typeof e=="string")return r0(t,e);throw Ch("Field path arguments must be of type string or ",t,!1,void 0,n)}const FN=new RegExp("[~\\*/\\[\\]]");function r0(t,e,n){if(e.search(FN)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ch(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new fe(Z.INVALID_ARGUMENT,c+t+h)}function rE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UN extends iE{data(){return super.data()}}function lf(t,e){return typeof e=="string"?r0(t,e):e instanceof sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i0{}class sE extends i0{}function Mu(t,e,...n){let r=[];e instanceof i0&&r.push(e),r=r.concat(n),function(a){const l=a.filter(h=>h instanceof s0).length,c=a.filter(h=>h instanceof uf).length;if(l>1||l>0&&c>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class uf extends sE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uf(e,n,r)}_apply(e){const n=this._parse(e);return oE(e._query,n),new la(e.firestore,e.converter,Fp(e._query,n))}_parse(e){const n=of(e.firestore);return function(a,l,c,h,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){r1(_,y);const k=[];for(const I of _)k.push(n1(h,a,I));b={arrayValue:{values:k}}}else b=n1(h,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||r1(_,y),b=VN(c,l,_,y==="in"||y==="not-in");return jt.create(p,y,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ju(t,e,n){const r=e,i=lf("where",t);return uf._create(i,r,n)}class s0 extends i0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const h of c)oE(l,h),l=Fp(l,h)}(e._query,n),new la(e.firestore,e.converter,Fp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o0 extends sE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new o0(e,n)}_apply(e){const n=function(i,a,l){if(i.startAt!==null)throw new fe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ku(a,l)}(e._query,this._field,this._direction);return new la(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new kl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function BN(t,e="asc"){const n=e,r=lf("orderBy",t);return o0._create(r,n)}function n1(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ex(e)&&n.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!xe.isDocumentKey(r))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bw(t,new xe(r))}if(n instanceof Tn)return bw(t,n._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function r1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oE(t,e){const n=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zN{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zs(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Pt(l.doubleValue));return new Jg(a)}convertGeoPoint(e){return new Xg(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);et(Tx(r));const i=new qu(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return i.isEqual(n)||Gi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lE extends iE{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class uh extends lE{data(e={}){return super.data(e)}}class WN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uh(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new uh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Cu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new uh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Cu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),y=l.indexOf(c.doc.key)),{type:HN(c.type),doc:h,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){t=Fr(t,Tn);const e=Fr(t.firestore,ua);return SN(Qg(e),t._key).then(n=>qN(e,t,n))}class uE extends zN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Fo(t){t=Fr(t,la);const e=Fr(t.firestore,ua),n=Qg(e),r=new uE(e);return $N(t._query),CN(n,t._query).then(i=>new WN(e,r,t,i))}function ch(t,e,n){t=Fr(t,Tn);const r=Fr(t.firestore,ua),i=aE(t.converter,e);return cf(r,[eE(of(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ar.none())])}function Ai(t,e,n,...r){t=Fr(t,Tn);const i=Fr(t.firestore,ua),a=of(i);let l;return l=typeof(e=mt(e))=="string"||e instanceof sf?LN(a,"updateDoc",t._key,e,n,r):jN(a,"updateDoc",t._key,e),cf(i,[l.toMutation(t._key,ar.exists(!0))])}function Kd(t){return cf(Fr(t.firestore,ua),[new Mg(t._key,ar.none())])}function dh(t,e){const n=Fr(t.firestore,ua),r=Nt(t),i=aE(t.converter,e);return cf(n,[eE(of(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function cf(t,e){return function(r,i){const a=new Bi;return r.asyncQueue.enqueueAndForget(async()=>pN(await IN(r),i,a)),a.promise}(Qg(t),e)}function qN(t,e,n){const r=n.docs.get(e._key),i=new uE(t);return new lE(t,i,e._key,r,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}function GN(){return new e0("serverTimestamp")}function pp(t){return new t0("increment",t)}(function(e,n=!0){(function(i){El=i})(sa),Jo(new Gs("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new ua(new WC(r.getProvider("auth-internal")),new KC(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(p.options.projectId,y)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),oi(yw,"4.7.5",e),oi(yw,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firebasestorage.googleapis.com",dE="storageBucket",KN=2*60*1e3,YN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends hi{constructor(e,n,r=0){super(gp(e),`Firebase Storage: ${n} (${gp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function gp(t){return"storage/"+t}function a0(){const t="An unknown error occurred, please check the error payload for server response.";return new kt(Tt.UNKNOWN,t)}function QN(t){return new kt(Tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function XN(t){return new kt(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JN(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kt(Tt.UNAUTHENTICATED,t)}function ZN(){return new kt(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eP(t){return new kt(Tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tP(){return new kt(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nP(){return new kt(Tt.CANCELED,"User canceled the upload/download.")}function rP(t){return new kt(Tt.INVALID_URL,"Invalid URL '"+t+"'.")}function iP(t){return new kt(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sP(){return new kt(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dE+"' property when initializing the app?")}function oP(){return new kt(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aP(){return new kt(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lP(t){return new kt(Tt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qp(t){return new kt(Tt.INVALID_ARGUMENT,t)}function hE(){return new kt(Tt.APP_DELETED,"The Firebase app was deleted.")}function uP(t){return new kt(Tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lu(t,e){return new kt(Tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vu(t){throw new kt(Tt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw iP(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function p(q){q.path_=decodeURIComponent(q.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",k=new RegExp(`^https?://${_}/${y}/b/${i}/o${b}`,"i"),I={bucket:1,path:3},P=n===cE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",A=new RegExp(`^https?://${P}/${i}/${S}`,"i"),B=[{regex:c,indices:h,postModify:a},{regex:k,indices:I,postModify:p},{regex:A,indices:{bucket:1,path:2},postModify:p}];for(let q=0;q<B.length;q++){const oe=B[q],J=oe.regex.exec(e);if(J){const j=J[oe.indices.bucket];let N=J[oe.indices.path];N||(N=""),r=new bn(j,N),oe.postModify(r);break}}if(r==null)throw rP(e);return r}}class cP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e,n){let r=1,i=null,a=null,l=!1,c=0;function h(){return c===2}let p=!1;function y(...S){p||(p=!0,e.apply(null,S))}function _(S){i=setTimeout(()=>{i=null,t(k,h())},S)}function b(){a&&clearTimeout(a)}function k(S,...A){if(p){b();return}if(S){b(),y.call(null,S,...A);return}if(h()||l){b(),y.call(null,S,...A);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,_(B)}let I=!1;function P(S){I||(I=!0,b(),!p&&(i!==null?(S||(c=2),clearTimeout(i),_(0)):S||(c=1)))}return _(0),a=setTimeout(()=>{l=!0,P(!0)},n),P}function hP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){return t!==void 0}function mP(t){return typeof t=="object"&&!Array.isArray(t)}function l0(t){return typeof t=="string"||t instanceof String}function i1(t){return u0()&&t instanceof Blob}function u0(){return typeof Blob<"u"}function Xp(t,e,n,r){if(r<e)throw Qp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function fE(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Qo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qo||(Qo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n,r,i,a,l,c,h,p,y,_,b=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,I)=>{this.resolve_=k,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Yd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Qo.NO_ERROR,h=a.getStatus();if(!c||pP(h,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===Qo.ABORT;r(!1,new Yd(!1,null,y));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Yd(p,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());fP(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=a0();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?hE():nP();l(h)}else{const h=tP();l(h)}};this.canceled_?n(!1,new Yd(!1,null,!0)):this.backoffId_=dP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _P(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xP(t,e,n,r,i,a,l=!0){const c=fE(t.urlParams),h=t.url+c,p=Object.assign({},t.headers);return wP(p,e),yP(p,n),vP(p,a),_P(p,r),new gP(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bP(...t){const e=EP();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(u0())return new Blob(t);throw new kt(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TP(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){if(typeof atob>"u")throw lP("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yp{constructor(e,n){this.data=e,this.contentType=n||null}}function IP(t,e){switch(t){case ii.RAW:return new yp(mE(e));case ii.BASE64:case ii.BASE64URL:return new yp(pE(t,e));case ii.DATA_URL:return new yp(CP(e),RP(e))}throw a0()}function mE(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function SP(t){let e;try{e=decodeURIComponent(t)}catch{throw Lu(ii.DATA_URL,"Malformed data URL.")}return mE(e)}function pE(t,e){switch(t){case ii.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Lu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ii.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Lu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kP(e)}catch(i){throw i.message.includes("polyfill")?i:Lu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class gE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lu(ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=NP(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function CP(t){const e=new gE(t);return e.base64?pE(ii.BASE64,e.rest):SP(e.rest)}function RP(t){return new gE(t).contentType}function NP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){let r=0,i="";i1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(i1(this.data_)){const r=this.data_,i=TP(r,e,n);return i===null?null:new Ms(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ms(r,!0)}}static getBlob(...e){if(u0()){const n=e.map(r=>r instanceof Ms?r.data_:r);return new Ms(bP.apply(null,n))}else{const n=e.map(l=>l0(l)?IP(ii.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)i[a++]=l[c]}),new Ms(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){let e;try{e=JSON.parse(t)}catch{return null}return mP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AP(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t,e){return e}class xn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||DP}}let Qd=null;function OP(t){return!l0(t)||t.length<2?t:yE(t)}function d0(){if(Qd)return Qd;const t=[];t.push(new xn("bucket")),t.push(new xn("generation")),t.push(new xn("metageneration")),t.push(new xn("name","fullPath",!0));function e(a,l){return OP(l)}const n=new xn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const i=new xn("size");return i.xform=r,t.push(i),t.push(new xn("timeCreated")),t.push(new xn("updated")),t.push(new xn("md5Hash",null,!0)),t.push(new xn("cacheControl",null,!0)),t.push(new xn("contentDisposition",null,!0)),t.push(new xn("contentEncoding",null,!0)),t.push(new xn("contentLanguage",null,!0)),t.push(new xn("contentType",null,!0)),t.push(new xn("metadata","customMetadata",!0)),Qd=t,Qd}function MP(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new bn(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function jP(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return MP(r,t),r}function vE(t,e,n){const r=c0(e);return r===null?null:jP(t,r,n)}function LP(t,e,n,r){const i=c0(e);if(i===null||!l0(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const y=t.bucket,_=t.fullPath,b="/b/"+l(y)+"/o/"+l(_),k=mc(b,n,r),I=fE({alt:"media",token:p});return k+I})[0]}function VP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="prefixes",o1="items";function FP(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[s1])for(const i of n[s1]){const a=i.replace(/\/$/,""),l=t._makeStorageReference(new bn(e,a));r.prefixes.push(l)}if(n[o1])for(const i of n[o1]){const a=t._makeStorageReference(new bn(e,i.name));r.items.push(a)}return r}function UP(t,e,n){const r=c0(n);return r===null?null:FP(t,e,r)}class df{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){if(!t)throw a0()}function wE(t,e){function n(r,i){const a=vE(t,i,e);return h0(a!==null),a}return n}function $P(t,e){function n(r,i){const a=UP(t,e,i);return h0(a!==null),a}return n}function BP(t,e){function n(r,i){const a=vE(t,i,e);return h0(a!==null),LP(a,i,t.host,t._protocol)}return n}function f0(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ZN():i=JN():n.getStatus()===402?i=XN(t.bucket):n.getStatus()===403?i=eP(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _E(t){const e=f0(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=QN(t.path)),a.serverResponse=i.serverResponse,a}return n}function zP(t,e,n){const r=e.fullServerUrl(),i=mc(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new df(i,a,wE(t,n),l);return c.errorHandler=_E(e),c}function WP(t,e,n,r,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);const l=e.bucketOnlyServerUrl(),c=mc(l,t.host,t._protocol),h="GET",p=t.maxOperationRetryTime,y=new df(c,h,$P(t,e.bucket),p);return y.urlParams=a,y.errorHandler=f0(e),y}function HP(t,e,n){const r=e.fullServerUrl(),i=mc(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new df(i,a,BP(t,n),l);return c.errorHandler=_E(e),c}function qP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function GP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=qP(null,e)),r}function KP(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let B="";for(let q=0;q<2;q++)B=B+Math.random().toString().slice(2);return B}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const p=GP(e,r,i),y=VP(p,n),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+h+"--",k=Ms.getBlob(_,r,b);if(k===null)throw oP();const I={name:p.fullPath},P=mc(a,t.host,t._protocol),S="POST",A=t.maxUploadRetryTime,R=new df(P,S,wE(t,n),A);return R.urlParams=I,R.headers=l,R.body=k.uploadData(),R.errorHandler=f0(e),R}class YP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw vu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class QP extends YP{initXhr(){this.xhr_.responseType="text"}}function hf(){return new QP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ea(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yE(this._location.path)}get storage(){return this._service}get parent(){const e=PP(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new ea(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uP(e)}}function XP(t,e,n){t._throwIfRoot("uploadBytes");const r=KP(t.storage,t._location,d0(),new Ms(e,!0),n);return t.storage.makeRequestWithTokens(r,hf).then(i=>({metadata:i,ref:t}))}function JP(t){const e={prefixes:[],items:[]};return xE(t,e).then(()=>e)}async function xE(t,e,n){const i=await ZP(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await xE(t,e,i.nextPageToken)}function ZP(t,e){e!=null&&typeof e.maxResults=="number"&&Xp("options.maxResults",1,1e3,e.maxResults);const n=e,r=WP(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,hf)}function eA(t){t._throwIfRoot("getMetadata");const e=zP(t.storage,t._location,d0());return t.storage.makeRequestWithTokens(e,hf)}function tA(t){t._throwIfRoot("getDownloadURL");const e=HP(t.storage,t._location,d0());return t.storage.makeRequestWithTokens(e,hf).then(n=>{if(n===null)throw aP();return n})}function nA(t,e){const n=AP(t._location.path,e),r=new bn(t._location.bucket,n);return new ea(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){return/^[A-Za-z]+:\/\//.test(t)}function iA(t,e){return new ea(t,e)}function EE(t,e){if(t instanceof m0){const n=t;if(n._bucket==null)throw sP();const r=new ea(n,n._bucket);return e!=null?EE(r,e):r}else return e!==void 0?nA(t,e):t}function sA(t,e){if(e&&rA(e)){if(t instanceof m0)return iA(t,e);throw Qp("To use ref(service, url), the first argument must be a Storage instance.")}else return EE(t,e)}function a1(t,e){const n=e==null?void 0:e[dE];return n==null?null:bn.makeFromBucketSpec(n,t)}function oA(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:P_(i,t.app.options.projectId))}class m0{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=cE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KN,this._maxUploadRetryTime=YN,this._requests=new Set,i!=null?this._bucket=bn.makeFromBucketSpec(i,this._host):this._bucket=a1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=a1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ea(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new cP(hE());{const l=xP(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const l1="@firebase/storage",u1="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="storage";function Jp(t,e,n){return t=mt(t),XP(t,e,n)}function c1(t){return t=mt(t),eA(t)}function d1(t){return t=mt(t),JP(t)}function Rr(t){return t=mt(t),tA(t)}function fn(t,e){return t=mt(t),sA(t,e)}function aA(t=Sg(),e){t=mt(t);const r=Wh(t,bE).getImmediate({identifier:e}),i=C_("storage");return i&&lA(r,...i),r}function lA(t,e,n,r={}){oA(t,e,n,r)}function uA(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new m0(n,r,i,e,sa)}function cA(){Jo(new Gs(bE,uA,"PUBLIC").setMultipleInstances(!0)),oi(l1,u1,""),oi(l1,u1,"esm2017")}cA();var dA="firebase",hA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(dA,hA,"app");function p0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fA=TE,kE=new oc("auth","Firebase",TE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new kg("@firebase/auth");function mA(t,...e){Rh.logLevel<=Be.WARN&&Rh.warn(`Auth (${sa}): ${t}`,...e)}function hh(t,...e){Rh.logLevel<=Be.ERROR&&Rh.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,...e){throw y0(t,...e)}function jr(t,...e){return y0(t,...e)}function g0(t,e,n){const r=Object.assign(Object.assign({},fA()),{[e]:n});return new oc("auth","Firebase",r).create(e,{appName:t.name})}function zi(t){return g0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&lr(t,"argument-error"),g0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kE.create(t,...e)}function Se(t,e,...n){if(!t)throw y0(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hh(e),new Error(e)}function Yi(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gA(){return h1()==="http:"||h1()==="https:"}function h1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gA()||ES()||"connection"in navigator)?navigator.onLine:!0}function vA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=wS()||bS()}get(){return yA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new pc(3e4,6e4);function to(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xi(t,e,n,r,i={}){return SE(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=ac(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return xS()||(p.referrerPolicy="no-referrer"),IE.fetch()(CE(t,t.config.apiHost,n,c),p)})}async function SE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wA),e);try{const i=new EA(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Xd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Xd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Xd(t,"user-disabled",l);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw g0(t,y,p);lr(t,y)}}catch(i){if(i instanceof hi)throw i;lr(t,"network-request-failed",{message:String(i)})}}async function gc(t,e,n,r,i={}){const a=await Xi(t,e,n,r,i);return"mfaPendingCredential"in a&&lr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function CE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?v0(t.config,i):`${t.config.apiScheme}://${i}`}function xA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),_A.get())})}}function Xd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(t,e,r);return i.customData._tokenResponse=n,i}function f1(t){return t!==void 0&&t.enterprise!==void 0}class bA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TA(t,e){return Xi(t,"GET","/v2/recaptchaConfig",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e){return Xi(t,"POST","/v1/accounts:delete",e)}async function RE(t,e){return Xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IA(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=w0(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Vu(vp(i.auth_time)),issuedAtTime:Vu(vp(i.iat)),expirationTime:Vu(vp(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vp(t){return Number(t)*1e3}function w0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const i=I_(n);return i?JSON.parse(i):(hh("Failed to decode base64 JWT payload"),null)}catch(i){return hh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function m1(t){const e=w0(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hi&&SA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await pl(t,RE(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?NE(a.providerUserInfo):[],c=NA(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),y=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new eg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function RA(t){const e=mt(t);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NE(t){return t.map(e=>{var{providerId:n}=e,r=p0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e){const n=await SE(t,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=CE(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",IE.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AA(t,e){return Xi(t,"POST","/v2/accounts:revokeToken",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=m1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await PA(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new nl;return r&&(Se(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Se(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=p0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new eg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await pl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IA(this,e)}reload(){return RA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await pl(this,kA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,h,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,k=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,I=(l=n.photoURL)!==null&&l!==void 0?l:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,S=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,A=(p=n.createdAt)!==null&&p!==void 0?p:void 0,R=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:B,emailVerified:q,isAnonymous:oe,providerData:J,stsTokenManager:j}=n;Se(B&&j,e,"internal-error");const N=nl.fromJSON(this.name,j);Se(typeof B=="string",e,"internal-error"),Ns(_,e.name),Ns(b,e.name),Se(typeof q=="boolean",e,"internal-error"),Se(typeof oe=="boolean",e,"internal-error"),Ns(k,e.name),Ns(I,e.name),Ns(P,e.name),Ns(S,e.name),Ns(A,e.name),Ns(R,e.name);const O=new Li({uid:B,auth:e,email:b,emailVerified:q,displayName:_,isAnonymous:oe,photoURL:I,phoneNumber:k,tenantId:P,stsTokenManager:N,createdAt:A,lastLoginAt:R});return J&&Array.isArray(J)&&(O.providerData=J.map(L=>Object.assign({},L))),S&&(O._redirectEventId=S),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new nl;i.updateFromServerResponse(n);const a=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?NE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new nl;c.updateFromIdToken(r);const h=new Li({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new eg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;function Vi(t){Yi(t instanceof Function,"Expected a class definition");let e=p1.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PE.type="NONE";const g1=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e,n){return`firebase:${t}:${e}:${n}`}class rl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=fh(this.userKey,i.apiKey,a),this.fullPersistenceKey=fh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rl(Vi(g1),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Vi(g1);const l=fh(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const y=await p._get(l);if(y){const _=Li._fromJSON(e,y);p!==a&&(c=_),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new rl(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new rl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LE(e))return"Blackberry";if(VE(e))return"Webos";if(DE(e))return"Safari";if((e.includes("chrome/")||OE(e))&&!e.includes("edge/"))return"Chrome";if(jE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AE(t=gn()){return/firefox\//i.test(t)}function DE(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OE(t=gn()){return/crios\//i.test(t)}function ME(t=gn()){return/iemobile/i.test(t)}function jE(t=gn()){return/android/i.test(t)}function LE(t=gn()){return/blackberry/i.test(t)}function VE(t=gn()){return/webos/i.test(t)}function _0(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DA(t=gn()){var e;return _0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OA(){return TS()&&document.documentMode===10}function FE(t=gn()){return _0(t)||jE(t)||VE(t)||LE(t)||/windows phone/i.test(t)||ME(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e=[]){let n;switch(t){case"Browser":n=y1(gn());break;case"Worker":n=`${y1(gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(t,e={}){return Xi(t,"GET","/v2/passwordPolicy",to(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=6;class VA{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:LA,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v1(this),this.idTokenSubscription=new v1(this),this.beforeStateQueue=new MA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await RE(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(zi(this));const n=e?mt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jA(this),n=new VA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[Vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function no(t){return mt(t)}class v1{constructor(e){this.auth=e,this.observer=null,this.addObserver=AS(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UA(t){ff=t}function $E(t){return ff.loadJS(t)}function $A(){return ff.recaptchaEnterpriseScript}function BA(){return ff.gapiScript}function zA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class WA{constructor(){this.enterprise=new HA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qA="recaptcha-enterprise",BE="NO_RECAPTCHA";class GA{constructor(e){this.type=qA,this.auth=no(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{TA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new bA(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(a,l,c){const h=window.grecaptcha;f1(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(BE)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WA().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&f1(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=$A();h.length!==0&&(h+=c),$E(h).then(()=>{i(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function w1(t,e,n,r=!1,i=!1){const a=new GA(t);let l;if(i)l=BE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function tg(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await w1(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await w1(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e){const n=Wh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(_h(a,e??{}))return i;lr(i,"already-initialized")}return n.initialize({options:e})}function YA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QA(t,e,n){const r=no(t);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=zE(e),{host:l,port:c}=XA(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),JA()}function zE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XA(t){const e=zE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:_1(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:_1(l)}}}function _1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function ZA(t,e){return Xi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){return gc(t,"POST","/v1/accounts:signInWithPassword",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}async function nD(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends x0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,n,"signInWithPassword",eD);case"emailLink":return tD(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,r,"signUpPassword",ZA);case"emailLink":return nD(e,{idToken:n,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t,e){return gc(t,"POST","/v1/accounts:signInWithIdp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="http://localhost";class ta extends x0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=p0(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ta(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,il(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){const e={requestUri:rD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sD(t){const e=bu(Tu(t)).link,n=e?bu(Tu(e)).deep_link_id:null,r=bu(Tu(t)).deep_link_id;return(r?bu(Tu(r)).link:null)||r||n||e||t}class E0{constructor(e){var n,r,i,a,l,c;const h=bu(Tu(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,_=iD((i=h.mode)!==null&&i!==void 0?i:null);Se(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=sD(e);try{return new E0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,n){return Zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=E0.parseLink(n);return Se(r,"argument-error"),Zu._fromEmailAndCode(e,r.code,r.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends b0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends yc{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends yc{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends yc{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e){return gc(t,"POST","/v1/accounts:signUp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Li._fromIdTokenResponse(e,r,i),l=x1(r);return new na({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x1(r);return new na({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends hi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ph(e,n,r,i)}}function WE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(t,a,e,r):a})}async function aD(t,e,n=!1){const r=await pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return na._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e,n=!1){const{auth:r}=t;if(Pr(r.app))return Promise.reject(zi(r));const i="reauthenticate";try{const a=await pl(t,WE(r,i,e,t),n);Se(a.idToken,r,"internal-error");const l=w0(a.idToken);Se(l,r,"internal-error");const{sub:c}=l;return Se(t.uid===c,r,"user-mismatch"),na._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(t,e,n=!1){if(Pr(t.app))return Promise.reject(zi(t));const r="signIn",i=await WE(t,r,e),a=await na._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function uD(t,e){return HE(no(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(t){const e=no(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cD(t,e,n){if(Pr(t.app))return Promise.reject(zi(t));const r=no(t),l=await tg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oD).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&qE(t),h}),c=await na._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function dD(t,e,n){return Pr(t.app)?Promise.reject(zi(t)):uD(mt(t),Sl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e){return Xi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=mt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await pl(r,hD(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function fD(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function mD(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function pD(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function gD(t){return mt(t).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=1e3,vD=10;class KE extends GE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);OA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KE.type="LOCAL";const wD=KE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends GE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YE.type="SESSION";const QE=YE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(n.origin,a)),h=await _D(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=T0("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(b.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function ED(t){ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function bD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kD(){return XE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firebaseLocalStorageDb",ID=1,Dh="firebaseLocalStorage",ZE="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function SD(){const t=indexedDB.deleteDatabase(JE);return new vc(t).toPromise()}function ng(){const t=indexedDB.open(JE,ID);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dh,{keyPath:ZE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await SD(),e(await ng()))})})}async function E1(t,e,n){const r=pf(t,!0).put({[ZE]:e,value:n});return new vc(r).toPromise()}async function CD(t,e){const n=pf(t,!1).get(e),r=await new vc(n).toPromise();return r===void 0?null:r.value}function b1(t,e){const n=pf(t,!0).delete(e);return new vc(n).toPromise()}const RD=800,ND=3;class eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ND)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(kD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bD(),!this.activeServiceWorker)return;this.sender=new xD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await E1(e,Ah,"1"),await b1(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=pf(i,!1).getAll();return new vc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eb.type="LOCAL";const PD=eb;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e){return e?Vi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends x0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AD(t){return HE(t.auth,new k0(t),t.bypassAuthState)}function DD(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),lD(n,new k0(t),t.bypassAuthState)}async function OD(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),aD(n,new k0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AD;case"linkViaPopup":case"linkViaRedirect":return OD;case"reauthViaPopup":case"reauthViaRedirect":return DD;default:lr(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new pc(2e3,1e4);async function jD(t,e,n){if(Pr(t.app))return Promise.reject(jr(t,"operation-not-supported-in-this-environment"));const r=no(t);pA(t,e,b0);const i=tb(r,n);return new Bo(r,"signInViaPopup",e,i).executeNotNull()}class Bo extends nb{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=T0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MD.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="pendingRedirect",mh=new Map;class VD extends nb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await FD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FD(t,e){const n=BD(e),r=$D(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UD(t,e){mh.set(t._key(),e)}function $D(t){return Vi(t._redirectPersistence)}function BD(t){return fh(LD,t.config.apiKey,t.name)}async function zD(t,e,n=!1){if(Pr(t.app))return Promise.reject(zi(t));const r=no(t),i=tb(r,e),l=await new VD(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=10*60*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WD&&this.cachedEventUids.clear(),this.cachedEventUids.has(T1(e))}saveEventToCache(e){this.cachedEventUids.add(T1(e)),this.lastProcessedEventTime=Date.now()}}function T1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(t,e={}){return Xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YD=/^https?/;async function QD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GD(t);for(const n of e)try{if(XD(n))return}catch{}lr(t,"unauthorized-domain")}function XD(t){const e=Zp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!YD.test(n))return!1;if(KD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new pc(3e4,6e4);function k1(){const t=ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZD(t){return new Promise((e,n)=>{var r,i,a;function l(){k1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k1(),n(jr(t,"network-request-failed"))},timeout:JD.get()})}if(!((i=(r=ui().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ui().gapi)===null||a===void 0)&&a.load)l();else{const c=zA("iframefcb");return ui()[c]=()=>{gapi.load?l():n(jr(t,"network-request-failed"))},$E(`${BA()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw ph=null,e})}let ph=null;function e4(t){return ph=ph||ZD(t),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new pc(5e3,15e3),n4="__/auth/iframe",r4="emulator/auth/iframe",i4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o4(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,r4):`https://${t.config.authDomain}/${n4}`,r={apiKey:e.apiKey,appName:t.name,v:sa},i=s4.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ac(r).slice(1)}`}async function a4(t){const e=await e4(t),n=ui().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:o4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i4,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=jr(t,"network-request-failed"),c=ui().setTimeout(()=>{a(l)},t4.get());function h(){ui().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u4=500,c4=600,d4="_blank",h4="http://localhost";class I1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f4(t,e,n,r=u4,i=c4){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},l4),{width:r.toString(),height:i.toString(),top:a,left:l}),p=gn().toLowerCase();n&&(c=OE(p)?d4:n),AE(p)&&(e=e||h4,h.scrollbars="yes");const y=Object.entries(h).reduce((b,[k,I])=>`${b}${k}=${I},`,"");if(DA(p)&&c!=="_self")return m4(e||"",c),new I1(null);const _=window.open(e||"",c,y);Se(_,t,"popup-blocked");try{_.focus()}catch{}return new I1(_)}function m4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="__/auth/handler",g4="emulator/auth/handler",y4=encodeURIComponent("fac");async function S1(t,e,n,r,i,a){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sa,eventId:i};if(e instanceof b0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",PS(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof yc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const h=await t._getAppCheckToken(),p=h?`#${y4}=${encodeURIComponent(h)}`:"";return`${v4(t)}?${ac(c).slice(1)}${p}`}function v4({config:t}){return t.emulator?v0(t,g4):`https://${t.authDomain}/${p4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class w4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QE,this._completeRedirectFn=zD,this._overrideRedirectResult=UD}async _openPopup(e,n,r,i){var a;Yi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await S1(e,n,r,Zp(),i);return f4(e,l,T0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await S1(e,n,r,Zp(),i);return ED(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Yi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await a4(e),r=new HD(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[_p];l!==void 0&&n(!!l),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FE()||DE()||_0()}}const _4=w4;var C1="@firebase/auth",R1="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b4(t){Jo(new Gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Se(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(t)},p=new FA(r,i,a,h);return YA(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jo(new Gs("auth-internal",e=>{const n=no(e.getProvider("auth").getImmediate());return(r=>new x4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(C1,R1,E4(t)),oi(C1,R1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=5*60,k4=N_("authIdTokenMaxAge")||T4;let N1=null;const I4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k4)return;const i=n==null?void 0:n.token;N1!==i&&(N1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S4(t=Sg()){const e=Wh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KA(t,{popupRedirectResolver:_4,persistence:[PD,wD,QE]}),r=N_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=I4(a.toString());mD(n,l,()=>l(n.currentUser)),fD(n,c=>l(c))}}const i=S_("auth");return i&&QA(n,`http://${i}`),n}function C4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=jr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",C4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b4("Browser");const R4={apiKey:"AIzaSyDj5MCPGgKMe3ixd0oIhdELpNSz5-8KL9I",authDomain:"eart-1180e.firebaseapp.com",projectId:"eart-1180e",storageBucket:"eart-1180e.firebasestorage.app",messagingSenderId:"931756859047",appId:"1:931756859047:web:43d1f5dd5f2ecf66634582",measurementId:"G-G0V3EGSW99"},I0=O_(R4),rt=PN(I0),Oi=S4(I0),Yt=aA(I0);class ei extends Error{constructor(e,n){super(e),this.code=n,this.name="BeatError"}}const Gn={async getAllBeats(){try{const t=ti(rt,"beats"),e=await Fo(t);return(await Promise.all(e.docs.map(async r=>{const i=r.data();try{const a=fn(Yt,i.audioPath),l=await Rr(a);let c="";if(i.imagePath){const h=fn(Yt,i.imagePath);c=await Rr(h)}return{id:r.id,title:i.title,producer:i.producer,style:i.style,price:i.price,duration:i.duration,audioUrl:l,imageUrl:c,createdAt:i.createdAt.toDate(),plays:i.plays||0}}catch(a){return console.error("Error processing beat:",r.id,a),null}}))).filter(r=>r!==null)}catch(t){throw console.error("Error fetching beats:",t),new ei("Impossible de récupérer les beats","FETCH_ERROR")}},async addBeat(t){try{const e={...t,createdAt:vt.now(),plays:0,likes:0},n=ti(rt,"beats");await dh(n,e)}catch(e){throw console.error("Error adding beat:",e),new ei("Impossible d'ajouter le beat","ADD_ERROR")}},async updateBeat(t,e){try{const n=Nt(rt,"beats",t);await Ai(n,e)}catch(n){throw console.error("Error updating beat:",n),new ei("Impossible de mettre à jour le beat","UPDATE_ERROR")}},async deleteBeat(t){try{const e=Nt(rt,"beats",t),n=await Mi(e);if(n.exists()){const r=n.data();if(r.audioPath){const i=fn(Yt,r.audioPath);await Kd(Nt(Yt,i.fullPath))}if(r.imagePath){const i=fn(Yt,r.imagePath);await Kd(Nt(Yt,i.fullPath))}}await Kd(e)}catch(e){throw console.error("Error deleting beat:",e),new ei("Impossible de supprimer le beat","DELETE_ERROR")}},async getPopularBeats(t=5){try{const e=ti(rt,"beats"),n=Mu(e,BN("plays","desc"),t(t)),r=await Fo(n);return(await Promise.all(r.docs.map(async a=>{const l=a.data();try{const c=fn(Yt,l.audioPath),h=await Rr(c);let p="";if(l.imagePath){const y=fn(Yt,l.imagePath);p=await Rr(y)}return{id:a.id,title:l.title,producer:l.producer,style:l.style,price:l.price,duration:l.duration,audioUrl:h,imageUrl:p,createdAt:l.createdAt.toDate(),plays:l.plays||0}}catch(c){return console.error("Error processing beat:",a.id,c),null}}))).filter(a=>a!==null)}catch(e){throw console.error("Error fetching popular beats:",e),new ei("Impossible de récupérer les beats populaires","FETCH_ERROR")}},async updateBeatPlays(t){try{const e=Nt(rt,"beats",t);await Ai(e,{plays:pp(1)})}catch(e){throw console.error("Error updating beat plays:",e),new ei("Impossible de mettre à jour les lectures","UPDATE_ERROR")}},async toggleBeatLike(t,e){try{const n=Nt(rt,"beats",t,"likes",e);(await Mi(n)).exists()?(await Kd(n),await Ai(Nt(rt,"beats",t),{likes:pp(-1)})):(await ch(n,{userId:e,createdAt:vt.now()}),await Ai(Nt(rt,"beats",t),{likes:pp(1)}))}catch(n){throw console.error("Error toggling beat like:",n),new ei("Impossible de mettre à jour les likes","UPDATE_ERROR")}},async getBeatLikeStatus(t,e){try{const n=Nt(rt,"beats",t,"likes",e);return(await Mi(n)).exists()}catch(n){return console.error("Error getting beat like status:",n),!1}},async getBeatById(t){var e;try{const n=await Mi(Nt(rt,"beats",t));if(!n.exists())return null;const r=n.data();let i="";if(r.audioPath)try{const l=fn(Yt,r.audioPath);i=await Rr(l)}catch(l){console.error("Error getting audio URL:",l)}let a="";if(r.imagePath)try{const l=fn(Yt,r.imagePath);a=await Rr(l)}catch(l){console.error("Error getting image URL:",l)}return{id:n.id,title:r.title,producer:r.producer,price:r.price,bpm:r.bpm,audioUrl:i,imageUrl:a,tags:r.tags||[],plays:r.plays||0,likes:r.likes||0,createdAt:((e=r.createdAt)==null?void 0:e.toDate())||new Date}}catch(n){throw console.error("Error fetching beat:",n),new ei("Impossible de récupérer le beat. Veuillez réessayer.","FETCH_ERROR")}},async searchBeats(t){try{const e=ti(rt,"beats"),n=Mu(e,ju("tags","array-contains",t.toLowerCase())),r=await Fo(n);return await Promise.all(r.docs.map(async a=>{var p;const l=a.data();let c="";if(l.audioPath)try{const y=fn(Yt,l.audioPath);c=await Rr(y)}catch(y){console.error("Error getting audio URL:",y)}let h="";if(l.imagePath)try{const y=fn(Yt,l.imagePath);h=await Rr(y)}catch(y){console.error("Error getting image URL:",y)}return{id:a.id,title:l.title,producer:l.producer,price:l.price,bpm:l.bpm,audioUrl:c,imageUrl:h,tags:l.tags||[],plays:l.plays||0,likes:l.likes||0,createdAt:((p=l.createdAt)==null?void 0:p.toDate())||new Date}}))}catch(e){throw console.error("Error searching beats:",e),new ei("Impossible de rechercher les beats. Veuillez réessayer.","SEARCH_ERROR")}},async getLatestBeats(t=6){try{return(await this.getAllBeats()).sort((r,i)=>i.createdAt.getTime()-r.createdAt.getTime()).slice(0,t)}catch(e){throw console.error("Error fetching latest beats:",e),new ei("Impossible de récupérer les derniers beats","FETCH_ERROR")}},async addTestBeats(){const t=[{title:"Midnight Dreams",producer:"43 Art",price:299,style:"Trap",duration:180,audioPath:"beats/midnight-dreams.mp3",imagePath:"beats/covers/midnight-dreams.jpg"},{title:"Ocean Vibes",producer:"43 Art",price:349,style:"R&B",duration:210,audioPath:"beats/ocean-vibes.mp3",imagePath:"beats/covers/ocean-vibes.jpg"},{title:"Street Life",producer:"43 Art",price:399,style:"Drill",duration:240,audioPath:"beats/street-life.mp3",imagePath:"beats/covers/street-life.jpg"},{title:"Summer Nights",producer:"43 Art",price:299,style:"Afro",duration:180,audioPath:"beats/summer-nights.mp3",imagePath:"beats/covers/summer-nights.jpg"},{title:"City Lights",producer:"43 Art",price:449,style:"Trap",duration:210,audioPath:"beats/city-lights.mp3",imagePath:"beats/covers/city-lights.jpg"}];try{await Promise.all(t.map(e=>this.addBeat(e))),console.log("Test beats added successfully")}catch(e){throw console.error("Error adding test beats:",e),e}},async migrateBeatsToFirestore(){try{console.log("Starting beats migration...");try{const a=ti(rt,"beats");await dh(a,{test:!0}),console.log("Firestore permissions OK")}catch(a){throw console.error("Erreur de permissions Firestore:",a),new Error("Vous n'avez pas les permissions nécessaires pour écrire dans Firestore. Veuillez vérifier les règles de sécurité.")}const t=fn(Yt,"beats"),e=await d1(t);let n=0,r=0;const i=[];for(const a of e.items)try{console.log(`Processing beat: ${a.name}`);const l=await c1(a),c=l.customMetadata||{},h=a.name,p=c.title||h.split(".")[0].replace(/-/g," ");let y="",_="";const b=[`beats/covers/${h.split(".")[0]}.jpg`,`beats/covers/${h.split(".")[0]}.png`,`beats/images/${h.split(".")[0]}.jpg`,`beats/images/${h.split(".")[0]}.png`,`covers/${h.split(".")[0]}.jpg`,`covers/${h.split(".")[0]}.png`];for(const R of b)try{const B=fn(Yt,R);await c1(B),y=R,_=await Rr(B),console.log(`Found image at: ${R}`),console.log(`Got image URL: ${_}`);break}catch{continue}y||console.log("No cover image found for:",h);const k=await Rr(a),I={title:p,producer:c.producer||"43 Art",style:c.style||"Trap",price:Number(c.price)||0,duration:Number(c.duration)||0,audioPath:a.fullPath,audioUrl:k,imagePath:y,imageUrl:_,createdAt:l.timeCreated?vt.fromDate(new Date(l.timeCreated)):vt.now(),plays:0,likes:0},P=ti(rt,"beats"),S=Mu(P,ju("title","==",I.title)),A=await Fo(S);if(A.empty){const R=await dh(P,I);console.log(`Created Firestore document for: ${I.title} with ID: ${R.id}`),n++}else{const R=A.docs[0];await Ai(R.ref,I),console.log(`Updated existing document for: ${I.title}`),n++}}catch(l){console.error(`Error processing beat ${a.name}:`,l),r++,i.push({name:a.name,error:l})}console.log("Migration completed!"),console.log(`Successfully processed: ${n} beats`),console.log(`Errors encountered: ${r} beats`),i.length>0&&console.log("Errors details:",i)}catch(t){throw console.error("Migration failed:",t),t}},async testMigration(){try{const t=await d1(fn(Yt,"beats"));console.log(`Nombre de beats dans Storage: ${t.items.length}`);const e=await Fo(ti(rt,"beats"));console.log(`Nombre de beats dans Firestore: ${e.size}`),e.forEach(n=>{const r=n.data();console.log("Beat dans Firestore:",{id:n.id,title:r.title,producer:r.producer,audioPath:r.audioPath})})}catch(t){console.error("Test de migration échoué:",t)}}};function N4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M9.195 18.44c1.25.714 2.805-.189 2.805-1.629v-2.34l6.945 3.968c1.25.715 2.805-.188 2.805-1.628V8.69c0-1.44-1.555-2.343-2.805-1.628L12 11.029v-2.34c0-1.44-1.555-2.343-2.805-1.628l-7.108 4.061c-1.26.72-1.26 2.536 0 3.256l7.108 4.061Z"}))}const P4=x.forwardRef(N4);function A4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M5.055 7.06C3.805 6.347 2.25 7.25 2.25 8.69v8.122c0 1.44 1.555 2.343 2.805 1.628L12 14.471v2.34c0 1.44 1.555 2.343 2.805 1.628l7.108-4.061c1.26-.72 1.26-2.536 0-3.256l-7.108-4.061C13.555 6.346 12 7.249 12 8.689v2.34L5.055 7.061Z"}))}const D4=x.forwardRef(A4);function O4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const M4=x.forwardRef(O4);function j4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M19.952 1.651a.75.75 0 0 1 .298.599V16.303a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.403-4.909l2.311-.66a1.5 1.5 0 0 0 1.088-1.442V6.994l-9 2.572v9.737a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.402-4.909l2.31-.66a1.5 1.5 0 0 0 1.088-1.442V5.25a.75.75 0 0 1 .544-.721l10.5-3a.75.75 0 0 1 .658.122Z",clipRule:"evenodd"}))}const L4=x.forwardRef(j4);function V4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"}))}const F4=x.forwardRef(V4);function U4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const $4=x.forwardRef(U4);function B4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 0 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"}),x.createElement("path",{d:"M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"}))}const z4=x.forwardRef(B4);function W4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z"}))}const H4=x.forwardRef(W4);function q4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const G4=x.forwardRef(q4);function K4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Y4=x.forwardRef(K4);function Q4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const X4=x.forwardRef(Q4);function J4({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Z4=x.forwardRef(J4);function eO({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const tO=x.forwardRef(eO);function nO({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const rO=x.forwardRef(nO);function iO({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const sO=x.forwardRef(iO);function oO({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))}const gh=x.forwardRef(oO);function aO({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const zo=x.forwardRef(aO);function lO({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const rg=x.forwardRef(lO);function uO({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Oh=x.forwardRef(uO);function cO({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ib=x.forwardRef(cO);let dO={data:""},hO=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||dO,fO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mO=/\/\*[^]*?\*\/|  +/g,P1=/\n+/g,Fs=(t,e)=>{let n="",r="",i="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":r+=a[1]=="f"?Fs(l,a):a+"{"+Fs(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=Fs(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,c):c?c+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Fs.p?Fs.p(a,l):a+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ni={},sb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+sb(t[n]);return e}return t},pO=(t,e,n,r,i)=>{let a=sb(t),l=Ni[a]||(Ni[a]=(h=>{let p=0,y=11;for(;p<h.length;)y=101*y+h.charCodeAt(p++)>>>0;return"go"+y})(a));if(!Ni[l]){let h=a!==t?t:(p=>{let y,_,b=[{}];for(;y=fO.exec(p.replace(mO,""));)y[4]?b.shift():y[3]?(_=y[3].replace(P1," ").trim(),b.unshift(b[0][_]=b[0][_]||{})):b[0][y[1]]=y[2].replace(P1," ").trim();return b[0]})(t);Ni[l]=Fs(i?{["@keyframes "+l]:h}:h,n?"":"."+l)}let c=n&&Ni.g?Ni.g:null;return n&&(Ni.g=Ni[l]),((h,p,y,_)=>{_?p.data=p.data.replace(_,h):p.data.indexOf(h)===-1&&(p.data=y?h+p.data:p.data+h)})(Ni[l],e,r,c),l},gO=(t,e,n)=>t.reduce((r,i,a)=>{let l=e[a];if(l&&l.call){let c=l(n),h=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=h?"."+h:c&&typeof c=="object"?c.props?"":Fs(c,""):c===!1?"":c}return r+i+(l??"")},"");function gf(t){let e=this||{},n=t.call?t(e.p):t;return pO(n.unshift?n.raw?gO(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,hO(e.target),e.g,e.o,e.k)}let ob,ig,sg;gf.bind({g:1});let Qi=gf.bind({k:1});function yO(t,e,n,r){Fs.p=e,ob=t,ig=n,sg=r}function ro(t,e){let n=this||{};return function(){let r=arguments;function i(a,l){let c=Object.assign({},a),h=c.className||i.className;n.p=Object.assign({theme:ig&&ig()},c),n.o=/ *go\d+/.test(h),c.className=gf.apply(n,r)+(h?" "+h:"");let p=t;return t[0]&&(p=c.as||t,delete c.as),sg&&p[0]&&sg(c),ob(p,c)}return i}}var vO=t=>typeof t=="function",og=(t,e)=>vO(t)?t(e):t,wO=(()=>{let t=0;return()=>(++t).toString()})(),_O=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),xO=20,yh=new Map,EO=1e3,A1=t=>{if(yh.has(t))return;let e=setTimeout(()=>{yh.delete(t),yf({type:4,toastId:t})},EO);yh.set(t,e)},bO=t=>{let e=yh.get(t);e&&clearTimeout(e)},ag=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,xO)};case 1:return e.toast.id&&bO(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return t.toasts.find(a=>a.id===n.id)?ag(t,{type:1,toast:n}):ag(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?A1(r):t.toasts.forEach(a=>{A1(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},TO=[],xp={toasts:[],pausedAt:void 0},yf=t=>{xp=ag(xp,t),TO.forEach(e=>{e(xp)})},kO=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||wO()}),wc=t=>(e,n)=>{let r=kO(e,t,n);return yf({type:2,toast:r}),r.id},Ar=(t,e)=>wc("blank")(t,e);Ar.error=wc("error");Ar.success=wc("success");Ar.loading=wc("loading");Ar.custom=wc("custom");Ar.dismiss=t=>{yf({type:3,toastId:t})};Ar.remove=t=>yf({type:4,toastId:t});Ar.promise=(t,e,n)=>{let r=Ar.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(Ar.success(og(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Ar.error(og(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var IO=Qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,SO=Qi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CO=Qi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,RO=ro("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${SO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${CO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,NO=Qi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,PO=ro("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${NO} 1s linear infinite;
`,AO=Qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,DO=Qi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,OO=ro("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${DO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,MO=ro("div")`
  position: absolute;
`,jO=ro("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,LO=Qi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VO=ro("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${LO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,FO=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?x.createElement(VO,null,e):e:n==="blank"?null:x.createElement(jO,null,x.createElement(PO,{...r}),n!=="loading"&&x.createElement(MO,null,n==="error"?x.createElement(RO,{...r}):x.createElement(OO,{...r})))},UO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$O=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,BO="0%{opacity:0;} 100%{opacity:1;}",zO="0%{opacity:1;} 100%{opacity:0;}",WO=ro("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,HO=ro("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qO=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=_O()?[BO,zO]:[UO(n),$O(n)];return{animation:e?`${Qi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};x.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?qO(t.position||e||"top-center",t.visible):{opacity:0},a=x.createElement(FO,{toast:t}),l=x.createElement(HO,{...t.ariaProps},og(t.message,t));return x.createElement(WO,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:l}):x.createElement(x.Fragment,null,a,l))});yO(x.createElement);gf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Ve=Ar;const GO=["me@davidmeyer.be","@43art.fr"],ab=x.createContext(void 0);function KO({children:t}){const[e,n]=x.useState(null),[r,i]=x.useState(null),[a,l]=x.useState(!0),[c,h]=x.useState(!1);x.useEffect(()=>{const S=pD(Oi,async A=>{if(n(A),h(!!(A!=null&&A.email)&&GO.some(R=>{var B;return A.email===R||((B=A.email)==null?void 0:B.endsWith(R))})),A){const R=await Mi(Nt(rt,"users",A.uid));if(R.exists())i(R.data());else{const B={id:A.uid,email:A.email||"",displayName:A.displayName||"",photoURL:A.photoURL||""};await ch(Nt(rt,"users",A.uid),B),i(B)}}else i(null);l(!1)});return()=>S()},[]);const P={user:e,userProfile:r,loading:a,isAdmin:c,signIn:async(S,A)=>{try{const R=await dD(Oi,S,A);return Ve.success("Connexion réussie !"),R.user}catch(R){throw console.error("Erreur de connexion:",R),Ve.error("Erreur de connexion. Vérifiez vos identifiants."),R}},signInWithGoogle:async()=>{try{const S=new Di,A=await jD(Oi,S),{user:R}=A;if(!(await Mi(Nt(rt,"users",R.uid))).exists()){const q={id:R.uid,email:R.email||"",displayName:R.displayName||"",photoURL:R.photoURL||""};await ch(Nt(rt,"users",R.uid),q)}Ve.success("Connexion réussie")}catch(S){console.error("Error signing in with Google:",S),Ve.error("Erreur lors de la connexion avec Google")}},signUp:async(S,A,R)=>{try{const B=await cD(Oi,S,A);await wp(B.user,{displayName:R});const q={id:B.user.uid,email:S,displayName:R,createdAt:new Date,updatedAt:new Date,favoriteBeats:[]};return await ch(Nt(rt,"users",B.user.uid),q),Ve.success("Compte créé avec succès !"),B.user}catch(B){throw console.error("Erreur d'inscription:",B),Ve.error("Erreur lors de la création du compte."),B}},signOut:async()=>{try{await gD(Oi),Ve.success("Déconnexion réussie")}catch(S){throw console.error("Erreur de déconnexion:",S),Ve.error("Erreur lors de la déconnexion"),S}},updateUserProfile:async S=>{if(!e)throw new Error("Utilisateur non connecté");try{const A=Nt(rt,"users",e.uid);await Ai(A,{...S,updatedAt:new Date}),S.displayName&&await wp(e,{displayName:S.displayName});const R=await Mi(A);i(R.data()),Ve.success("Profil mis à jour avec succès !")}catch(A){throw console.error("Erreur de mise à jour du profil:",A),Ve.error("Erreur lors de la mise à jour du profil"),A}},updateProfilePhoto:async S=>{if(!e)throw new Error("User not authenticated");try{const A=fn(Yt,`profile-photos/${e.uid}`);await Jp(A,S);const R=await Rr(A);await wp(e,{photoURL:R}),await Ai(Nt(rt,"users",e.uid),{photoURL:R}),i(B=>B?{...B,photoURL:R}:null),Ve.success("Photo de profil mise à jour")}catch(A){throw console.error("Error updating profile photo:",A),Ve.error("Erreur lors de la mise à jour de la photo de profil"),A}}};return m.jsx(ab.Provider,{value:P,children:!a&&t})}function io(){const t=x.useContext(ab);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function lb({currentBeat:t,playlist:e,onNext:n,onPrevious:r}){const i=x.useRef(null),a=x.useRef(null),[l,c]=x.useState(!1),[h,p]=x.useState(0),[y,_]=x.useState(1),[b,k]=x.useState(0),[I,P]=x.useState(0),[S,A]=x.useState(!1),[R,B]=x.useState(!1),{user:q}=io();x.useEffect(()=>{t&&q&&Gn.getBeatLikeStatus(t.id,q.uid).then(B)},[t,q]),x.useEffect(()=>{t&&i.current&&(i.current.src=t.audioUrl,i.current.load(),c(!0),i.current.play(),Gn.updateBeatPlays(t.id))},[t]),x.useEffect(()=>{i.current&&(l?i.current.play():i.current.pause())},[l]);const oe=M=>{const pe=Math.floor(M/60),De=Math.floor(M%60);return`${pe}:${De.toString().padStart(2,"0")}`},J=()=>{if(i.current){const{currentTime:M,duration:pe}=i.current;p(M/pe*100),P(M)}},j=()=>{i.current&&k(i.current.duration)},N=M=>{if(a.current&&i.current){const pe=a.current.getBoundingClientRect(),we=(M.clientX-pe.left)/pe.width*100/100*i.current.duration;i.current.currentTime=we}},O=M=>{const pe=parseFloat(M.target.value);_(pe),i.current&&(i.current.volume=pe),A(pe===0)},L=()=>{i.current&&(S?(i.current.volume=y,A(!1)):(i.current.volume=0,A(!0)))},D=()=>{n()},F=async()=>{if(!q){Ve.error("Vous devez être connecté pour aimer un beat");return}if(t)try{await Gn.toggleBeatLike(t.id,q.uid),B(!R)}catch{Ve.error("Erreur lors de la mise à jour des likes")}};return t?m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-dark-100/80 backdrop-blur-xl border-t border-white/10 py-4",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[m.jsxs("div",{className:"flex items-center gap-8",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[t.imageUrl&&m.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-16 h-16 rounded-lg object-cover"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:t.title}),m.jsx("p",{className:"text-sm text-gray-400",children:t.producer})]})]}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center justify-center gap-4",children:[m.jsx("button",{onClick:r,className:"p-2 hover:text-primary-500 transition-colors",children:m.jsx(P4,{className:"w-6 h-6"})}),m.jsx("button",{onClick:()=>c(!l),className:"p-3 bg-primary-500 rounded-full hover:bg-primary-600 transition-colors",children:l?m.jsx(F4,{className:"w-6 h-6"}):m.jsx($4,{className:"w-6 h-6"})}),m.jsx("button",{onClick:n,className:"p-2 hover:text-primary-500 transition-colors",children:m.jsx(D4,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("div",{ref:a,className:"h-1 bg-white/10 rounded-full cursor-pointer group",onClick:N,children:m.jsx("div",{className:"h-full bg-primary-500 rounded-full relative group-hover:bg-primary-400 transition-colors",style:{width:`${h}%`},children:m.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})})}),m.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[m.jsx("span",{children:oe(I)}),m.jsx("span",{children:oe(b)})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:L,children:S?m.jsx(H4,{className:"w-6 h-6"}):m.jsx(z4,{className:"w-6 h-6"})}),m.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:S?0:y,onChange:O,className:"w-20"})]}),m.jsx("button",{onClick:F,className:"p-2 hover:text-primary-500 transition-colors",children:R?m.jsx(M4,{className:"w-6 h-6 text-primary-500"}):m.jsx(rO,{className:"w-6 h-6"})})]})]}),m.jsx("audio",{ref:i,onTimeUpdate:J,onLoadedMetadata:j,onEnded:D})]})}):null}const YO="https://images.pexels.com/photos/164938/pexels-photo-164938.jpeg",QO="https://images.pexels.com/photos/1751731/pexels-photo-1751731.jpeg",XO="https://images.pexels.com/photos/4087991/pexels-photo-4087991.jpeg",JO="https://images.pexels.com/photos/7679863/pexels-photo-7679863.jpeg",ZO="https://images.pexels.com/photos/3536240/pexels-photo-3536240.jpeg",eM="https://images.pexels.com/photos/2608517/pexels-photo-2608517.jpeg",ub=[{src:YO,alt:"Studio d'enregistrement professionnel avec équipement haut de gamme"},{src:QO,alt:"Console de mixage professionnelle"},{src:XO,alt:"Microphone de studio haute qualité"}],cb=[{src:JO,alt:"Studio photo professionnel avec éclairage"},{src:ZO,alt:"Setup photo professionnel"},{src:eM,alt:"Équipement photo professionnel"}];function db(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=db(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hb(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=db(t))&&(r&&(r+=" "),r+=e);return r}const D1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,O1=hb,tM=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return O1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const y=n==null?void 0:n[p],_=a==null?void 0:a[p];if(y===null)return null;const b=D1(y)||D1(_);return i[p][b]}),c=n&&Object.entries(n).reduce((p,y)=>{let[_,b]=y;return b===void 0||(p[_]=b),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:_,className:b,...k}=y;return Object.entries(k).every(I=>{let[P,S]=I;return Array.isArray(S)?S.includes({...a,...c}[P]):{...a,...c}[P]===S})?[...p,_,b]:p},[]);return O1(t,l,h,n==null?void 0:n.class,n==null?void 0:n.className)},S0="-",nM=t=>{const e=iM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(S0);return c[0]===""&&c.length!==1&&c.shift(),fb(c,e)||rM(l)},getConflictingClassGroupIds:(l,c)=>{const h=n[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},fb=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?fb(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(S0);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},M1=/^\[(.+)\]$/,rM=t=>{if(M1.test(t)){const e=M1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},iM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return oM(Object.entries(t.classGroups),n).forEach(([a,l])=>{lg(l,r,a,e)}),r},lg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:j1(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(sM(i)){lg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{lg(l,j1(e,a),n,r)})})},j1=(t,e)=>{let n=t;return e.split(S0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sM=t=>t.isThemeGetter,oM=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[n,i]}):t,aM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},mb="!",lM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,l=c=>{const h=[];let p=0,y=0,_;for(let S=0;S<c.length;S++){let A=c[S];if(p===0){if(A===i&&(r||c.slice(S,S+a)===e)){h.push(c.slice(y,S)),y=S+a;continue}if(A==="/"){_=S;continue}}A==="["?p++:A==="]"&&p--}const b=h.length===0?c:c.substring(y),k=b.startsWith(mb),I=k?b.substring(1):b,P=_&&_>y?_-y:void 0;return{modifiers:h,hasImportantModifier:k,baseClassName:I,maybePostfixModifierPosition:P}};return n?c=>n({className:c,parseClassName:l}):l},uM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},cM=t=>({cache:aM(t.cacheSize),parseClassName:lM(t),...nM(t)}),dM=/\s+/,hM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=t.trim().split(dM);let c="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:y,hasImportantModifier:_,baseClassName:b,maybePostfixModifierPosition:k}=n(p);let I=!!k,P=r(I?b.substring(0,k):b);if(!P){if(!I){c=p+(c.length>0?" "+c:c);continue}if(P=r(b),!P){c=p+(c.length>0?" "+c:c);continue}I=!1}const S=uM(y).join(":"),A=_?S+mb:S,R=A+P;if(a.includes(R))continue;a.push(R);const B=i(P,I);for(let q=0;q<B.length;++q){const oe=B[q];a.push(A+oe)}c=p+(c.length>0?" "+c:c)}return c};function fM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pb(e))&&(r&&(r+=" "),r+=n);return r}const pb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=pb(t[r]))&&(n&&(n+=" "),n+=e);return n};function mM(t,...e){let n,r,i,a=l;function l(h){const p=e.reduce((y,_)=>_(y),t());return n=cM(p),r=n.cache.get,i=n.cache.set,a=c,c(h)}function c(h){const p=r(h);if(p)return p;const y=hM(h,n);return i(h,y),y}return function(){return a(fM.apply(null,arguments))}}const ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},gb=/^\[(?:([a-z-]+):)?(.+)\]$/i,pM=/^\d+\/\d+$/,gM=new Set(["px","full","screen"]),yM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_M=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pi=t=>sl(t)||gM.has(t)||pM.test(t),Ps=t=>Cl(t,"length",RM),sl=t=>!!t&&!Number.isNaN(Number(t)),Ep=t=>Cl(t,"number",sl),wu=t=>!!t&&Number.isInteger(Number(t)),EM=t=>t.endsWith("%")&&sl(t.slice(0,-1)),Le=t=>gb.test(t),As=t=>yM.test(t),bM=new Set(["length","size","percentage"]),TM=t=>Cl(t,bM,yb),kM=t=>Cl(t,"position",yb),IM=new Set(["image","url"]),SM=t=>Cl(t,IM,PM),CM=t=>Cl(t,"",NM),_u=()=>!0,Cl=(t,e,n)=>{const r=gb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},RM=t=>vM.test(t)&&!wM.test(t),yb=()=>!1,NM=t=>_M.test(t),PM=t=>xM.test(t),AM=()=>{const t=ht("colors"),e=ht("spacing"),n=ht("blur"),r=ht("brightness"),i=ht("borderColor"),a=ht("borderRadius"),l=ht("borderSpacing"),c=ht("borderWidth"),h=ht("contrast"),p=ht("grayscale"),y=ht("hueRotate"),_=ht("invert"),b=ht("gap"),k=ht("gradientColorStops"),I=ht("gradientColorStopPositions"),P=ht("inset"),S=ht("margin"),A=ht("opacity"),R=ht("padding"),B=ht("saturate"),q=ht("scale"),oe=ht("sepia"),J=ht("skew"),j=ht("space"),N=ht("translate"),O=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Le,e],F=()=>[Le,e],M=()=>["",Pi,Ps],pe=()=>["auto",sl,Le],De=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Fe=()=>["solid","dashed","dotted","double","none"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],le=()=>["","0",Le],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[sl,Le];return{cacheSize:500,separator:":",theme:{colors:[_u],spacing:[Pi,Ps],blur:["none","",As,Le],brightness:U(),borderColor:[t],borderRadius:["none","","full",As,Le],borderSpacing:F(),borderWidth:M(),contrast:U(),grayscale:le(),hueRotate:U(),invert:le(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[EM,Ps],inset:D(),margin:D(),opacity:U(),padding:F(),saturate:U(),scale:U(),sepia:le(),skew:U(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...De(),Le]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[P]}],"inset-x":[{"inset-x":[P]}],"inset-y":[{"inset-y":[P]}],start:[{start:[P]}],end:[{end:[P]}],top:[{top:[P]}],right:[{right:[P]}],bottom:[{bottom:[P]}],left:[{left:[P]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wu,Le]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",wu,Le]}],"grid-cols":[{"grid-cols":[_u]}],"col-start-end":[{col:["auto",{span:["full",wu,Le]},Le]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[_u]}],"row-start-end":[{row:["auto",{span:[wu,Le]},Le]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",As,Ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ep]}],"font-family":[{font:[_u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",sl,Ep]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pi,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pi,Ps]}],"underline-offset":[{"underline-offset":["auto",Pi,Le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...De(),kM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...Fe(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:Fe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Fe()]}],"outline-offset":[{"outline-offset":[Pi,Le]}],"outline-w":[{outline:[Pi,Ps]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Pi,Ps]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",As,CM]}],"shadow-color":[{shadow:[_u]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...we(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":we()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",As,Le]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[_]}],saturate:[{saturate:[B]}],sepia:[{sepia:[oe]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[wu,Le]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Pi,Ps,Ep]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DM=mM(AM);function vb(...t){return DM(hb(t))}const OM=tM("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-purple-500 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-purple-600 text-white hover:bg-purple-700",gradient:"bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600",outline:"border border-white/10 bg-transparent hover:bg-white/5",ghost:"hover:bg-white/5"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-md px-8 text-lg"}},defaultVariants:{variant:"default",size:"default"}}),Je=x.forwardRef(({className:t,variant:e,size:n,...r},i)=>m.jsx("button",{className:vb(OM({variant:e,size:n,className:t})),ref:i,...r}));Je.displayName="Button";var Jd={},L1;function MM(){if(L1)return Jd;L1=1;function t(a){if(typeof window>"u")return;const l=document.createElement("style");return l.setAttribute("type","text/css"),l.innerHTML=a,document.head.appendChild(l),a}Object.defineProperty(Jd,"__esModule",{value:!0});var e=Uh();function n(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var r=n(e);t(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const i=e.forwardRef(function({style:l={},className:c="",autoFill:h=!1,play:p=!0,pauseOnHover:y=!1,pauseOnClick:_=!1,direction:b="left",speed:k=50,delay:I=0,loop:P=0,gradient:S=!1,gradientColor:A="white",gradientWidth:R=200,onFinish:B,onCycleComplete:q,onMount:oe,children:J},j){const[N,O]=e.useState(0),[L,D]=e.useState(0),[F,M]=e.useState(1),[pe,De]=e.useState(!1),Fe=e.useRef(null),we=j||Fe,ie=e.useRef(null),le=e.useCallback(()=>{if(ie.current&&we.current){const _e=we.current.getBoundingClientRect(),je=ie.current.getBoundingClientRect();let Ne=_e.width,Oe=je.width;(b==="up"||b==="down")&&(Ne=_e.height,Oe=je.height),M(h&&Ne&&Oe&&Oe<Ne?Math.ceil(Ne/Oe):1),O(Ne),D(Oe)}},[h,we,b]);e.useEffect(()=>{if(pe&&(le(),ie.current&&we.current)){const _e=new ResizeObserver(()=>le());return _e.observe(we.current),_e.observe(ie.current),()=>{_e&&_e.disconnect()}}},[le,we,pe]),e.useEffect(()=>{le()},[le,J]),e.useEffect(()=>{De(!0)},[]),e.useEffect(()=>{typeof oe=="function"&&oe()},[]);const te=e.useMemo(()=>h?L*F/k:L<N?N/k:L/k,[h,N,L,F,k]),U=e.useMemo(()=>Object.assign(Object.assign({},l),{"--pause-on-hover":!p||y?"paused":"running","--pause-on-click":!p||y&&!_||_?"paused":"running","--width":b==="up"||b==="down"?"100vh":"100%","--transform":b==="up"?"rotate(-90deg)":b==="down"?"rotate(90deg)":"none"}),[l,p,y,_,b]),Q=e.useMemo(()=>({"--gradient-color":A,"--gradient-width":typeof R=="number"?`${R}px`:R}),[A,R]),ce=e.useMemo(()=>({"--play":p?"running":"paused","--direction":b==="left"?"normal":"reverse","--duration":`${te}s`,"--delay":`${I}s`,"--iteration-count":P?`${P}`:"infinite","--min-width":h?"auto":"100%"}),[p,b,te,I,P,h]),ke=e.useMemo(()=>({"--transform":b==="up"?"rotate(90deg)":b==="down"?"rotate(-90deg)":"none"}),[b]),Ee=e.useCallback(_e=>[...Array(Number.isFinite(_e)&&_e>=0?_e:0)].map((je,Ne)=>r.default.createElement(e.Fragment,{key:Ne},e.Children.map(J,Oe=>r.default.createElement("div",{style:ke,className:"rfm-child"},Oe)))),[ke,J]);return pe?r.default.createElement("div",{ref:we,style:U,className:"rfm-marquee-container "+c},S&&r.default.createElement("div",{style:Q,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:ce,onAnimationIteration:q,onAnimationEnd:B},r.default.createElement("div",{className:"rfm-initial-child-container",ref:ie},e.Children.map(J,_e=>r.default.createElement("div",{style:ke,className:"rfm-child"},_e))),Ee(F-1)),r.default.createElement("div",{className:"rfm-marquee",style:ce},Ee(F))):null});return Jd.default=i,Jd}var jM=MM();const xu=l_(jM);function LM(){const[t,e]=x.useState([]),[n,r]=x.useState(null),[i,a]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const _=await Gn.getLatestBeats();e(_)}catch(_){console.error("Error fetching latest beats:",_)}finally{a(!1)}})()},[]);const l=y=>{r(y)},c=()=>{if(n&&t.length>0){const _=(t.findIndex(b=>b.id===n.id)+1)%t.length;r(t[_])}},h=()=>{if(n&&t.length>0){const _=(t.findIndex(b=>b.id===n.id)-1+t.length)%t.length;r(t[_])}},p=[{icon:m.jsx(gh,{className:"w-8 h-8 text-primary-500"}),title:"Professional Studio",description:"High-end equipment for exceptional sound quality"},{icon:m.jsx(X4,{className:"w-8 h-8 text-primary-500"}),title:"Flexibility",description:"Recording sessions of 1h or 2h according to your needs"},{icon:m.jsx(Oh,{className:"w-8 h-8 text-primary-500"}),title:"Accompaniment",description:"An experienced sound engineer at your service"},{icon:m.jsx(zo,{className:"w-8 h-8 text-primary-500"}),title:"Custom Production",description:"Unique beats tailored to your style"}];return m.jsxs("div",{className:"min-h-screen",children:[m.jsxs("section",{className:"min-h-[80vh] flex flex-col items-center justify-center px-4 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-[url('/images/studio-bg.jpg')] bg-cover bg-center opacity-10"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-dark-900/50 to-dark-900"}),m.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center space-y-2 overflow-hidden",children:[m.jsx("div",{className:"w-full overflow-hidden pointer-events-none",children:m.jsx(xu,{gradient:!1,speed:50,direction:"left",children:m.jsx("h1",{className:"text-8xl md:text-[10rem] lg:text-[12rem] font-bold bg-gradient-to-r from-purple-400 to-purple-600 bg-clip-text text-transparent px-8 tracking-tighter opacity-60",children:"CREATEYOURMUSICWITHUS"})})}),m.jsx("div",{className:"w-full overflow-hidden pointer-events-none",children:m.jsx(xu,{gradient:!1,speed:40,direction:"right",children:m.jsx("p",{className:"text-6xl md:text-8xl lg:text-9xl bg-gradient-to-r from-purple-400 to-purple-600 bg-clip-text text-transparent px-8 tracking-tighter opacity-60",children:"PROFESSIONALRECORDINGSTUDIO&CUSTOMPRODUCTION"})})}),m.jsx("div",{className:"w-full overflow-hidden pointer-events-none",children:m.jsx(xu,{gradient:!1,speed:60,direction:"left",children:m.jsxs("div",{className:"flex items-center space-x-4 text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter",children:[m.jsx("span",{className:"text-white opacity-60",children:"STUDIO"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"RECORDING"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"PHOTOGRAPHY"}),m.jsx("span",{className:"text-white opacity-60",children:"BEATS"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"MIXING"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"PRODUCTION"}),m.jsx("span",{className:"text-white opacity-60",children:"VIDEOGRAPHY"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"MASTERING"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"CREATIVE"}),m.jsx("span",{className:"text-white opacity-60",children:"PROFESSIONAL"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"MUSIC"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"CONTENT"}),m.jsx("span",{className:"text-white opacity-60",children:"EXPERIENCE"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"QUALITY"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"PERFORMANCE"})]})})}),m.jsx("div",{className:"w-full overflow-hidden pointer-events-none",children:m.jsx(xu,{gradient:!1,speed:45,direction:"right",children:m.jsxs("div",{className:"flex items-center space-x-4 text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter",children:[m.jsx("span",{className:"text-white opacity-60",children:"EXCELLENCE"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"INNOVATION"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"CREATIVITY"}),m.jsx("span",{className:"text-white opacity-60",children:"EXPERTISE"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"TECHNOLOGY"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"ARTISTRY"}),m.jsx("span",{className:"text-white opacity-60",children:"PASSION"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"VISION"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"SUCCESS"}),m.jsx("span",{className:"text-white opacity-60",children:"TALENT"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"INSPIRATION"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"DREAMS"})]})})}),m.jsx("div",{className:"w-full overflow-hidden pointer-events-none",children:m.jsx(xu,{gradient:!1,speed:35,direction:"left",children:m.jsxs("div",{className:"flex items-center space-x-8 text-7xl md:text-8xl lg:text-[10rem] font-bold tracking-tighter",children:[m.jsx("span",{className:"text-white opacity-60",children:"UNIQUE"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"PREMIUM"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"ELITE"}),m.jsx("span",{className:"text-white opacity-60",children:"ICONIC"}),m.jsx("span",{className:"text-purple-500 opacity-60",children:"LEGEND"}),m.jsx("span",{className:"text-gray-900 opacity-60",children:"MASTER"})]})})})]}),m.jsx("div",{className:"max-w-4xl mx-auto text-center z-10",children:m.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[m.jsx(Ye,{to:"/booking",children:m.jsx("button",{className:"bg-white hover:bg-gray-50 px-8 py-4 rounded-full text-xl font-bold transition-all duration-300 float-animation shadow-lg hover:shadow-xl group",children:m.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-purple-400 bg-clip-text text-transparent group-hover:from-purple-500 group-hover:to-pink-500",children:"BOOK A SESSION"})})}),m.jsx(Ye,{to:"/beats",children:m.jsx("button",{className:"bg-black hover:bg-gradient-to-r hover:from-gray-800 hover:to-gray-700 px-8 py-4 rounded-full text-xl font-bold transition-all duration-300 transform hover:scale-105 group",children:m.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-purple-400 bg-clip-text text-transparent group-hover:from-purple-500 group-hover:to-pink-500",children:"DISCOVER OUR BEATS"})})})]})})]}),m.jsx("section",{className:"py-20 px-4 bg-dark-900",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("h2",{className:"text-5xl font-bold mb-12 text-center",children:["LATEST"," ",m.jsx("span",{className:"bg-gradient-to-r from-primary-400 to-pink-400 bg-clip-text text-transparent",children:"BEATS"})]}),i?m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(y=>m.jsxs("div",{onClick:()=>l(y),className:"bg-dark-800 rounded-lg p-4 hover:bg-dark-700 transition-colors cursor-pointer",children:[m.jsxs("div",{className:"aspect-square rounded-lg bg-dark-700 mb-4 overflow-hidden relative group",children:[m.jsx("img",{src:y.imageUrl||"/images/default-cover.jpg",alt:y.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:_=>{const b=_.target;b.src="/images/default-cover.jpg"}}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:m.jsx(gh,{className:"w-12 h-12 text-white"})})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("h3",{className:"font-semibold truncate",children:y.title}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:"text-sm text-gray-400",children:y.producer}),m.jsxs("p",{className:"text-sm font-medium",children:[y.price,"€"]})]})]})]},y.id))})]})}),m.jsx("section",{className:"py-16 bg-dark-900",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("h2",{className:"text-5xl font-bold mb-12 text-center",children:["WHY CHOOSE OUR"," ",m.jsx("span",{className:"bg-gradient-to-r from-primary-400 to-pink-400 bg-clip-text text-transparent",children:"STUDIO"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:p.map((y,_)=>m.jsxs("div",{className:"p-6 rounded-xl bg-dark-800/50 backdrop-blur-lg border border-white/5 hover:border-primary-500/30 transition-colors",children:[m.jsx("div",{className:"mb-4",children:y.icon}),m.jsx("h3",{className:"text-2xl font-semibold mb-2",children:y.title}),m.jsx("p",{className:"text-gray-400",children:y.description})]},_))})]})}),m.jsxs("section",{className:"py-16",children:[m.jsxs("div",{className:"relative h-[600px] mb-16",children:[m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("img",{src:"/images/studio-musical.jpg",alt:"Professional Recording Studio",className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-dark-900/90 to-dark-900/40"})]}),m.jsx("div",{className:"relative max-w-7xl mx-auto px-4 h-full flex items-center",children:m.jsxs("div",{className:"max-w-xl",children:[m.jsxs("h2",{className:"text-6xl font-bold mb-6",children:["Recording Studio",m.jsx("span",{className:"block text-3xl font-normal mt-2 text-gray-300",children:"A professional space to bring your projects to life"})]}),m.jsx("p",{className:"text-gray-300 text-2xl mb-8",children:"Our recording studio is equipped with the latest technology to ensure exceptional sound quality. Whether you're a rapper, singer, or musician, our team of experienced sound engineers will guide you through your project."}),m.jsxs("ul",{className:"space-y-4 mb-8",children:[m.jsxs("li",{className:"flex items-center text-gray-300",children:[m.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),"High-end equipment"]}),m.jsxs("li",{className:"flex items-center text-gray-300",children:[m.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),"Experienced sound engineers"]}),m.jsxs("li",{className:"flex items-center text-gray-300",children:[m.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),"Optimized acoustics"]})]}),m.jsx(Ye,{to:"/booking",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-gradient-to-r hover:from-gray-800 hover:to-gray-700 transition-colors",children:"BOOK A SESSION"})]})})]}),m.jsxs("div",{className:"relative h-[600px]",children:[m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("img",{src:"/images/studio-photo.jpg",alt:"Professional Photo and Video Studio",className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-dark-900/90 to-dark-900/40"})]}),m.jsx("div",{className:"relative max-w-7xl mx-auto px-4 h-full flex items-center justify-end",children:m.jsxs("div",{className:"max-w-xl",children:[m.jsxs("h2",{className:"text-6xl font-bold mb-6",children:["Photo & Video Studio",m.jsx("span",{className:"block text-3xl font-normal mt-2 text-gray-300",children:"Capture your moments with excellence"})]}),m.jsx("p",{className:"text-gray-300 text-2xl mb-8",children:"Our photo and video studio offers a versatile space for all your visual projects. From music videos to professional photo shoots, we provide our expertise and equipment for exceptional results."}),m.jsxs("ul",{className:"space-y-4 mb-8",children:[m.jsxs("li",{className:"flex items-center text-gray-300",children:[m.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),"4K video equipment"]}),m.jsxs("li",{className:"flex items-center text-gray-300",children:[m.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),"Professional lighting"]}),m.jsxs("li",{className:"flex items-center text-gray-300",children:[m.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),"Green screen available"]})]}),m.jsx(Ye,{to:"/booking",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-gradient-to-r hover:from-gray-800 hover:to-gray-700 transition-colors",children:"BOOK THE STUDIO"})]})})]})]}),m.jsx("section",{className:"py-12 px-4 bg-dark-100",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-6xl font-bold mb-4",children:"Recording Studio"}),m.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"A professional space equipped with the best tools to bring your musical projects to life. From recording to mastering, we guide you through every step."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:ub.map((y,_)=>m.jsxs("div",{className:"aspect-square rounded-xl overflow-hidden group relative",children:[m.jsx("img",{src:y.src,alt:y.alt,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-300"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900/80 via-dark-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-sm font-medium",children:"VIEW"})})]},_))}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(gh,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"text-3xl font-semibold mb-2",children:"Pro Equipment"}),m.jsx("p",{className:"text-gray-400",children:"High-end microphones, preamps, audio interfaces, and monitoring."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(zo,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"text-3xl font-semibold mb-2",children:"Optimized Acoustics"}),m.jsx("p",{className:"text-gray-400",children:"Studio treated acoustically for professional-grade recordings."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(Oh,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"text-3xl font-semibold mb-2",children:"Expertise"}),m.jsx("p",{className:"text-gray-400",children:"Experienced sound engineers to guide you through your project."})]})]}),m.jsx("div",{className:"text-center",children:m.jsx(Ye,{to:"/booking",children:m.jsx(Je,{size:"lg",variant:"gradient",children:"BOOK A SESSION"})})})]})}),m.jsx("section",{className:"py-12 px-4",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-6xl font-bold mb-4",children:"Photo & Video Studio"}),m.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"A versatile space for your photo and video projects, equipped with the latest technology and adapted to all types of productions."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:cb.map((y,_)=>m.jsxs("div",{className:"aspect-square rounded-xl overflow-hidden group relative",children:[m.jsx("img",{src:y.src,alt:y.alt,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-300"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900/80 via-dark-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-sm font-medium",children:"VIEW"})})]},_))}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsxs("svg",{className:"w-6 h-6 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),m.jsx("h3",{className:"text-3xl font-semibold mb-2",children:"Modular Studio"}),m.jsx("p",{className:"text-gray-400",children:"Adaptable space to your needs with multiple configurations possible."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx("svg",{className:"w-6 h-6 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.438-.645 1.438-1.44s-.643-1.44-1.438-1.44z"})})}),m.jsx("h3",{className:"text-3xl font-semibold mb-2",children:"Video Equipment"}),m.jsx("p",{className:"text-gray-400",children:"4K cameras, stabilizers, LED lighting, and professional green screen."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(zo,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"text-3xl font-semibold mb-2",children:"Post-Production"}),m.jsx("p",{className:"text-gray-400",children:"Complete photo retouching and video editing services available."})]})]}),m.jsx("div",{className:"text-center",children:m.jsx(Ye,{to:"/booking",children:m.jsx(Je,{size:"lg",variant:"gradient",children:"BOOK THE STUDIO"})})})]})}),n&&m.jsx(lb,{currentBeat:n,playlist:t,onNext:c,onPrevious:h})]})}function VM({className:t,gradient:e,children:n,...r}){return m.jsx("div",{className:vb("glass-card p-4",e&&"bg-gradient-to-b from-white/5 to-white/[0.02]",t),...r,children:n})}const wb=typeof document<"u"?X.useLayoutEffect:()=>{};function FM(t){const e=x.useRef(null);return wb(()=>{e.current=t},[t]),x.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const _c=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Wo=t=>t&&"window"in t&&t.window===t?t:_c(t).defaultView||window;function UM(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function $M(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function _b(t){let e=null;return()=>(e==null&&(e=t()),e)}const BM=_b(function(){return $M(/^Mac/i)}),zM=_b(function(){return UM(/Android/i)});function WM(t){return t.mozInputSource===0&&t.isTrusted?!0:zM()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class HM{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function xb(t){let e=x.useRef({isFocused:!1,observer:null});wb(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=FM(r=>{t==null||t(r)});return x.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,a=l=>{e.current.isFocused=!1,i.disabled&&n(new HM("blur",l)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",a,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var l;(l=e.current.observer)===null||l===void 0||l.disconnect();let c=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function qM(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const a=x.useCallback(h=>{if(h.target===h.currentTarget)return r&&r(h),i&&i(!1),!0},[r,i]),l=xb(a),c=x.useCallback(h=>{const p=_c(h.target);h.target===h.currentTarget&&p.activeElement===h.target&&(n&&n(h),i&&i(!0),l(h))},[i,n,l]);return{focusProps:{onFocus:!e&&(n||i||r)?c:void 0,onBlur:!e&&(r||i)?a:void 0}}}let xc=null,ug=new Set,Fu=new Map,ra=!1,cg=!1;const GM={Tab:!0,Escape:!0};function C0(t,e){for(let n of ug)n(t,e)}function KM(t){return!(t.metaKey||!BM()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Mh(t){ra=!0,KM(t)&&(xc="keyboard",C0("keyboard",t))}function or(t){xc="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(ra=!0,C0("pointer",t))}function Eb(t){WM(t)&&(ra=!0,xc="virtual")}function bb(t){t.target===window||t.target===document||(!ra&&!cg&&(xc="virtual",C0("virtual",t)),ra=!1,cg=!1)}function Tb(){ra=!1,cg=!0}function dg(t){if(typeof window>"u"||Fu.get(Wo(t)))return;const e=Wo(t),n=_c(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){ra=!0,r.apply(this,arguments)},n.addEventListener("keydown",Mh,!0),n.addEventListener("keyup",Mh,!0),n.addEventListener("click",Eb,!0),e.addEventListener("focus",bb,!0),e.addEventListener("blur",Tb,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",or,!0),n.addEventListener("pointermove",or,!0),n.addEventListener("pointerup",or,!0)):(n.addEventListener("mousedown",or,!0),n.addEventListener("mousemove",or,!0),n.addEventListener("mouseup",or,!0)),e.addEventListener("beforeunload",()=>{kb(t)},{once:!0}),Fu.set(e,{focus:r})}const kb=(t,e)=>{const n=Wo(t),r=_c(t);e&&r.removeEventListener("DOMContentLoaded",e),Fu.has(n)&&(n.HTMLElement.prototype.focus=Fu.get(n).focus,r.removeEventListener("keydown",Mh,!0),r.removeEventListener("keyup",Mh,!0),r.removeEventListener("click",Eb,!0),n.removeEventListener("focus",bb,!0),n.removeEventListener("blur",Tb,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",or,!0),r.removeEventListener("pointermove",or,!0),r.removeEventListener("pointerup",or,!0)):(r.removeEventListener("mousedown",or,!0),r.removeEventListener("mousemove",or,!0),r.removeEventListener("mouseup",or,!0)),Fu.delete(n))};function YM(t){const e=_c(t);let n;return e.readyState!=="loading"?dg(t):(n=()=>{dg(t)},e.addEventListener("DOMContentLoaded",n)),()=>kb(t,n)}typeof document<"u"&&YM();function Ib(){return xc!=="pointer"}const QM=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function XM(t,e,n){var r;const i=typeof window<"u"?Wo(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?Wo(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Wo(n==null?void 0:n.target).HTMLElement:HTMLElement,c=typeof window<"u"?Wo(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof i&&!QM.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof a||(n==null?void 0:n.target)instanceof l&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof c&&!GM[n.key])}function JM(t,e,n){dg(),x.useEffect(()=>{let r=(i,a)=>{XM(!!(n!=null&&n.isTextInput),i,a)&&t(Ib())};return ug.add(r),()=>{ug.delete(r)}},e)}function ZM(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,a=x.useRef({isFocusWithin:!1}),l=x.useCallback(p=>{a.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(a.current.isFocusWithin=!1,n&&n(p),i&&i(!1))},[n,i,a]),c=xb(l),h=x.useCallback(p=>{!a.current.isFocusWithin&&document.activeElement===p.target&&(r&&r(p),i&&i(!0),a.current.isFocusWithin=!0,c(p))},[r,i,c]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:l}}}let jh=!1,bp=0;function hg(){jh=!0,setTimeout(()=>{jh=!1},50)}function V1(t){t.pointerType==="touch"&&hg()}function e5(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",V1):document.addEventListener("touchend",hg),bp++,()=>{bp--,!(bp>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",V1):document.removeEventListener("touchend",hg))}}function t5(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[a,l]=x.useState(!1),c=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(e5,[]);let{hoverProps:h,triggerHoverEnd:p}=x.useMemo(()=>{let y=(k,I)=>{if(c.pointerType=I,i||I==="touch"||c.isHovered||!k.currentTarget.contains(k.target))return;c.isHovered=!0;let P=k.currentTarget;c.target=P,e&&e({type:"hoverstart",target:P,pointerType:I}),n&&n(!0),l(!0)},_=(k,I)=>{if(c.pointerType="",c.target=null,I==="touch"||!c.isHovered)return;c.isHovered=!1;let P=k.currentTarget;r&&r({type:"hoverend",target:P,pointerType:I}),n&&n(!1),l(!1)},b={};return typeof PointerEvent<"u"?(b.onPointerEnter=k=>{jh&&k.pointerType==="mouse"||y(k,k.pointerType)},b.onPointerLeave=k=>{!i&&k.currentTarget.contains(k.target)&&_(k,k.pointerType)}):(b.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},b.onMouseEnter=k=>{!c.ignoreEmulatedMouseEvents&&!jh&&y(k,"mouse"),c.ignoreEmulatedMouseEvents=!1},b.onMouseLeave=k=>{!i&&k.currentTarget.contains(k.target)&&_(k,"mouse")}),{hoverProps:b,triggerHoverEnd:_}},[e,n,r,i,c]);return x.useEffect(()=>{i&&p({currentTarget:c.target},c.pointerType)},[i]),{hoverProps:h,isHovered:a}}function Sb(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=x.useRef({isFocused:!1,isFocusVisible:e||Ib()}),[a,l]=x.useState(!1),[c,h]=x.useState(()=>i.current.isFocused&&i.current.isFocusVisible),p=x.useCallback(()=>h(i.current.isFocused&&i.current.isFocusVisible),[]),y=x.useCallback(k=>{i.current.isFocused=k,l(k),p()},[p]);JM(k=>{i.current.isFocusVisible=k,p()},[],{isTextInput:n});let{focusProps:_}=qM({isDisabled:r,onFocusChange:y}),{focusWithinProps:b}=ZM({isDisabled:!r,onFocusWithinChange:y});return{isFocused:a,isFocusVisible:c,focusProps:r?b:_}}var n5=Object.defineProperty,r5=(t,e,n)=>e in t?n5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tp=(t,e,n)=>(r5(t,typeof e!="symbol"?e+"":e,n),n);let i5=class{constructor(){Tp(this,"current",this.detect()),Tp(this,"handoffState","pending"),Tp(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Xo=new i5;function Rl(t){return Xo.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function Ec(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function so(){let t=[],e={addEventListener(n,r,i,a){return n.addEventListener(r,i,a),e.add(()=>n.removeEventListener(r,i,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ec(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=so();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function vf(){let[t]=x.useState(so);return x.useEffect(()=>()=>t.dispose(),[t]),t}let Bt=(t,e)=>{Xo.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function Dr(t){let e=x.useRef(t);return Bt(()=>{e.current=t},[t]),e}let Ze=function(t){let e=Dr(t);return X.useCallback((...n)=>e.current(...n),[e])};function s5(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function o5(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function a5({disabled:t=!1}={}){let e=x.useRef(null),[n,r]=x.useState(!1),i=vf(),a=Ze(()=>{e.current=null,r(!1),i.dispose()}),l=Ze(c=>{if(i.dispose(),e.current===null){e.current=c.currentTarget,r(!0);{let h=Rl(c.currentTarget);i.addEventListener(h,"pointerup",a,!1),i.addEventListener(h,"pointermove",p=>{if(e.current){let y=s5(p);r(o5(y,e.current.getBoundingClientRect()))}},!1),i.addEventListener(h,"pointercancel",a,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:l,onPointerUp:a,onClick:a}}}let l5=x.createContext(void 0);function u5(){return x.useContext(l5)}function fg(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Kn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Kn),r}var gl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(gl||{}),Bs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Bs||{});function an(){let t=d5();return x.useCallback(e=>c5({mergeRefs:t,...e}),[t])}function c5({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:a=!0,name:l,mergeRefs:c}){c=c??h5;let h=Cb(e,t);if(a)return Zd(h,n,r,l,c);let p=i??0;if(p&2){let{static:y=!1,..._}=h;if(y)return Zd(_,n,r,l,c)}if(p&1){let{unmount:y=!0,..._}=h;return Kn(y?0:1,{0(){return null},1(){return Zd({..._,hidden:!0,style:{display:"none"}},n,r,l,c)}})}return Zd(h,n,r,l,c)}function Zd(t,e={},n,r,i){let{as:a=n,children:l,refName:c="ref",...h}=kp(t,["unmount","static"]),p=t.ref!==void 0?{[c]:t.ref}:{},y=typeof l=="function"?l(e):l;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let _={};if(e){let b=!1,k=[];for(let[I,P]of Object.entries(e))typeof P=="boolean"&&(b=!0),P===!0&&k.push(I.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(b){_["data-headlessui-state"]=k.join(" ");for(let I of k)_[`data-${I}`]=""}}if(a===x.Fragment&&(Object.keys(Lo(h)).length>0||Object.keys(Lo(_)).length>0))if(!x.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(Lo(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Lo(h)).concat(Object.keys(Lo(_))).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}else{let b=y.props,k=b==null?void 0:b.className,I=typeof k=="function"?(...A)=>fg(k(...A),h.className):fg(k,h.className),P=I?{className:I}:{},S=Cb(y.props,Lo(kp(h,["ref"])));for(let A in _)A in S&&delete _[A];return x.cloneElement(y,Object.assign({},S,_,p,{ref:i(f5(y),p.ref)},P))}return x.createElement(a,Object.assign({},kp(h,["ref"]),a!==x.Fragment&&p,a!==x.Fragment&&_),y)}function d5(){let t=x.useRef([]),e=x.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function h5(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Cb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var a;return(a=i==null?void 0:i.preventDefault)==null?void 0:a.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...a){let l=n[r];for(let c of l){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;c(i,...a)}}});return e}function Rb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let a=n[r];for(let l of a)l==null||l(...i)}});return e}function Wt(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Lo(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function kp(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function f5(t){return X.version.split(".")[0]>="19"?t.props.ref:t.ref}let m5="span";var ec=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ec||{});function p5(t,e){var n;let{features:r=1,...i}=t,a={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return an()({ourProps:a,theirProps:i,slot:{},defaultTag:m5,name:"Hidden"})}let tc=Wt(p5),Nb=Symbol();function g5(t,e=!0){return Object.assign(t,{[Nb]:e})}function kn(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=Ze(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[Nb]))?void 0:n}let R0=x.createContext(null);R0.displayName="DescriptionContext";function Pb(){let t=x.useContext(R0);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Pb),e}return t}function y5(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(n){let r=Ze(a=>(e(l=>[...l,a]),()=>e(l=>{let c=l.slice(),h=c.indexOf(a);return h!==-1&&c.splice(h,1),c}))),i=x.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return X.createElement(R0.Provider,{value:i},n.children)},[e])]}let v5="p";function w5(t,e){let n=x.useId(),r=u5(),{id:i=`headlessui-description-${n}`,...a}=t,l=Pb(),c=kn(e);Bt(()=>l.register(i),[i,l.register]);let h=r||!1,p=x.useMemo(()=>({...l.slot,disabled:h}),[l.slot,h]),y={ref:c,...l.props,id:i};return an()({ourProps:y,theirProps:a,slot:p,defaultTag:v5,name:l.name||"Description"})}let _5=Wt(w5),x5=Object.assign(_5,{});var sr=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(sr||{});let E5=x.createContext(()=>{});function b5({value:t,children:e}){return X.createElement(E5.Provider,{value:t},e)}let T5=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function Ab(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...a){let l=e[i].call(n,...a);l&&(n=l,r.forEach(c=>c()))}}}function Db(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let k5=new T5(()=>Ab(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Nl(t,e){let n=k5.get(e),r=x.useId(),i=Db(n);if(Bt(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let a=i.indexOf(r),l=i.length;return a===-1&&(a=l,l+=1),a===l-1}let mg=new Map,Uu=new Map;function F1(t){var e;let n=(e=Uu.get(t))!=null?e:0;return Uu.set(t,n+1),n!==0?()=>U1(t):(mg.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>U1(t))}function U1(t){var e;let n=(e=Uu.get(t))!=null?e:1;if(n===1?Uu.delete(t):Uu.set(t,n-1),n!==1)return;let r=mg.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,mg.delete(t))}function I5(t,{allowed:e,disallowed:n}={}){let r=Nl(t,"inert-others");Bt(()=>{var i,a;if(!r)return;let l=so();for(let h of(i=n==null?void 0:n())!=null?i:[])h&&l.add(F1(h));let c=(a=e==null?void 0:e())!=null?a:[];for(let h of c){if(!h)continue;let p=Rl(h);if(!p)continue;let y=h.parentElement;for(;y&&y!==p.body;){for(let _ of y.children)c.some(b=>_.contains(b))||l.add(F1(_));y=y.parentElement}}return l.dispose},[r,e,n])}function S5(t,e,n){let r=Dr(i=>{let a=i.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&n()});x.useEffect(()=>{if(!t)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let a=so();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),a.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),a.add(()=>l.disconnect())}return()=>a.dispose()},[e,r,t])}let Lh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),C5=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ut=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Ut||{}),Ho=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Ho||{}),R5=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(R5||{});function N5(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Lh)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function P5(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(C5)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ob=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Ob||{});function A5(t,e=0){var n;return t===((n=Rl(t))==null?void 0:n.body)?!1:Kn(e,{0(){return t.matches(Lh)},1(){let r=t;for(;r!==null;){if(r.matches(Lh))return!0;r=r.parentElement}return!1}})}var D5=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(D5||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Wi(t){t==null||t.focus({preventScroll:!0})}let O5=["textarea","input"].join(",");function M5(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,O5))!=null?n:!1}function el(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),a=e(r);if(i===null||a===null)return 0;let l=i.compareDocumentPosition(a);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Nr(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let a=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,l=Array.isArray(t)?n?el(t):t:e&64?P5(t):N5(t);i.length>0&&l.length>1&&(l=l.filter(k=>!i.some(I=>I!=null&&"current"in I?(I==null?void 0:I.current)===k:I===k))),r=r??a.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(r))-1;if(e&4)return Math.max(0,l.indexOf(r))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},y=0,_=l.length,b;do{if(y>=_||y+_<=0)return 0;let k=h+y;if(e&16)k=(k+_)%_;else{if(k<0)return 3;if(k>=_)return 1}b=l[k],b==null||b.focus(p),y+=c}while(b!==a.activeElement);return e&6&&M5(b)&&b.select(),2}function Mb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function j5(){return/Android/gi.test(window.navigator.userAgent)}function L5(){return Mb()||j5()}function Eu(t,e,n,r){let i=Dr(n);x.useEffect(()=>{if(!t)return;function a(l){i.current(l)}return document.addEventListener(e,a,r),()=>document.removeEventListener(e,a,r)},[t,e,r])}function jb(t,e,n,r){let i=Dr(n);x.useEffect(()=>{if(!t)return;function a(l){i.current(l)}return window.addEventListener(e,a,r),()=>window.removeEventListener(e,a,r)},[t,e,r])}const $1=30;function V5(t,e,n){let r=Nl(t,"outside-click"),i=Dr(n),a=x.useCallback(function(h,p){if(h.defaultPrevented)return;let y=p(h);if(y===null||!y.getRootNode().contains(y)||!y.isConnected)return;let _=function b(k){return typeof k=="function"?b(k()):Array.isArray(k)||k instanceof Set?k:[k]}(e);for(let b of _)if(b!==null&&(b.contains(y)||h.composed&&h.composedPath().includes(b)))return;return!A5(y,Ob.Loose)&&y.tabIndex!==-1&&h.preventDefault(),i.current(h,y)},[i,e]),l=x.useRef(null);Eu(r,"pointerdown",h=>{var p,y;l.current=((y=(p=h.composedPath)==null?void 0:p.call(h))==null?void 0:y[0])||h.target},!0),Eu(r,"mousedown",h=>{var p,y;l.current=((y=(p=h.composedPath)==null?void 0:p.call(h))==null?void 0:y[0])||h.target},!0),Eu(r,"click",h=>{L5()||l.current&&(a(h,()=>l.current),l.current=null)},!0);let c=x.useRef({x:0,y:0});Eu(r,"touchstart",h=>{c.current.x=h.touches[0].clientX,c.current.y=h.touches[0].clientY},!0),Eu(r,"touchend",h=>{let p={x:h.changedTouches[0].clientX,y:h.changedTouches[0].clientY};if(!(Math.abs(p.x-c.current.x)>=$1||Math.abs(p.y-c.current.y)>=$1))return a(h,()=>h.target instanceof HTMLElement?h.target:null)},!0),jb(r,"blur",h=>a(h,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function bc(...t){return x.useMemo(()=>Rl(...t),[...t])}function Lb(t,e,n,r){let i=Dr(n);x.useEffect(()=>{t=t??window;function a(l){i.current(l)}return t.addEventListener(e,a,r),()=>t.removeEventListener(e,a,r)},[t,e,r])}function F5(t,e){return x.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function U5(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),a=Math.max(0,t-i);n.style(r,"paddingRight",`${a}px`)}}}function $5(){return Mb()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(a=>a()).some(a=>a.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=so();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let a=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;e.addEventListener(t,"click",c=>{if(c.target instanceof HTMLElement)try{let h=c.target.closest("a");if(!h)return;let{hash:p}=new URL(h.href),y=t.querySelector(p);y&&!r(y)&&(l=y)}catch{}},!0),e.addEventListener(t,"touchstart",c=>{if(c.target instanceof HTMLElement)if(r(c.target)){let h=c.target;for(;h.parentElement&&r(h.parentElement);)h=h.parentElement;e.style(h,"overscrollBehavior","contain")}else e.style(c.target,"touchAction","none")}),e.addEventListener(t,"touchmove",c=>{if(c.target instanceof HTMLElement){if(c.target.tagName==="INPUT")return;if(r(c.target)){let h=c.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let h=(c=window.scrollY)!=null?c:window.pageYOffset;a!==h&&window.scrollTo(0,a),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function B5(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function z5(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let qo=Ab(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:so(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:z5(n)},i=[$5(),U5(),B5()];i.forEach(({before:a})=>a==null?void 0:a(r)),i.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});qo.subscribe(()=>{let t=qo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&qo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&qo.dispatch("TEARDOWN",n)}});function W5(t,e,n=()=>({containers:[]})){let r=Db(qo),i=e?r.get(e):void 0,a=i?i.count>0:!1;return Bt(()=>{if(!(!e||!t))return qo.dispatch("PUSH",e,n),()=>qo.dispatch("POP",e,n)},[t,e]),a}function H5(t,e,n=()=>[document.body]){let r=Nl(t,"scroll-lock");W5(r,e,i=>{var a;return{containers:[...(a=i.containers)!=null?a:[],n]}})}function q5(t=0){let[e,n]=x.useState(t),r=x.useCallback(h=>n(h),[e]),i=x.useCallback(h=>n(p=>p|h),[e]),a=x.useCallback(h=>(e&h)===h,[e]),l=x.useCallback(h=>n(p=>p&~h),[n]),c=x.useCallback(h=>n(p=>p^h),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:a,removeFlag:l,toggleFlag:c}}var G5={},B1,z1;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((B1=process==null?void 0:G5)==null?void 0:B1.NODE_ENV)==="test"&&typeof((z1=Element==null?void 0:Element.prototype)==null?void 0:z1.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var K5=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(K5||{});function Y5(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Q5(t,e,n,r){let[i,a]=x.useState(n),{hasFlag:l,addFlag:c,removeFlag:h}=q5(t&&i?3:0),p=x.useRef(!1),y=x.useRef(!1),_=vf();return Bt(()=>{var b;if(t){if(n&&a(!0),!e){n&&c(3);return}return(b=r==null?void 0:r.start)==null||b.call(r,n),X5(e,{inFlight:p,prepare(){y.current?y.current=!1:y.current=p.current,p.current=!0,!y.current&&(n?(c(3),h(4)):(c(4),h(2)))},run(){y.current?n?(h(3),c(4)):(h(4),c(3)):n?h(1):c(1)},done(){var k;y.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(p.current=!1,h(7),n||a(!1),(k=r==null?void 0:r.end)==null||k.call(r,n))}})}},[t,n,e,_]),t?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function X5(t,{prepare:e,run:n,done:r,inFlight:i}){let a=so();return Z5(t,{prepare:e,inFlight:i}),a.nextFrame(()=>{n(),a.requestAnimationFrame(()=>{a.add(J5(t,r))})}),a.dispose}function J5(t,e){var n,r;let i=so();if(!t)return i.dispose;let a=!1;i.add(()=>{a=!0});let l=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return l.length===0?(e(),i.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{a||e()}),i.dispose)}function Z5(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function N0(t,e){let n=x.useRef([]),r=Ze(t);x.useEffect(()=>{let i=[...n.current];for(let[a,l]of e.entries())if(n.current[a]!==l){let c=r(e,i);return n.current=e,c}},[r,...e])}let wf=x.createContext(null);wf.displayName="OpenClosedContext";var Or=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Or||{});function _f(){return x.useContext(wf)}function ej({value:t,children:e}){return X.createElement(wf.Provider,{value:t},e)}function tj({children:t}){return X.createElement(wf.Provider,{value:null},t)}function nj(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Us=[];nj(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Us[0]===e.target)return;let n=e.target;n=n.closest(Lh),Us.unshift(n??e.target),Us=Us.filter(r=>r!=null&&r.isConnected),Us.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Vb(t){let e=Ze(t),n=x.useRef(!1);x.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ec(()=>{n.current&&e()})}),[e])}function rj(){let t=typeof document>"u";return"useSyncExternalStore"in Kv?(e=>e.useSyncExternalStore)(Kv)(()=>()=>{},()=>!1,()=>!t):!1}function Tc(){let t=rj(),[e,n]=x.useState(Xo.isHandoffComplete);return e&&Xo.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{e!==!0&&n(!0)},[e]),x.useEffect(()=>Xo.handoff(),[]),t?!1:e}let Fb=x.createContext(!1);function ij(){return x.useContext(Fb)}function W1(t){return X.createElement(Fb.Provider,{value:t.force},t.children)}function sj(t){let e=ij(),n=x.useContext($b),r=bc(t),[i,a]=x.useState(()=>{var l;if(!e&&n!==null)return(l=n.current)!=null?l:null;if(Xo.isServer)return null;let c=r==null?void 0:r.getElementById("headlessui-portal-root");if(c)return c;if(r===null)return null;let h=r.createElement("div");return h.setAttribute("id","headlessui-portal-root"),r.body.appendChild(h)});return x.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),x.useEffect(()=>{e||n!==null&&a(n.current)},[n,a,e]),i}let Ub=x.Fragment,oj=Wt(function(t,e){let n=t,r=x.useRef(null),i=kn(g5(_=>{r.current=_}),e),a=bc(r),l=sj(r),[c]=x.useState(()=>{var _;return Xo.isServer?null:(_=a==null?void 0:a.createElement("div"))!=null?_:null}),h=x.useContext(pg),p=Tc();Bt(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),Bt(()=>{if(c&&h)return h.register(c)},[h,c]),Vb(()=>{var _;!l||!c||(c instanceof Node&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((_=l.parentElement)==null||_.removeChild(l)))});let y=an();return p?!l||!c?null:cS.createPortal(y({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Ub,name:"Portal"}),c):null});function aj(t,e){let n=kn(e),{enabled:r=!0,...i}=t,a=an();return r?X.createElement(oj,{...i,ref:n}):a({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Ub,name:"Portal"})}let lj=x.Fragment,$b=x.createContext(null);function uj(t,e){let{target:n,...r}=t,i={ref:kn(e)},a=an();return X.createElement($b.Provider,{value:n},a({ourProps:i,theirProps:r,defaultTag:lj,name:"Popover.Group"}))}let pg=x.createContext(null);function cj(){let t=x.useContext(pg),e=x.useRef([]),n=Ze(a=>(e.current.push(a),t&&t.register(a),()=>r(a))),r=Ze(a=>{let l=e.current.indexOf(a);l!==-1&&e.current.splice(l,1),t&&t.unregister(a)}),i=x.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,x.useMemo(()=>function({children:a}){return X.createElement(pg.Provider,{value:i},a)},[i])]}let dj=Wt(aj),Bb=Wt(uj),hj=Object.assign(dj,{Group:Bb});function fj(t,e=typeof document<"u"?document.defaultView:null,n){let r=Nl(t,"escape");Lb(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===sr.Escape&&n(i))})}function mj(){var t;let[e]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=x.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Bt(()=>{if(!e)return;function i(a){r(a.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function pj({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=bc(n),i=Ze(()=>{var a,l;let c=[];for(let h of t)h!==null&&(h instanceof HTMLElement?c.push(h):"current"in h&&h.current instanceof HTMLElement&&c.push(h.current));if(e!=null&&e.current)for(let h of e.current)c.push(h);for(let h of(a=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?a:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(n&&(h.contains(n)||h.contains((l=n==null?void 0:n.getRootNode())==null?void 0:l.host))||c.some(p=>h.contains(p))||c.push(h));return c});return{resolveContainers:i,contains:Ze(a=>i().some(l=>l.contains(a)))}}let zb=x.createContext(null);function H1({children:t,node:e}){let[n,r]=x.useState(null),i=Wb(e??n);return X.createElement(zb.Provider,{value:i},t,i===null&&X.createElement(tc,{features:ec.Hidden,ref:a=>{var l,c;if(a){for(let h of(c=(l=Rl(a))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])if(h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h!=null&&h.contains(a)){r(h);break}}}}))}function Wb(t=null){var e;return(e=x.useContext(zb))!=null?e:t}function xf(){let t=x.useRef(!1);return Bt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Ru=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Ru||{});function gj(){let t=x.useRef(0);return jb(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Hb(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let yj="div";var Uo=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Uo||{});function vj(t,e){let n=x.useRef(null),r=kn(n,e),{initialFocus:i,initialFocusFallback:a,containers:l,features:c=15,...h}=t;Tc()||(c=0);let p=bc(n);Ej(c,{ownerDocument:p});let y=bj(c,{ownerDocument:p,container:n,initialFocus:i,initialFocusFallback:a});Tj(c,{ownerDocument:p,container:n,containers:l,previousActiveElement:y});let _=gj(),b=Ze(R=>{let B=n.current;B&&(q=>q())(()=>{Kn(_.current,{[Ru.Forwards]:()=>{Nr(B,Ut.First,{skipElements:[R.relatedTarget,a]})},[Ru.Backwards]:()=>{Nr(B,Ut.Last,{skipElements:[R.relatedTarget,a]})}})})}),k=Nl(!!(c&2),"focus-trap#tab-lock"),I=vf(),P=x.useRef(!1),S={ref:r,onKeyDown(R){R.key=="Tab"&&(P.current=!0,I.requestAnimationFrame(()=>{P.current=!1}))},onBlur(R){if(!(c&4))return;let B=Hb(l);n.current instanceof HTMLElement&&B.add(n.current);let q=R.relatedTarget;q instanceof HTMLElement&&q.dataset.headlessuiFocusGuard!=="true"&&(qb(B,q)||(P.current?Nr(n.current,Kn(_.current,{[Ru.Forwards]:()=>Ut.Next,[Ru.Backwards]:()=>Ut.Previous})|Ut.WrapAround,{relativeTo:R.target}):R.target instanceof HTMLElement&&Wi(R.target)))}},A=an();return X.createElement(X.Fragment,null,k&&X.createElement(tc,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:ec.Focusable}),A({ourProps:S,theirProps:h,defaultTag:yj,name:"FocusTrap"}),k&&X.createElement(tc,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:ec.Focusable}))}let wj=Wt(vj),_j=Object.assign(wj,{features:Uo});function xj(t=!0){let e=x.useRef(Us.slice());return N0(([n],[r])=>{r===!0&&n===!1&&Ec(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Us.slice())},[t,Us,e]),Ze(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Ej(t,{ownerDocument:e}){let n=!!(t&8),r=xj(n);N0(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Wi(r())},[n]),Vb(()=>{n&&Wi(r())})}function bj(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let a=x.useRef(null),l=Nl(!!(t&1),"focus-trap#initial-focus"),c=xf();return N0(()=>{if(t===0)return;if(!l){i!=null&&i.current&&Wi(i.current);return}let h=n.current;h&&Ec(()=>{if(!c.current)return;let p=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===p){a.current=p;return}}else if(h.contains(p)){a.current=p;return}if(r!=null&&r.current)Wi(r.current);else{if(t&16){if(Nr(h,Ut.First|Ut.AutoFocus)!==Ho.Error)return}else if(Nr(h,Ut.First)!==Ho.Error)return;if(i!=null&&i.current&&(Wi(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=e==null?void 0:e.activeElement})},[i,l,t]),a}function Tj(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let a=xf(),l=!!(t&4);Lb(e==null?void 0:e.defaultView,"focus",c=>{if(!l||!a.current)return;let h=Hb(r);n.current instanceof HTMLElement&&h.add(n.current);let p=i.current;if(!p)return;let y=c.target;y&&y instanceof HTMLElement?qb(h,y)?(i.current=y,Wi(y)):(c.preventDefault(),c.stopPropagation(),Wi(p)):Wi(i.current)},!0)}function qb(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Gb(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:Yb)!==x.Fragment||X.Children.count(t.children)===1}let Ef=x.createContext(null);Ef.displayName="TransitionContext";var kj=(t=>(t.Visible="visible",t.Hidden="hidden",t))(kj||{});function Ij(){let t=x.useContext(Ef);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Sj(){let t=x.useContext(bf);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let bf=x.createContext(null);bf.displayName="NestingContext";function Tf(t){return"children"in t?Tf(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Kb(t,e){let n=Dr(t),r=x.useRef([]),i=xf(),a=vf(),l=Ze((k,I=Bs.Hidden)=>{let P=r.current.findIndex(({el:S})=>S===k);P!==-1&&(Kn(I,{[Bs.Unmount](){r.current.splice(P,1)},[Bs.Hidden](){r.current[P].state="hidden"}}),a.microTask(()=>{var S;!Tf(r)&&i.current&&((S=n.current)==null||S.call(n))}))}),c=Ze(k=>{let I=r.current.find(({el:P})=>P===k);return I?I.state!=="visible"&&(I.state="visible"):r.current.push({el:k,state:"visible"}),()=>l(k,Bs.Unmount)}),h=x.useRef([]),p=x.useRef(Promise.resolve()),y=x.useRef({enter:[],leave:[]}),_=Ze((k,I,P)=>{h.current.splice(0),e&&(e.chains.current[I]=e.chains.current[I].filter(([S])=>S!==k)),e==null||e.chains.current[I].push([k,new Promise(S=>{h.current.push(S)})]),e==null||e.chains.current[I].push([k,new Promise(S=>{Promise.all(y.current[I].map(([A,R])=>R)).then(()=>S())})]),I==="enter"?p.current=p.current.then(()=>e==null?void 0:e.wait.current).then(()=>P(I)):P(I)}),b=Ze((k,I,P)=>{Promise.all(y.current[I].splice(0).map(([S,A])=>A)).then(()=>{var S;(S=h.current.shift())==null||S()}).then(()=>P(I))});return x.useMemo(()=>({children:r,register:c,unregister:l,onStart:_,onStop:b,wait:p,chains:y}),[c,l,r,_,b,y,p])}let Yb=x.Fragment,Qb=gl.RenderStrategy;function Cj(t,e){var n,r;let{transition:i=!0,beforeEnter:a,afterEnter:l,beforeLeave:c,afterLeave:h,enter:p,enterFrom:y,enterTo:_,entered:b,leave:k,leaveFrom:I,leaveTo:P,...S}=t,[A,R]=x.useState(null),B=x.useRef(null),q=Gb(t),oe=kn(...q?[B,e,R]:e===null?[]:[e]),J=(n=S.unmount)==null||n?Bs.Unmount:Bs.Hidden,{show:j,appear:N,initial:O}=Ij(),[L,D]=x.useState(j?"visible":"hidden"),F=Sj(),{register:M,unregister:pe}=F;Bt(()=>M(B),[M,B]),Bt(()=>{if(J===Bs.Hidden&&B.current){if(j&&L!=="visible"){D("visible");return}return Kn(L,{hidden:()=>pe(B),visible:()=>M(B)})}},[L,B,M,pe,j,J]);let De=Tc();Bt(()=>{if(q&&De&&L==="visible"&&B.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[B,L,De,q]);let Fe=O&&!N,we=N&&j&&O,ie=x.useRef(!1),le=Kb(()=>{ie.current||(D("hidden"),pe(B))},F),te=Ze(je=>{ie.current=!0;let Ne=je?"enter":"leave";le.onStart(B,Ne,Oe=>{Oe==="enter"?a==null||a():Oe==="leave"&&(c==null||c())})}),U=Ze(je=>{let Ne=je?"enter":"leave";ie.current=!1,le.onStop(B,Ne,Oe=>{Oe==="enter"?l==null||l():Oe==="leave"&&(h==null||h())}),Ne==="leave"&&!Tf(le)&&(D("hidden"),pe(B))});x.useEffect(()=>{q&&i||(te(j),U(j))},[j,q,i]);let Q=!(!i||!q||!De||Fe),[,ce]=Q5(Q,A,j,{start:te,end:U}),ke=Lo({ref:oe,className:((r=fg(S.className,we&&p,we&&y,ce.enter&&p,ce.enter&&ce.closed&&y,ce.enter&&!ce.closed&&_,ce.leave&&k,ce.leave&&!ce.closed&&I,ce.leave&&ce.closed&&P,!ce.transition&&j&&b))==null?void 0:r.trim())||void 0,...Y5(ce)}),Ee=0;L==="visible"&&(Ee|=Or.Open),L==="hidden"&&(Ee|=Or.Closed),ce.enter&&(Ee|=Or.Opening),ce.leave&&(Ee|=Or.Closing);let _e=an();return X.createElement(bf.Provider,{value:le},X.createElement(ej,{value:Ee},_e({ourProps:ke,theirProps:S,defaultTag:Yb,features:Qb,visible:L==="visible",name:"Transition.Child"})))}function Rj(t,e){let{show:n,appear:r=!1,unmount:i=!0,...a}=t,l=x.useRef(null),c=Gb(t),h=kn(...c?[l,e]:e===null?[]:[e]);Tc();let p=_f();if(n===void 0&&p!==null&&(n=(p&Or.Open)===Or.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,_]=x.useState(n?"visible":"hidden"),b=Kb(()=>{n||_("hidden")}),[k,I]=x.useState(!0),P=x.useRef([n]);Bt(()=>{k!==!1&&P.current[P.current.length-1]!==n&&(P.current.push(n),I(!1))},[P,n]);let S=x.useMemo(()=>({show:n,appear:r,initial:k}),[n,r,k]);Bt(()=>{n?_("visible"):!Tf(b)&&l.current!==null&&_("hidden")},[n,b]);let A={unmount:i},R=Ze(()=>{var oe;k&&I(!1),(oe=t.beforeEnter)==null||oe.call(t)}),B=Ze(()=>{var oe;k&&I(!1),(oe=t.beforeLeave)==null||oe.call(t)}),q=an();return X.createElement(bf.Provider,{value:b},X.createElement(Ef.Provider,{value:S},q({ourProps:{...A,as:x.Fragment,children:X.createElement(Xb,{ref:h,...A,...a,beforeEnter:R,beforeLeave:B})},theirProps:{},defaultTag:x.Fragment,features:Qb,visible:y==="visible",name:"Transition"})))}function Nj(t,e){let n=x.useContext(Ef)!==null,r=_f()!==null;return X.createElement(X.Fragment,null,!n&&r?X.createElement(gg,{ref:e,...t}):X.createElement(Xb,{ref:e,...t}))}let gg=Wt(Rj),Xb=Wt(Cj),P0=Wt(Nj),Pj=Object.assign(gg,{Child:P0,Root:gg});var Aj=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Aj||{}),Dj=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Dj||{});let Oj={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},A0=x.createContext(null);A0.displayName="DialogContext";function kf(t){let e=x.useContext(A0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kf),n}return e}function Mj(t,e){return Kn(e.type,Oj,t,e)}let q1=Wt(function(t,e){let n=x.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:a,initialFocus:l,role:c="dialog",autoFocus:h=!0,__demoMode:p=!1,unmount:y=!1,..._}=t,b=x.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(b.current||(b.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let k=_f();i===void 0&&k!==null&&(i=(k&Or.Open)===Or.Open);let I=x.useRef(null),P=kn(I,e),S=bc(I),A=i?0:1,[R,B]=x.useReducer(Mj,{titleId:null,descriptionId:null,panelRef:x.createRef()}),q=Ze(()=>a(!1)),oe=Ze(U=>B({type:0,id:U})),J=Tc()?A===0:!1,[j,N]=cj(),O={get current(){var U;return(U=R.panelRef.current)!=null?U:I.current}},L=Wb(),{resolveContainers:D}=pj({mainTreeNode:L,portals:j,defaultContainers:[O]}),F=k!==null?(k&Or.Closing)===Or.Closing:!1;I5(p||F?!1:J,{allowed:Ze(()=>{var U,Q;return[(Q=(U=I.current)==null?void 0:U.closest("[data-headlessui-portal]"))!=null?Q:null]}),disallowed:Ze(()=>{var U;return[(U=L==null?void 0:L.closest("body > *:not(#headlessui-portal-root)"))!=null?U:null]})}),V5(J,D,U=>{U.preventDefault(),q()}),fj(J,S==null?void 0:S.defaultView,U=>{U.preventDefault(),U.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),q()}),H5(p||F?!1:J,S,D),S5(J,I,q);let[M,pe]=y5(),De=x.useMemo(()=>[{dialogState:A,close:q,setTitleId:oe,unmount:y},R],[A,R,q,oe,y]),Fe=x.useMemo(()=>({open:A===0}),[A]),we={ref:P,id:r,role:c,tabIndex:-1,"aria-modal":p?void 0:A===0?!0:void 0,"aria-labelledby":R.titleId,"aria-describedby":M,unmount:y},ie=!mj(),le=Uo.None;J&&!p&&(le|=Uo.RestoreFocus,le|=Uo.TabLock,h&&(le|=Uo.AutoFocus),ie&&(le|=Uo.InitialFocus));let te=an();return X.createElement(tj,null,X.createElement(W1,{force:!0},X.createElement(hj,null,X.createElement(A0.Provider,{value:De},X.createElement(Bb,{target:I},X.createElement(W1,{force:!1},X.createElement(pe,{slot:Fe},X.createElement(N,null,X.createElement(_j,{initialFocus:l,initialFocusFallback:I,containers:D,features:le},X.createElement(b5,{value:q},te({ourProps:we,theirProps:_,slot:Fe,defaultTag:jj,features:Lj,visible:A===0,name:"Dialog"})))))))))))}),jj="div",Lj=gl.RenderStrategy|gl.Static;function Vj(t,e){let{transition:n=!1,open:r,...i}=t,a=_f(),l=t.hasOwnProperty("open")||a!==null,c=t.hasOwnProperty("onClose");if(!l&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?X.createElement(H1,null,X.createElement(Pj,{show:r,transition:n,unmount:i.unmount},X.createElement(q1,{ref:e,...i}))):X.createElement(H1,null,X.createElement(q1,{ref:e,open:r,...i}))}let Fj="div";function Uj(t,e){let n=x.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...a}=t,[{dialogState:l,unmount:c},h]=kf("Dialog.Panel"),p=kn(e,h.panelRef),y=x.useMemo(()=>({open:l===0}),[l]),_=Ze(S=>{S.stopPropagation()}),b={ref:p,id:r,onClick:_},k=i?P0:x.Fragment,I=i?{unmount:c}:{},P=an();return X.createElement(k,{...I},P({ourProps:b,theirProps:a,slot:y,defaultTag:Fj,name:"Dialog.Panel"}))}let $j="div";function Bj(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:a}]=kf("Dialog.Backdrop"),l=x.useMemo(()=>({open:i===0}),[i]),c={ref:e,"aria-hidden":!0},h=n?P0:x.Fragment,p=n?{unmount:a}:{},y=an();return X.createElement(h,{...p},y({ourProps:c,theirProps:r,slot:l,defaultTag:$j,name:"Dialog.Backdrop"}))}let zj="h2";function Wj(t,e){let n=x.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:a,setTitleId:l}]=kf("Dialog.Title"),c=kn(e);x.useEffect(()=>(l(r),()=>l(null)),[r,l]);let h=x.useMemo(()=>({open:a===0}),[a]),p={ref:c,id:r};return an()({ourProps:p,theirProps:i,slot:h,defaultTag:zj,name:"Dialog.Title"})}let Hj=Wt(Vj),qj=Wt(Uj);Wt(Bj);let Gj=Wt(Wj),Os=Object.assign(Hj,{Panel:qj,Title:Gj,Description:x5});function Kj({onFocus:t}){let[e,n]=x.useState(!0),r=xf();return e?X.createElement(tc,{as:"button",type:"button",features:ec.Focusable,onFocus:i=>{i.preventDefault();let a,l=50;function c(){if(l--<=0){a&&cancelAnimationFrame(a);return}if(t()){if(cancelAnimationFrame(a),!r.current)return;n(!1);return}a=requestAnimationFrame(c)}a=requestAnimationFrame(c)}}):null}const Jb=x.createContext(null);function Yj(){return{groups:new Map,get(t,e){var n;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let i=(n=r.get(e))!=null?n:0;r.set(e,i+1);let a=Array.from(r.keys()).indexOf(e);function l(){let c=r.get(e);c>1?r.set(e,c-1):r.delete(e)}return[a,l]}}}function Qj({children:t}){let e=x.useRef(Yj());return x.createElement(Jb.Provider,{value:e},t)}function Zb(t){let e=x.useContext(Jb);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=x.useId(),[r,i]=e.current.get(t,n);return x.useEffect(()=>i,[]),r}var Xj=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Xj||{}),Jj=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(Jj||{}),Zj=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(Zj||{});let eL={0(t,e){var n;let r=el(t.tabs,y=>y.current),i=el(t.panels,y=>y.current),a=r.filter(y=>{var _;return!((_=y.current)!=null&&_.hasAttribute("disabled"))}),l={...t,tabs:r,panels:i};if(e.index<0||e.index>r.length-1){let y=Kn(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>Kn(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return l;let _=Kn(y,{0:()=>r.indexOf(a[0]),1:()=>r.indexOf(a[a.length-1])});return{...l,selectedIndex:_===-1?t.selectedIndex:_}}let c=r.slice(0,e.index),h=[...r.slice(e.index),...c].find(y=>a.includes(y));if(!h)return l;let p=(n=r.indexOf(h))!=null?n:t.selectedIndex;return p===-1&&(p=t.selectedIndex),{...l,selectedIndex:p}},1(t,e){if(t.tabs.includes(e.tab))return t;let n=t.tabs[t.selectedIndex],r=el([...t.tabs,e.tab],a=>a.current),i=t.selectedIndex;return t.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=t.selectedIndex)),{...t,tabs:r,selectedIndex:i}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:el([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},D0=x.createContext(null);D0.displayName="TabsDataContext";function yl(t){let e=x.useContext(D0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,yl),n}return e}let O0=x.createContext(null);O0.displayName="TabsActionsContext";function M0(t){let e=x.useContext(O0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,M0),n}return e}function tL(t,e){return Kn(e.type,eL,t,e)}let nL="div";function rL(t,e){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:a,selectedIndex:l=null,...c}=t;const h=r?"vertical":"horizontal",p=i?"manual":"auto";let y=l!==null,_=Dr({isControlled:y}),b=kn(e),[k,I]=x.useReducer(tL,{info:_,selectedIndex:l??n,tabs:[],panels:[]}),P=x.useMemo(()=>({selectedIndex:k.selectedIndex}),[k.selectedIndex]),S=Dr(a||(()=>{})),A=Dr(k.tabs),R=x.useMemo(()=>({orientation:h,activation:p,...k}),[h,p,k]),B=Ze(L=>(I({type:1,tab:L}),()=>I({type:2,tab:L}))),q=Ze(L=>(I({type:3,panel:L}),()=>I({type:4,panel:L}))),oe=Ze(L=>{J.current!==L&&S.current(L),y||I({type:0,index:L})}),J=Dr(y?t.selectedIndex:k.selectedIndex),j=x.useMemo(()=>({registerTab:B,registerPanel:q,change:oe}),[]);Bt(()=>{I({type:0,index:l??n})},[l]),Bt(()=>{if(J.current===void 0||k.tabs.length<=0)return;let L=el(k.tabs,D=>D.current);L.some((D,F)=>k.tabs[F]!==D)&&oe(L.indexOf(k.tabs[J.current]))});let N={ref:b},O=an();return X.createElement(Qj,null,X.createElement(O0.Provider,{value:j},X.createElement(D0.Provider,{value:R},R.tabs.length<=0&&X.createElement(Kj,{onFocus:()=>{var L,D;for(let F of A.current)if(((L=F.current)==null?void 0:L.tabIndex)===0)return(D=F.current)==null||D.focus(),!0;return!1}}),O({ourProps:N,theirProps:c,slot:P,defaultTag:nL,name:"Tabs"}))))}let iL="div";function sL(t,e){let{orientation:n,selectedIndex:r}=yl("Tab.List"),i=kn(e),a=x.useMemo(()=>({selectedIndex:r}),[r]),l=t,c={ref:i,role:"tablist","aria-orientation":n};return an()({ourProps:c,theirProps:l,slot:a,defaultTag:iL,name:"Tabs.List"})}let oL="button";function aL(t,e){var n,r;let i=x.useId(),{id:a=`headlessui-tabs-tab-${i}`,disabled:l=!1,autoFocus:c=!1,...h}=t,{orientation:p,activation:y,selectedIndex:_,tabs:b,panels:k}=yl("Tab"),I=M0("Tab"),P=yl("Tab"),[S,A]=x.useState(null),R=x.useRef(null),B=kn(R,e,A);Bt(()=>I.registerTab(R),[I,R]);let q=Zb("tabs"),oe=b.indexOf(R);oe===-1&&(oe=q);let J=oe===_,j=Ze(te=>{var U;let Q=te();if(Q===Ho.Success&&y==="auto"){let ce=(U=Rl(R))==null?void 0:U.activeElement,ke=P.tabs.findIndex(Ee=>Ee.current===ce);ke!==-1&&I.change(ke)}return Q}),N=Ze(te=>{let U=b.map(Q=>Q.current).filter(Boolean);if(te.key===sr.Space||te.key===sr.Enter){te.preventDefault(),te.stopPropagation(),I.change(oe);return}switch(te.key){case sr.Home:case sr.PageUp:return te.preventDefault(),te.stopPropagation(),j(()=>Nr(U,Ut.First));case sr.End:case sr.PageDown:return te.preventDefault(),te.stopPropagation(),j(()=>Nr(U,Ut.Last))}if(j(()=>Kn(p,{vertical(){return te.key===sr.ArrowUp?Nr(U,Ut.Previous|Ut.WrapAround):te.key===sr.ArrowDown?Nr(U,Ut.Next|Ut.WrapAround):Ho.Error},horizontal(){return te.key===sr.ArrowLeft?Nr(U,Ut.Previous|Ut.WrapAround):te.key===sr.ArrowRight?Nr(U,Ut.Next|Ut.WrapAround):Ho.Error}}))===Ho.Success)return te.preventDefault()}),O=x.useRef(!1),L=Ze(()=>{var te;O.current||(O.current=!0,(te=R.current)==null||te.focus({preventScroll:!0}),I.change(oe),Ec(()=>{O.current=!1}))}),D=Ze(te=>{te.preventDefault()}),{isFocusVisible:F,focusProps:M}=Sb({autoFocus:c}),{isHovered:pe,hoverProps:De}=t5({isDisabled:l}),{pressed:Fe,pressProps:we}=a5({disabled:l}),ie=x.useMemo(()=>({selected:J,hover:pe,active:Fe,focus:F,autofocus:c,disabled:l}),[J,pe,F,Fe,c,l]),le=Rb({ref:B,onKeyDown:N,onMouseDown:D,onClick:L,id:a,role:"tab",type:F5(t,S),"aria-controls":(r=(n=k[oe])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":J,tabIndex:J?0:-1,disabled:l||void 0,autoFocus:c},M,De,we);return an()({ourProps:le,theirProps:h,slot:ie,defaultTag:oL,name:"Tabs.Tab"})}let lL="div";function uL(t,e){let{selectedIndex:n}=yl("Tab.Panels"),r=kn(e),i=x.useMemo(()=>({selectedIndex:n}),[n]),a=t,l={ref:r};return an()({ourProps:l,theirProps:a,slot:i,defaultTag:lL,name:"Tabs.Panels"})}let cL="div",dL=gl.RenderStrategy|gl.Static;function hL(t,e){var n,r,i,a;let l=x.useId(),{id:c=`headlessui-tabs-panel-${l}`,tabIndex:h=0,...p}=t,{selectedIndex:y,tabs:_,panels:b}=yl("Tab.Panel"),k=M0("Tab.Panel"),I=x.useRef(null),P=kn(I,e);Bt(()=>k.registerPanel(I),[k,I]);let S=Zb("panels"),A=b.indexOf(I);A===-1&&(A=S);let R=A===y,{isFocusVisible:B,focusProps:q}=Sb(),oe=x.useMemo(()=>({selected:R,focus:B}),[R,B]),J=Rb({ref:P,id:c,role:"tabpanel","aria-labelledby":(r=(n=_[A])==null?void 0:n.current)==null?void 0:r.id,tabIndex:R?h:-1},q),j=an();return!R&&((i=p.unmount)==null||i)&&!((a=p.static)!=null&&a)?X.createElement(tc,{"aria-hidden":"true",...J}):j({ourProps:J,theirProps:p,slot:oe,defaultTag:cL,features:dL,visible:R,name:"Tabs.Panel"})}let fL=Wt(aL),mL=Wt(rL),pL=Wt(sL),gL=Wt(uL),yL=Wt(hL),Mo=Object.assign(fL,{Group:mL,List:pL,Panels:gL,Panel:yL});function G1({images:t,columns:e=3}){const[n,r]=x.useState(null);return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${e}, minmax(0, 1fr))`},children:t.map((i,a)=>m.jsxs("div",{className:`relative group cursor-pointer ${i.width?`col-span-${i.width}`:""}`,onClick:()=>r(i.src),children:[m.jsx("div",{className:"aspect-square overflow-hidden rounded-xl",children:m.jsx("img",{src:i.src,alt:i.alt,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-300"})}),m.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-xl",children:m.jsx("span",{className:"text-white text-sm font-medium",children:"Voir"})})]},a))}),m.jsxs(Os,{open:n!==null,onClose:()=>r(null),className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/90","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Os.Panel,{className:"relative max-w-4xl w-full",children:[m.jsx("button",{onClick:()=>r(null),className:"absolute -top-12 right-0 text-white hover:text-gray-300",children:m.jsx(ib,{className:"w-8 h-8"})}),m.jsx("img",{src:n||"",alt:"Vue agrandie",className:"w-full h-auto rounded-lg"})]})})]})]})}function vL(){return m.jsxs("div",{className:"min-h-screen pt-20",children:[m.jsx("div",{className:"px-4 py-12",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx(VM,{className:"p-8 md:p-12",children:m.jsxs("div",{className:"max-w-3xl",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold gradient-text mb-6",children:"Studio Professionnel"}),m.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Un espace créatif équipé des meilleurs outils pour vos projets musicaux et visuels. Notre studio offre un environnement optimal pour l'enregistrement, le mixage, la photographie et la production vidéo."}),m.jsx(Ye,{to:"/booking",children:m.jsx(Je,{variant:"gradient",size:"lg",children:"Réserver le Studio"})})]})})})}),m.jsx("section",{className:"py-20 px-4 bg-dark-100/50",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Studio Musical"}),m.jsx("p",{className:"text-gray-400",children:"Un environnement acoustique optimisé et un équipement professionnel pour des productions de qualité."})]}),m.jsx("div",{className:"mb-12",children:m.jsx(G1,{images:ub,columns:3})}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(gh,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"Recording"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Cabine isolée et matériel haut de gamme pour des enregistrements professionnels."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(zo,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"Mixing"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Station de mixage professionnelle avec monitoring de référence."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(Oh,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"Mastering"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Finalisation professionnelle pour un son optimal sur tous les supports."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(zo,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"Production"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Accompagnement artistique complet pour vos projets musicaux."})]})]})]})}),m.jsx("section",{className:"py-20 px-4",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Studio Photo & Vidéo"}),m.jsx("p",{className:"text-gray-400",children:"Un espace modulable équipé pour tous types de productions visuelles."})]}),m.jsx("div",{className:"mb-12",children:m.jsx(G1,{images:cb,columns:3})}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(tO,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"Photo Studio"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Espace modulable avec multiples fonds et éclairages professionnels."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(zo,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"Vidéo"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Équipement complet pour la production vidéo professionnelle."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(Oh,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"Fond Vert"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Studio équipé d'un fond vert professionnel pour vos effets spéciaux."})]}),m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-500/10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(zo,{className:"w-6 h-6 text-primary-500"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"Post-Production"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Services de retouche photo et montage vidéo disponibles."})]})]})]})}),m.jsx("section",{className:"py-20 px-4 bg-dark-100/50",children:m.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Prêt à Créer ?"}),m.jsx("p",{className:"text-gray-400 mb-8",children:"Réservez dès maintenant votre session et donnez vie à vos projets créatifs."}),m.jsx(Ye,{to:"/booking",children:m.jsx(Je,{variant:"gradient",size:"lg",children:"Réserver une Session"})})]})})]})}const wL=["Trap","Drill","RnB","Rap","Afro","Pop","Dancehall","Cloud","Boom Bap"];function _L(){const[t,e]=x.useState([]),[n,r]=x.useState(null),[i,a]=x.useState(!0),[l,c]=x.useState(""),[h,p]=x.useState(""),[y,_]=x.useState([]);x.useEffect(()=>{(async()=>{try{a(!0);const P=await Gn.getAllBeats();e(P),_(P)}catch(P){console.error("Error loading beats:",P),Ve.error("Erreur lors du chargement des beats")}finally{a(!1)}})()},[]),x.useEffect(()=>{let I=t;if(h&&(I=I.filter(P=>P.style===h)),l){const P=l.toLowerCase();I=I.filter(S=>S.title.toLowerCase().includes(P)||S.producer.toLowerCase().includes(P))}_(I)},[l,h,t]);const b=()=>{if(n){const I=y.findIndex(P=>P.id===n.id);I<y.length-1&&r(y[I+1])}},k=()=>{if(n){const I=y.findIndex(P=>P.id===n.id);I>0&&r(y[I-1])}};return i?m.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):m.jsxs("div",{className:"min-h-screen pt-20 pb-32 px-4",children:[m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Beats"}),m.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-4 w-full md:w-auto",children:[m.jsxs("select",{value:h,onChange:I=>p(I.target.value),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent md:w-48",children:[m.jsx("option",{value:"",children:"Tous les styles"}),wL.map(I=>m.jsx("option",{value:I,children:I},I))]}),m.jsxs("div",{className:"relative flex-1 md:w-64",children:[m.jsx("input",{type:"text",placeholder:"Rechercher...",value:l,onChange:I=>c(I.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),m.jsx(sO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(I=>m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl border border-white/10 p-6 hover:border-primary-500/50 transition-colors cursor-pointer group",onClick:()=>r(I),children:[m.jsxs("div",{className:"relative aspect-square mb-4 overflow-hidden rounded-lg",children:[I.imageUrl?m.jsx("img",{src:I.imageUrl,alt:I.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"}):m.jsx("div",{className:"w-full h-full bg-white/5 flex items-center justify-center",children:m.jsx(L4,{className:"w-12 h-12 text-white/20"})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),m.jsx("button",{onClick:P=>{P.stopPropagation(),r(I)},className:"absolute inset-0 flex items-center justify-center bg-black/0 hover:bg-black/40 transition-colors",children:m.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-500 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity transform group-hover:scale-110 duration-300",children:(n==null?void 0:n.id)===I.id?m.jsx("div",{className:"w-4 h-4 bg-white rounded-sm"}):m.jsx("div",{className:"w-0 h-0 border-l-[10px] border-l-white border-y-[6px] border-y-transparent ml-1"})})})]}),m.jsx("h3",{className:"font-medium mb-1 group-hover:text-primary-500 transition-colors",children:I.title}),m.jsx("p",{className:"text-sm text-gray-400",children:I.producer}),m.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"px-2 py-1 text-xs bg-white/5 rounded-full",children:I.style}),m.jsxs("span",{className:"text-sm text-gray-400",children:[Math.floor(I.duration/60),":",Math.floor(I.duration%60).toString().padStart(2,"0")]})]}),m.jsxs("p",{className:"font-medium",children:[I.price,"€"]})]})]},I.id))}),y.length===0&&m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-400",children:"Aucun beat trouvé"})})]}),m.jsx(lb,{currentBeat:n,playlist:y,onNext:b,onPrevious:k})]})}const eT=6048e5,xL=864e5,K1=Symbol.for("constructDateFrom");function zt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&K1 in t?t[K1](e):t instanceof Date?new t.constructor(e):new Date(e)}function it(t,e){return zt(e||t,t)}function tT(t,e,n){const r=it(t,n==null?void 0:n.in);return isNaN(e)?zt(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function nT(t,e,n){const r=it(t,n==null?void 0:n.in);if(isNaN(e))return zt(t,NaN);if(!e)return r;const i=r.getDate(),a=zt(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const l=a.getDate();return i>=l?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let EL={};function kc(){return EL}function vl(t,e){var c,h,p,y;const n=kc(),r=(e==null?void 0:e.weekStartsOn)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,i=it(t,e==null?void 0:e.in),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function nc(t,e){return vl(t,{...e,weekStartsOn:1})}function rT(t,e){const n=it(t,e==null?void 0:e.in),r=n.getFullYear(),i=zt(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=nc(i),l=zt(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=nc(l);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Y1(t){const e=it(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Pl(t,...e){const n=zt.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function rc(t,e){const n=it(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function iT(t,e,n){const[r,i]=Pl(n==null?void 0:n.in,t,e),a=rc(r),l=rc(i),c=+a-Y1(a),h=+l-Y1(l);return Math.round((c-h)/xL)}function bL(t,e){const n=rT(t,e),r=zt(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),nc(r)}function TL(t,e,n){return tT(t,e*7,n)}function kL(t,e,n){return nT(t,e*12,n)}function IL(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=zt.bind(null,i));const a=it(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),zt(r,n||NaN)}function SL(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=zt.bind(null,i));const a=it(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),zt(r,n||NaN)}function CL(t,e,n){const[r,i]=Pl(n==null?void 0:n.in,t,e);return+rc(r)==+rc(i)}function sT(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function RL(t){return!(!sT(t)&&typeof t!="number"||isNaN(+it(t)))}function NL(t,e,n){const[r,i]=Pl(n==null?void 0:n.in,t,e),a=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return a*12+l}function PL(t,e){const n=it(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function AL(t,e){const[n,r]=Pl(t,e.start,e.end);return{start:n,end:r}}function DL(t,e){const{start:n,end:r}=AL(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0),l.setDate(1);let c=1;const h=[];for(;+l<=a;)h.push(zt(n,l)),l.setMonth(l.getMonth()+c);return i?h.reverse():h}function OL(t,e){const n=it(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ML(t,e){const n=it(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function oT(t,e){const n=it(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function aT(t,e){var c,h,p,y;const n=kc(),r=(e==null?void 0:e.weekStartsOn)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,i=it(t,e==null?void 0:e.in),a=i.getDay(),l=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function jL(t,e){return aT(t,{...e,weekStartsOn:1})}const LL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VL=(t,e,n)=>{let r;const i=LL[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ol(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const FL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$L={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BL={date:ol({formats:FL,defaultWidth:"full"}),time:ol({formats:UL,defaultWidth:"full"}),dateTime:ol({formats:$L,defaultWidth:"full"})},zL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WL=(t,e,n,r)=>zL[t];function ni(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const HL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},GL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XL=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},JL={ordinalNumber:XL,era:ni({values:HL,defaultWidth:"wide"}),quarter:ni({values:qL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ni({values:GL,defaultWidth:"wide"}),day:ni({values:KL,defaultWidth:"wide"}),dayPeriod:ni({values:YL,defaultWidth:"wide",formattingValues:QL,defaultFormattingWidth:"wide"})};function ri(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(c)?e3(c,_=>_.test(l)):ZL(c,_=>_.test(l));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const y=e.slice(l.length);return{value:p,rest:y}}}function ZL(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function e3(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function lT(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const t3=/^(\d+)(th|st|nd|rd)?/i,n3=/\d+/i,r3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},i3={any:[/^b/i,/^(a|c)/i]},s3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},o3={any:[/1/i,/2/i,/3/i,/4/i]},a3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},l3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},u3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},c3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},d3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},h3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},f3={ordinalNumber:lT({matchPattern:t3,parsePattern:n3,valueCallback:t=>parseInt(t,10)}),era:ri({matchPatterns:r3,defaultMatchWidth:"wide",parsePatterns:i3,defaultParseWidth:"any"}),quarter:ri({matchPatterns:s3,defaultMatchWidth:"wide",parsePatterns:o3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ri({matchPatterns:a3,defaultMatchWidth:"wide",parsePatterns:l3,defaultParseWidth:"any"}),day:ri({matchPatterns:u3,defaultMatchWidth:"wide",parsePatterns:c3,defaultParseWidth:"any"}),dayPeriod:ri({matchPatterns:d3,defaultMatchWidth:"any",parsePatterns:h3,defaultParseWidth:"any"})},j0={code:"en-US",formatDistance:VL,formatLong:BL,formatRelative:WL,localize:JL,match:f3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function m3(t,e){const n=it(t,e==null?void 0:e.in);return iT(n,oT(n))+1}function uT(t,e){const n=it(t,e==null?void 0:e.in),r=+nc(n)-+bL(n);return Math.round(r/eT)+1}function cT(t,e){var y,_,b,k;const n=it(t,e==null?void 0:e.in),r=n.getFullYear(),i=kc(),a=(e==null?void 0:e.firstWeekContainsDate)??((_=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((k=(b=i.locale)==null?void 0:b.options)==null?void 0:k.firstWeekContainsDate)??1,l=zt((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const c=vl(l,e),h=zt((e==null?void 0:e.in)||t,0);h.setFullYear(r,0,a),h.setHours(0,0,0,0);const p=vl(h,e);return+n>=+c?r+1:+n>=+p?r:r-1}function p3(t,e){var c,h,p,y;const n=kc(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,i=cT(t,e),a=zt((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),vl(a,e)}function dT(t,e){const n=it(t,e==null?void 0:e.in),r=+vl(n,e)-+p3(n,e);return Math.round(r/eT)+1}function nt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ds={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return nt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):nt(n+1,2)},d(t,e){return nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return nt(t.getHours()%12||12,e.length)},H(t,e){return nt(t.getHours(),e.length)},m(t,e){return nt(t.getMinutes(),e.length)},s(t,e){return nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return nt(i,e.length)}},Ya={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ds.y(t,e)},Y:function(t,e,n,r){const i=cT(t,r),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return nt(l,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):nt(a,e.length)},R:function(t,e){const n=rT(t);return nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return nt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ds.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=dT(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):nt(i,e.length)},I:function(t,e,n){const r=uT(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):nt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ds.d(t,e)},D:function(t,e,n){const r=m3(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):nt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return nt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return nt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return nt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ya.noon:r===0?i=Ya.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ya.evening:r>=12?i=Ya.afternoon:r>=4?i=Ya.morning:i=Ya.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ds.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ds.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):nt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):nt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ds.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ds.s(t,e)},S:function(t,e){return Ds.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return J1(r);case"XXXX":case"XX":return Vo(r);case"XXXXX":case"XXX":default:return Vo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return J1(r);case"xxxx":case"xx":return Vo(r);case"xxxxx":case"xxx":default:return Vo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+X1(r,":");case"OOOO":default:return"GMT"+Vo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+X1(r,":");case"zzzz":default:return"GMT"+Vo(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return nt(r,e.length)},T:function(t,e,n){return nt(+t,e.length)}};function X1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+nt(a,2)}function J1(t,e){return t%60===0?(t>0?"-":"+")+nt(Math.abs(t)/60,2):Vo(t,e)}function Vo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=nt(Math.trunc(r/60),2),a=nt(r%60,2);return n+i+e+a}const Z1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hT=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},g3=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Z1(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Z1(r,e)).replace("{{time}}",hT(i,e))},y3={p:hT,P:g3},v3=/^D+$/,w3=/^Y+$/,_3=["D","DD","YY","YYYY"];function x3(t){return v3.test(t)}function E3(t){return w3.test(t)}function b3(t,e,n){const r=T3(t,e,n);if(console.warn(r),_3.includes(t))throw new RangeError(r)}function T3(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const k3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,I3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S3=/^'([^]*?)'?$/,C3=/''/g,R3=/[a-zA-Z]/;function Hi(t,e,n){var y,_,b,k,I,P,S,A;const r=kc(),i=(n==null?void 0:n.locale)??r.locale??j0,a=(n==null?void 0:n.firstWeekContainsDate)??((_=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(b=r.locale)==null?void 0:b.options)==null?void 0:k.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((P=(I=n==null?void 0:n.locale)==null?void 0:I.options)==null?void 0:P.weekStartsOn)??r.weekStartsOn??((A=(S=r.locale)==null?void 0:S.options)==null?void 0:A.weekStartsOn)??0,c=it(t,n==null?void 0:n.in);if(!RL(c))throw new RangeError("Invalid time value");let h=e.match(I3).map(R=>{const B=R[0];if(B==="p"||B==="P"){const q=y3[B];return q(R,i.formatLong)}return R}).join("").match(k3).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const B=R[0];if(B==="'")return{isToken:!1,value:N3(R)};if(Q1[B])return{isToken:!0,value:R};if(B.match(R3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:R}});i.localize.preprocessor&&(h=i.localize.preprocessor(c,h));const p={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return h.map(R=>{if(!R.isToken)return R.value;const B=R.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&E3(B)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&x3(B))&&b3(B,e,String(t));const q=Q1[B[0]];return q(c,B,i.localize,p)}).join("")}function N3(t){const e=t.match(S3);return e?e[1].replace(C3,"'"):t}function P3(t,e){const n=it(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),a=zt(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function A3(t,e){return it(t,e==null?void 0:e.in).getMonth()}function D3(t,e){return it(t,e==null?void 0:e.in).getFullYear()}function O3(t,e){return+it(t)>+it(e)}function M3(t,e){return+it(t)<+it(e)}function j3(t,e,n){const[r,i]=Pl(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function L3(t,e,n){const[r,i]=Pl(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function V3(t,e,n){const r=it(t,n==null?void 0:n.in),i=r.getFullYear(),a=r.getDate(),l=zt(t,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const c=P3(l);return r.setMonth(e,Math.min(a,c)),r}function F3(t,e,n){const r=it(t,n==null?void 0:n.in);return isNaN(+r)?zt(t,NaN):(r.setFullYear(e),r)}var Ie;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Ie||(Ie={}));var ut;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(ut||(ut={}));var Mr;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Mr||(Mr={}));const Ip={},Nu={};function $u(t,e){try{const r=(Ip[t]||(Ip[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Nu?Nu[r]:e_(r,r.split(":"))}catch{if(t in Nu)return Nu[t];const n=t==null?void 0:t.match(U3);return n?e_(t,n.slice(1)):NaN}}const U3=/([+-]\d\d):?(\d\d)?/;function e_(t,e){const n=+e[0],r=+(e[1]||0);return Nu[t]=n>0?n*60+r:n*60-r}class si extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN($u(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),fT(this),yg(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new si(...n,e):new si(Date.now(),e)}withTimeZone(e){return new si(+this,e)}getTimezoneOffset(){return-$u(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),yg(this),+this}[Symbol.for("constructDateFrom")](e){return new si(+new Date(e),this.timeZone)}}const t_=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!t_.test(t))return;const e=t.replace(t_,"$1UTC");si.prototype[e]&&(t.startsWith("get")?si.prototype[t]=function(){return this.internal[e]()}:(si.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),$3(this),+this},si.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),yg(this),+this}))});function yg(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function $3(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),fT(t)}function fT(t){const e=$u(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),a=r-i,l=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();a&&l&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+a);const c=r-e;c&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+c);const h=$u(t.timeZone,t),y=-new Date(+t).getTimezoneOffset()-h,_=h!==e,b=y-c;if(_&&b){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+b);const k=$u(t.timeZone,t),I=h-k;I&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+I))}}class Go extends si{static tz(e,...n){return n.length?new Go(...n,e):new Go(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),i=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,i]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${e} GMT${n}${r}${i} (${B3(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[n,r,i]}withTimeZone(e){return new Go(+this,e)}[Symbol.for("constructDateFrom")](e){return new Go(+new Date(e),this.timeZone)}}function B3(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}const z3={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},W3=(t,e,n)=>{let r;const i=z3[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},H3={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},q3={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},G3={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K3={date:ol({formats:H3,defaultWidth:"full"}),time:ol({formats:q3,defaultWidth:"full"}),dateTime:ol({formats:G3,defaultWidth:"full"})},Y3={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Q3=(t,e,n,r)=>Y3[t],X3={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},J3={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Z3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},e6={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},t6={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},n6=(t,e)=>{const n=Number(t),r=e==null?void 0:e.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=r&&i.includes(r)?"ère":"er":a="ème",n+a},r6=["MMM","MMMM"],i6={preprocessor:(t,e)=>t.getDate()===1||!e.some(r=>r.isToken&&r6.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:n6,era:ni({values:X3,defaultWidth:"wide"}),quarter:ni({values:J3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ni({values:Z3,defaultWidth:"wide"}),day:ni({values:e6,defaultWidth:"wide"}),dayPeriod:ni({values:t6,defaultWidth:"wide"})},s6=/^(\d+)(ième|ère|ème|er|e)?/i,o6=/\d+/i,a6={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},l6={any:[/^av/i,/^ap/i]},u6={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},c6={any:[/1/i,/2/i,/3/i,/4/i]},d6={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},h6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},f6={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},m6={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},p6={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},g6={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},y6={ordinalNumber:lT({matchPattern:s6,parsePattern:o6,valueCallback:t=>parseInt(t)}),era:ri({matchPatterns:a6,defaultMatchWidth:"wide",parsePatterns:l6,defaultParseWidth:"any"}),quarter:ri({matchPatterns:u6,defaultMatchWidth:"wide",parsePatterns:c6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ri({matchPatterns:d6,defaultMatchWidth:"wide",parsePatterns:h6,defaultParseWidth:"any"}),day:ri({matchPatterns:f6,defaultMatchWidth:"wide",parsePatterns:m6,defaultParseWidth:"any"}),dayPeriod:ri({matchPatterns:p6,defaultMatchWidth:"any",parsePatterns:g6,defaultParseWidth:"any"})},al={code:"fr",formatDistance:W3,formatLong:K3,formatRelative:Q3,localize:i6,match:y6,options:{weekStartsOn:1,firstWeekContainsDate:4}},n_=5,v6=4;function w6(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,i=e.addDays(t,-r+1),a=e.addDays(i,n_*7-1);return e.getMonth(t)===e.getMonth(a)?n_:v6}function mT(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function _6(t,e){const n=mT(t,e),r=w6(t,e);return e.addDays(n,r*7-1)}class Ji{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Go.tz(this.options.timeZone):new this.Date},this.newDate=(r,i,a)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(r,i,a):this.options.timeZone?new Go(r,i,a,this.options.timeZone):new Date(r,i,a)},this.addDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(r,i):tT(r,i)},this.addMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(r,i):nT(r,i)},this.addWeeks=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(r,i):TL(r,i)},this.addYears=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(r,i):kL(r,i)},this.differenceInCalendarDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):iT(r,i)},this.differenceInCalendarMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):NL(r,i)},this.eachMonthOfInterval=r=>{var i;return(i=this.overrides)!=null&&i.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):DL(r)},this.endOfBroadcastWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r,this):_6(r,this)},this.endOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfISOWeek?this.overrides.endOfISOWeek(r):jL(r)},this.endOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.endOfMonth?this.overrides.endOfMonth(r):PL(r)},this.endOfWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,this.options):aT(r,this.options)},this.endOfYear=r=>{var i;return(i=this.overrides)!=null&&i.endOfYear?this.overrides.endOfYear(r):ML(r)},this.format=(r,i)=>{var l;const a=(l=this.overrides)!=null&&l.format?this.overrides.format(r,i,this.options):Hi(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.getISOWeek?this.overrides.getISOWeek(r):uT(r)},this.getMonth=r=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):A3(r,this.options)},this.getYear=r=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):D3(r,this.options)},this.getWeek=r=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):dT(r,this.options)},this.isAfter=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(r,i):O3(r,i)},this.isBefore=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(r,i):M3(r,i)},this.isDate=r=>{var i;return(i=this.overrides)!=null&&i.isDate?this.overrides.isDate(r):sT(r)},this.isSameDay=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(r,i):CL(r,i)},this.isSameMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(r,i):j3(r,i)},this.isSameYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(r,i):L3(r,i)},this.max=r=>{var i;return(i=this.overrides)!=null&&i.max?this.overrides.max(r):IL(r)},this.min=r=>{var i;return(i=this.overrides)!=null&&i.min?this.overrides.min(r):SL(r)},this.setMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(r,i):V3(r,i)},this.setYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(r,i):F3(r,i)},this.startOfBroadcastWeek=r=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):mT(r,this)},this.startOfDay=r=>{var i;return(i=this.overrides)!=null&&i.startOfDay?this.overrides.startOfDay(r):rc(r)},this.startOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.startOfISOWeek?this.overrides.startOfISOWeek(r):nc(r)},this.startOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.startOfMonth?this.overrides.startOfMonth(r):OL(r)},this.startOfWeek=r=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):vl(r,this.options)},this.startOfYear=r=>{var i;return(i=this.overrides)!=null&&i.startOfYear?this.overrides.startOfYear(r):oT(r)},this.options={locale:j0,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Zi=new Ji;function x6(t,e,n={}){return Object.entries(t).filter(([,i])=>i===!0).reduce((i,[a])=>(n[a]?i.push(n[a]):e[ut[a]]?i.push(e[ut[a]]):e[Mr[a]]&&i.push(e[Mr[a]]),i),[e[Ie.Day]])}function E6(t){return X.createElement("button",{...t})}function b6(t){return X.createElement("span",{...t})}function T6(t){const{size:e=24,orientation:n="left",className:r}=t;return X.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&X.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&X.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&X.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&X.createElement("polygon",{points:"8 18.612 14.1888889 12.5 8 6.37733333 9.91111111 4.5 18 12.5 9.91111111 20.5"}))}function k6(t){const{day:e,modifiers:n,...r}=t;return X.createElement("td",{...r})}function I6(t){const{day:e,modifiers:n,...r}=t,i=X.useRef(null);return X.useEffect(()=>{var a;n.focused&&((a=i.current)==null||a.focus())},[n.focused]),X.createElement("button",{ref:i,...r})}function S6(t){const{options:e,className:n,components:r,classNames:i,...a}=t,l=[i[Ie.Dropdown],n].join(" "),c=e==null?void 0:e.find(({value:h})=>h===a.value);return X.createElement("span",{"data-disabled":a.disabled,className:i[Ie.DropdownRoot]},X.createElement(r.Select,{className:l,...a},e==null?void 0:e.map(({value:h,label:p,disabled:y})=>X.createElement(r.Option,{key:h,value:h,disabled:y},p))),X.createElement("span",{className:i[Ie.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,X.createElement(r.Chevron,{orientation:"down",size:18,className:i[Ie.Chevron]})))}function C6(t){return X.createElement("div",{...t})}function R6(t){return X.createElement("div",{...t})}function N6(t){const{calendarMonth:e,displayIndex:n,...r}=t;return X.createElement("div",{...r},t.children)}function P6(t){const{calendarMonth:e,displayIndex:n,...r}=t;return X.createElement("div",{...r})}function A6(t){return X.createElement("table",{...t})}function D6(t){return X.createElement("div",{...t})}const pT=x.createContext(void 0);function Ic(){const t=x.useContext(pT);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function O6(t){const{components:e}=Ic();return X.createElement(e.Dropdown,{...t})}function M6(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:i,...a}=t,{components:l,classNames:c,labels:{labelPrevious:h,labelNext:p}}=Ic();return X.createElement("nav",{...a},X.createElement(l.PreviousMonthButton,{type:"button",className:c[Ie.PreviousMonthButton],tabIndex:r?void 0:-1,disabled:r?void 0:!0,"aria-label":h(r),onClick:t.onPreviousClick},X.createElement(l.Chevron,{disabled:r?void 0:!0,className:c[Ie.Chevron],orientation:"left"})),X.createElement(l.NextMonthButton,{type:"button",className:c[Ie.NextMonthButton],tabIndex:i?void 0:-1,disabled:i?void 0:!0,"aria-label":p(i),onClick:t.onNextClick},X.createElement(l.Chevron,{disabled:i?void 0:!0,orientation:"right",className:c[Ie.Chevron]})))}function j6(t){const{components:e}=Ic();return X.createElement(e.Button,{...t})}function L6(t){return X.createElement("option",{...t})}function V6(t){const{components:e}=Ic();return X.createElement(e.Button,{...t})}function F6(t){return X.createElement("div",{...t})}function U6(t){return X.createElement("select",{...t})}function $6(t){const{week:e,...n}=t;return X.createElement("tr",{...n})}function B6(t){return X.createElement("th",{...t})}function z6(t){return X.createElement("thead",{"aria-hidden":!0},X.createElement("tr",{...t}))}function W6(t){const{week:e,...n}=t;return X.createElement("th",{...n})}function H6(t){return X.createElement("th",{...t})}function q6(t){return X.createElement("tbody",{...t})}function G6(t){const{components:e}=Ic();return X.createElement(e.Dropdown,{...t})}const K6=Object.freeze(Object.defineProperty({__proto__:null,Button:E6,CaptionLabel:b6,Chevron:T6,Day:k6,DayButton:I6,Dropdown:S6,DropdownNav:C6,Footer:R6,Month:N6,MonthCaption:P6,MonthGrid:A6,Months:D6,MonthsDropdown:O6,Nav:M6,NextMonthButton:j6,Option:L6,PreviousMonthButton:V6,Root:F6,Select:U6,Week:$6,WeekNumber:W6,WeekNumberHeader:H6,Weekday:B6,Weekdays:z6,Weeks:q6,YearsDropdown:G6},Symbol.toStringTag,{value:"Module"}));function Y6(t){return{...K6,...t}}function Q6(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function X6(){const t={};for(const e in Ie)t[Ie[e]]=`rdp-${Ie[e]}`;for(const e in ut)t[ut[e]]=`rdp-${ut[e]}`;for(const e in Mr)t[Mr[e]]=`rdp-${Mr[e]}`;return t}function gT(t,e,n){return(n??new Ji(e)).format(t,"LLLL y")}const J6=gT;function Z6(t,e,n){return(n??new Ji(e)).format(t,"d")}function eV(t,e=Zi){return e.format(t,"LLLL")}function tV(t){return t<10?`0${t.toLocaleString()}`:`${t.toLocaleString()}`}function nV(){return""}function rV(t,e,n){return(n??new Ji(e)).format(t,"cccccc")}function yT(t,e=Zi){return e.format(t,"yyyy")}const iV=yT,sV=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:gT,formatDay:Z6,formatMonthCaption:J6,formatMonthDropdown:eV,formatWeekNumber:tV,formatWeekNumberHeader:nV,formatWeekdayName:rV,formatYearCaption:iV,formatYearDropdown:yT},Symbol.toStringTag,{value:"Module"}));function oV(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...sV,...t}}function aV(t,e,n,r,i){const{startOfMonth:a,startOfYear:l,endOfYear:c,eachMonthOfInterval:h,getMonth:p}=i;return h({start:l(t),end:c(t)}).map(b=>{const k=r.formatMonthDropdown(b,i),I=p(b),P=e&&b<a(e)||n&&b>a(n)||!1;return{value:I,label:k,disabled:P}})}function lV(t,e={},n={}){let r={...e==null?void 0:e[Ie.Day]};return Object.entries(t).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n==null?void 0:n[i]}}),r}function uV(t,e,n){const r=t.today(),i=e?t.startOfISOWeek(r):t.startOfWeek(r),a=[];for(let l=0;l<7;l++){const c=t.addDays(i,l);a.push(c)}return a}function cV(t,e,n,r){if(!t||!e)return;const{startOfYear:i,endOfYear:a,addYears:l,getYear:c,isBefore:h,isSameYear:p}=r,y=i(t),_=a(e),b=[];let k=y;for(;h(k,_)||p(k,_);)b.push(k),k=l(k,1);return b.map(I=>{const P=n.formatYearDropdown(I,r);return{value:c(I),label:P,disabled:!1}})}function vT(t,e,n){return(n??new Ji(e)).format(t,"LLLL y")}const dV=vT;function hV(t,e,n,r){let i=(r??new Ji(n)).format(t,"PPPP");return e!=null&&e.today&&(i=`Today, ${i}`),i}function wT(t,e,n,r){let i=(r??new Ji(n)).format(t,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const fV=wT;function mV(){return""}function pV(t){return"Choose the Month"}function gV(t){return"Go to the Next Month"}function yV(t){return"Go to the Previous Month"}function vV(t,e,n){return(n??new Ji(e)).format(t,"cccc")}function wV(t,e){return`Week ${t}`}function _V(t){return"Week Number"}function xV(t){return"Choose the Year"}const EV=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:dV,labelDay:fV,labelDayButton:wT,labelGrid:vT,labelGridcell:hV,labelMonthDropdown:pV,labelNav:mV,labelNext:gV,labelPrevious:yV,labelWeekNumber:wV,labelWeekNumberHeader:_V,labelWeekday:vV,labelYearDropdown:xV},Symbol.toStringTag,{value:"Module"}));function bV(t,e,n,r){const i=t[0],a=t[t.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:p,differenceInCalendarDays:y,differenceInCalendarMonths:_,endOfBroadcastWeek:b,endOfISOWeek:k,endOfMonth:I,endOfWeek:P,isAfter:S,startOfBroadcastWeek:A,startOfISOWeek:R,startOfWeek:B}=r,q=h?A(i,r):l?R(i):B(i),oe=h?b(a,r):l?k(I(a)):P(I(a)),J=y(oe,q),j=_(a,i)+1,N=[];for(let D=0;D<=J;D++){const F=p(q,D);if(e&&S(F,e))break;N.push(F)}const L=(h?35:42)*j;if(c&&N.length<L){const D=L-N.length;for(let F=0;F<D;F++){const M=p(N[N.length-1],1);N.push(M)}}return N}function TV(t){const e=[];return t.reduce((n,r)=>{const i=[],a=r.weeks.reduce((l,c)=>[...l,...c.days],i);return[...n,...a]},e)}function kV(t,e,n,r){const{numberOfMonths:i=1}=n,a=[];for(let l=0;l<i;l++){const c=r.addMonths(t,l);if(e&&c>e)break;a.push(c)}return a}function r_(t,e){const{month:n,defaultMonth:r,today:i=e.today(),numberOfMonths:a=1,endMonth:l,startMonth:c}=t;let h=n||r||i;const{differenceInCalendarMonths:p,addMonths:y,startOfMonth:_}=e;if(l&&p(l,h)<0){const b=-1*(a-1);h=y(l,b)}return c&&p(h,c)<0&&(h=c),_(h)}class _T{constructor(e,n,r=Zi){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class IV{constructor(e,n){this.date=e,this.weeks=n}}class SV{constructor(e,n){this.days=n,this.weekNumber=e}}function CV(t,e,n,r){const{addDays:i,endOfBroadcastWeek:a,endOfISOWeek:l,endOfMonth:c,endOfWeek:h,getISOWeek:p,getWeek:y,startOfBroadcastWeek:_,startOfISOWeek:b,startOfWeek:k}=r,I=t.reduce((P,S)=>{const A=n.broadcastCalendar?_(S,r):n.ISOWeek?b(S):k(S),R=n.broadcastCalendar?a(S,r):n.ISOWeek?l(c(S)):h(c(S)),B=e.filter(j=>j>=A&&j<=R),q=n.broadcastCalendar?35:42;if(n.fixedWeeks&&B.length<q){const j=e.filter(N=>{const O=q-B.length;return N>R&&N<=i(R,O)});B.push(...j)}const oe=B.reduce((j,N)=>{const O=n.ISOWeek?p(N):y(N),L=j.find(F=>F.weekNumber===O),D=new _T(N,S,r);return L?L.days.push(D):j.push(new SV(O,[D])),j},[]),J=new IV(S,oe);return P.push(J),P},[]);return n.reverseMonths?I.reverse():I}function RV(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:i,startOfDay:a,startOfMonth:l,endOfMonth:c,addYears:h,endOfYear:p,newDate:y,today:_}=e,{fromYear:b,toYear:k,fromMonth:I,toMonth:P}=t;!n&&I&&(n=I),!n&&b&&(n=e.newDate(b,0,1)),!r&&P&&(r=P),!r&&k&&(r=y(k,11,31));const S=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=l(n):b?n=y(b,0,1):!n&&S&&(n=i(h(t.today??_(),-100))),r?r=c(r):k?r=y(k,11,31):!r&&S&&(r=p(t.today??_())),[n&&a(n),r&&a(r)]}function NV(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a=1}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=r,p=i?a:1,y=l(t);if(!e)return c(y,p);if(!(h(e,t)<a))return c(y,p)}function PV(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=r,p=i?a??1:1,y=l(t);if(!e)return c(y,-p);if(!(h(y,e)<=0))return c(y,-p)}function AV(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function If(t,e){const[n,r]=x.useState(t);return[e===void 0?n:e,r]}function DV(t,e){const[n,r]=RV(t,e),{startOfMonth:i,endOfMonth:a}=e,l=r_(t,e),[c,h]=If(l,t.month?i(t.month):void 0);x.useEffect(()=>{const J=r_(t,e);h(J)},[t.timeZone]);const p=kV(c,r,t,e),y=bV(p,t.endMonth?a(t.endMonth):void 0,t,e),_=CV(p,y,t,e),b=AV(_),k=TV(_),I=PV(c,n,t,e),P=NV(c,r,t,e),{disableNavigation:S,onMonthChange:A}=t,R=J=>b.some(j=>j.days.some(N=>N.isEqualTo(J))),B=J=>{if(S)return;let j=i(J);n&&j<i(n)&&(j=i(n)),r&&j>i(r)&&(j=i(r)),h(j),A==null||A(j)};return{months:_,weeks:b,days:k,navStart:n,navEnd:r,previousMonth:I,nextMonth:P,goToMonth:B,goToDay:J=>{R(J)||B(J.date)}}}function OV(t,e,n,r){let i,a=0,l=!1;for(;a<t.length&&!l;){const c=t[a],h=e(c);!h[ut.disabled]&&!h[ut.hidden]&&!h[ut.outside]&&(h[ut.focused]||r!=null&&r.isEqualTo(c)||n(c.date)||h[ut.today])&&(i=c,l=!0),a++}return i||(i=t.find(c=>{const h=e(c);return!h[ut.disabled]&&!h[ut.hidden]&&!h[ut.outside]})),i}function Fi(t,e,n=!1,r=Zi){let{from:i,to:a}=t;const{differenceInCalendarDays:l,isSameDay:c}=r;return i&&a?(l(a,i)<0&&([i,a]=[a,i]),l(e,i)>=(n?1:0)&&l(a,e)>=(n?1:0)):!n&&a?c(a,e):!n&&i?c(i,e):!1}function xT(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function L0(t){return!!(t&&typeof t=="object"&&"from"in t)}function ET(t){return!!(t&&typeof t=="object"&&"after"in t)}function bT(t){return!!(t&&typeof t=="object"&&"before"in t)}function TT(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function kT(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Ui(t,e,n=Zi){const r=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:a,isAfter:l}=n;return r.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return i(t,c);if(kT(c,n))return c.includes(t);if(L0(c))return Fi(c,t,!1,n);if(TT(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(t.getDay()):c.dayOfWeek===t.getDay();if(xT(c)){const h=a(c.before,t),p=a(c.after,t),y=h>0,_=p<0;return l(c.before,c.after)?_&&y:y||_}return ET(c)?a(t,c.after)>0:bT(c)?a(c.before,t)>0:typeof c=="function"?c(t):!1})}function MV(t,e,n,r,i,a,l){const{ISOWeek:c,broadcastCalendar:h}=a,{addDays:p,addMonths:y,addWeeks:_,addYears:b,endOfBroadcastWeek:k,endOfISOWeek:I,endOfWeek:P,max:S,min:A,startOfBroadcastWeek:R,startOfISOWeek:B,startOfWeek:q}=l;let J={day:p,week:_,month:y,year:b,startOfWeek:j=>h?R(j,l):c?B(j):q(j),endOfWeek:j=>h?k(j,l):c?I(j):P(j)}[t](n,e==="after"?1:-1);return e==="before"&&r?J=S([r,J]):e==="after"&&i&&(J=A([i,J])),J}function IT(t,e,n,r,i,a,l,c=0){if(c>365)return;const h=MV(t,e,n.date,r,i,a,l),p=!!(a.disabled&&Ui(h,a.disabled,l)),y=!!(a.hidden&&Ui(h,a.hidden,l)),_=h,b=new _T(h,_,l);return!p&&!y?b:IT(t,e,b,r,i,a,l,c+1)}function jV(t,e,n,r,i){const{autoFocus:a}=t,[l,c]=x.useState(),h=OV(e.days,n,r||(()=>!1),l),[p,y]=x.useState(a?h:void 0);return{isFocusTarget:P=>!!(h!=null&&h.isEqualTo(P)),setFocused:y,focused:p,blur:()=>{c(p),y(void 0)},moveFocus:(P,S)=>{if(!p)return;const A=IT(P,S,p,e.navStart,e.navEnd,t,i);A&&(e.goToDay(A),y(A))}}}function LV(t,e,n){const{disabled:r,hidden:i,modifiers:a,showOutsideDays:l,broadcastCalendar:c,today:h}=e,{isSameDay:p,isSameMonth:y,startOfMonth:_,isBefore:b,endOfMonth:k,isAfter:I}=n,P=e.startMonth&&_(e.startMonth),S=e.endMonth&&k(e.endMonth),A={[ut.focused]:[],[ut.outside]:[],[ut.disabled]:[],[ut.hidden]:[],[ut.today]:[]},R={};for(const B of t){const{date:q,displayMonth:oe}=B,J=!!(oe&&!y(q,oe)),j=!!(P&&b(q,P)),N=!!(S&&I(q,S)),O=!!(r&&Ui(q,r,n)),L=!!(i&&Ui(q,i,n))||j||N||!c&&!l&&J||c&&l===!1&&J,D=p(q,h??n.today());J&&A.outside.push(B),O&&A.disabled.push(B),L&&A.hidden.push(B),D&&A.today.push(B),a&&Object.keys(a).forEach(F=>{const M=a==null?void 0:a[F];M&&Ui(q,M,n)&&(R[F]?R[F].push(B):R[F]=[B])})}return B=>{const q={[ut.focused]:!1,[ut.disabled]:!1,[ut.hidden]:!1,[ut.outside]:!1,[ut.today]:!1},oe={};for(const J in A){const j=A[J];q[J]=j.some(N=>N===B)}for(const J in R)oe[J]=R[J].some(j=>j===B);return{...q,...oe}}}function VV(t,e){const{selected:n,required:r,onSelect:i}=t,[a,l]=If(n,i?n:void 0),c=i?n:a,{isSameDay:h}=e,p=k=>(c==null?void 0:c.some(I=>h(I,k)))??!1,{min:y,max:_}=t;return{selected:c,select:(k,I,P)=>{let S=[...c??[]];if(p(k)){if((c==null?void 0:c.length)===y||r&&(c==null?void 0:c.length)===1)return;S=c==null?void 0:c.filter(A=>!h(A,k))}else(c==null?void 0:c.length)===_?S=[k]:S=[...S,k];return i||l(S),i==null||i(S,k,I,P),S},isSelected:p}}function FV(t,e,n=0,r=0,i=!1,a=Zi){const{from:l,to:c}=e||{},{isSameDay:h,isAfter:p,isBefore:y}=a;let _;if(!l&&!c)_={from:t,to:n>0?void 0:t};else if(l&&!c)h(l,t)?i?_={from:l,to:void 0}:_=void 0:y(t,l)?_={from:t,to:l}:_={from:l,to:t};else if(l&&c)if(h(l,t)&&h(c,t))i?_={from:l,to:c}:_=void 0;else if(h(l,t))_={from:l,to:n>0?void 0:t};else if(h(c,t))_={from:t,to:n>0?void 0:t};else if(y(t,l))_={from:t,to:c};else if(p(t,l))_={from:l,to:t};else if(p(t,c))_={from:l,to:t};else throw new Error("Invalid range");if(_!=null&&_.from&&(_!=null&&_.to)){const b=a.differenceInCalendarDays(_.to,_.from);r>0&&b>r?_={from:t,to:void 0}:n>1&&b<n&&(_={from:t,to:void 0})}return _}function UV(t,e,n=Zi){const r=Array.isArray(e)?e:[e];let i=t.from;const a=n.differenceInCalendarDays(t.to,t.from),l=Math.min(a,6);for(let c=0;c<=l;c++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function i_(t,e,n=Zi){return Fi(t,e.from,!1,n)||Fi(t,e.to,!1,n)||Fi(e,t.from,!1,n)||Fi(e,t.to,!1,n)}function $V(t,e,n=Zi){const r=Array.isArray(e)?e:[e];if(r.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Fi(t,c,!1,n):kT(c,n)?c.some(h=>Fi(t,h,!1,n)):L0(c)?c.from&&c.to?i_(t,{from:c.from,to:c.to},n):!1:TT(c)?UV(t,c.dayOfWeek,n):xT(c)?n.isAfter(c.before,c.after)?i_(t,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):Ui(t.from,c,n)||Ui(t.to,c,n):ET(c)||bT(c)?Ui(t.from,c,n)||Ui(t.to,c,n):!1))return!0;const l=r.filter(c=>typeof c=="function");if(l.length){let c=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let p=0;p<=h;p++){if(l.some(y=>y(c)))return!0;c=n.addDays(c,1)}}return!1}function BV(t,e){const{disabled:n,excludeDisabled:r,selected:i,required:a,onSelect:l}=t,[c,h]=If(i,l?i:void 0),p=l?i:c;return{selected:p,select:(b,k,I)=>{const{min:P,max:S}=t,A=b?FV(b,p,P,S,a,e):void 0;return r&&n&&(A!=null&&A.from)&&A.to&&$V({from:A.from,to:A.to},n,e)&&(A.from=b,A.to=void 0),l||h(A),l==null||l(A,b,k,I),A},isSelected:b=>p&&Fi(p,b,!1,e)}}function zV(t,e){const{selected:n,required:r,onSelect:i}=t,[a,l]=If(n,i?n:void 0),c=i?n:a,{isSameDay:h}=e;return{selected:c,select:(_,b,k)=>{let I=_;return!r&&c&&c&&h(_,c)&&(I=void 0),i||l(I),i==null||i(I,_,b,k),I},isSelected:_=>c?h(c,_):!1}}function WV(t,e){const n=zV(t,e),r=VV(t,e),i=BV(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function HV(t){const{components:e,formatters:n,labels:r,dateLib:i,locale:a,classNames:l}=x.useMemo(()=>{const Me={...j0,...t.locale};return{dateLib:new Ji({locale:Me,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Y6(t.components),formatters:oV(t.formatters),labels:{...EV,...t.labels},locale:Me,classNames:{...X6(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:c,mode:h,onDayBlur:p,onDayClick:y,onDayFocus:_,onDayKeyDown:b,onDayMouseEnter:k,onDayMouseLeave:I,onNextClick:P,onPrevClick:S,showWeekNumber:A,styles:R}=t,{formatCaption:B,formatDay:q,formatMonthDropdown:oe,formatWeekNumber:J,formatWeekNumberHeader:j,formatWeekdayName:N,formatYearDropdown:O}=n,L=DV(t,i),{days:D,months:F,navStart:M,navEnd:pe,previousMonth:De,nextMonth:Fe,goToMonth:we}=L,ie=LV(D,t,i),{isSelected:le,select:te,selected:U}=WV(t,i)??{},{blur:Q,focused:ce,isFocusTarget:ke,moveFocus:Ee,setFocused:_e}=jV(t,L,ie,le??(()=>!1),i),{labelDayButton:je,labelGridcell:Ne,labelGrid:Oe,labelMonthDropdown:At,labelNav:ur,labelWeekday:es,labelWeekNumber:Br,labelWeekNumberHeader:fi,labelYearDropdown:ts}=r,oo=x.useMemo(()=>uV(i,t.ISOWeek),[i,t.ISOWeek]),ns=h!==void 0||y!==void 0,ca=x.useCallback(()=>{De&&(we(De),S==null||S(De))},[De,we,S]),rs=x.useCallback(()=>{Fe&&(we(Fe),P==null||P(Fe))},[we,Fe,P]),cr=x.useCallback((Me,st)=>Qe=>{Qe.preventDefault(),Qe.stopPropagation(),_e(Me),te==null||te(Me.date,st,Qe),y==null||y(Me.date,st,Qe)},[te,y,_e]),dr=x.useCallback((Me,st)=>Qe=>{_e(Me),_==null||_(Me.date,st,Qe)},[_,_e]),ao=x.useCallback((Me,st)=>Qe=>{Q(),p==null||p(Me.date,st,Qe)},[Q,p]),is=x.useCallback((Me,st)=>Qe=>{const In={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[Qe.shiftKey?"year":"month","before"],PageDown:[Qe.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(In[Qe.key]){Qe.preventDefault(),Qe.stopPropagation();const[Xt,Wr]=In[Qe.key];Ee(Xt,Wr)}b==null||b(Me.date,st,Qe)},[Ee,b,t.dir]),ss=x.useCallback((Me,st)=>Qe=>{k==null||k(Me.date,st,Qe)},[k]),lo=x.useCallback((Me,st)=>Qe=>{I==null||I(Me.date,st,Qe)},[I]),It=x.useCallback(Me=>st=>{const Qe=Number(st.target.value),In=i.setMonth(i.startOfMonth(Me),Qe);we(In)},[i,we]),St=x.useCallback(Me=>st=>{const Qe=Number(st.target.value),In=i.setYear(i.startOfMonth(Me),Qe);we(In)},[i,we]),{className:hr,style:uo}=x.useMemo(()=>({className:[l[Ie.Root],t.className].filter(Boolean).join(" "),style:{...R==null?void 0:R[Ie.Root],...t.style}}),[l,t.className,t.style,R]),zr=Q6(t),mi={dayPickerProps:t,selected:U,select:te,isSelected:le,months:F,nextMonth:Fe,previousMonth:De,goToMonth:we,getModifiers:ie,components:e,classNames:l,styles:R,labels:r,formatters:n};return X.createElement(pT.Provider,{value:mi},X.createElement(e.Root,{className:hr,style:uo,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...zr},X.createElement(e.Months,{className:l[Ie.Months],style:R==null?void 0:R[Ie.Months]},!t.hideNavigation&&X.createElement(e.Nav,{className:l[Ie.Nav],style:R==null?void 0:R[Ie.Nav],"aria-label":ur(),onPreviousClick:ca,onNextClick:rs,previousMonth:De,nextMonth:Fe}),F.map((Me,st)=>{const Qe=aV(Me.date,M,pe,n,i),In=cV(M,pe,n,i);return X.createElement(e.Month,{className:l[Ie.Month],style:R==null?void 0:R[Ie.Month],key:st,displayIndex:st,calendarMonth:Me},X.createElement(e.MonthCaption,{className:l[Ie.MonthCaption],style:R==null?void 0:R[Ie.MonthCaption],calendarMonth:Me,displayIndex:st},c!=null&&c.startsWith("dropdown")?X.createElement(e.DropdownNav,{className:l[Ie.Dropdowns],style:R==null?void 0:R[Ie.Dropdowns]},c==="dropdown"||c==="dropdown-months"?X.createElement(e.MonthsDropdown,{className:l[Ie.MonthsDropdown],"aria-label":At(),classNames:l,components:e,disabled:!!t.disableNavigation,onChange:It(Me.date),options:Qe,style:R==null?void 0:R[Ie.Dropdown],value:i.getMonth(Me.date)}):X.createElement("span",{role:"status","aria-live":"polite"},oe(Me.date,i)),c==="dropdown"||c==="dropdown-years"?X.createElement(e.YearsDropdown,{className:l[Ie.YearsDropdown],"aria-label":ts(i.options),classNames:l,components:e,disabled:!!t.disableNavigation,onChange:St(Me.date),options:In,style:R==null?void 0:R[Ie.Dropdown],value:i.getYear(Me.date)}):X.createElement("span",{role:"status","aria-live":"polite"},O(Me.date,i))):X.createElement(e.CaptionLabel,{className:l[Ie.CaptionLabel],role:"status","aria-live":"polite"},B(Me.date,i.options,i))),X.createElement(e.MonthGrid,{role:"grid","aria-multiselectable":h==="multiple"||h==="range","aria-label":Oe(Me.date,i.options,i)||void 0,className:l[Ie.MonthGrid],style:R==null?void 0:R[Ie.MonthGrid]},!t.hideWeekdays&&X.createElement(e.Weekdays,{className:l[Ie.Weekdays],style:R==null?void 0:R[Ie.Weekdays]},A&&X.createElement(e.WeekNumberHeader,{"aria-label":fi(i.options),className:l[Ie.WeekNumberHeader],style:R==null?void 0:R[Ie.WeekNumberHeader],scope:"col"},j()),oo.map((Xt,Wr)=>X.createElement(e.Weekday,{"aria-label":es(Xt,i.options,i),className:l[Ie.Weekday],key:Wr,style:R==null?void 0:R[Ie.Weekday],scope:"col"},N(Xt,i.options,i)))),X.createElement(e.Weeks,{className:l[Ie.Weeks],style:R==null?void 0:R[Ie.Weeks]},Me.weeks.map((Xt,Wr)=>X.createElement(e.Week,{className:l[Ie.Week],key:Xt.weekNumber,style:R==null?void 0:R[Ie.Week],week:Xt},A&&X.createElement(e.WeekNumber,{week:Xt,style:R==null?void 0:R[Ie.WeekNumber],"aria-label":Br(Xt.weekNumber,{locale:a}),className:l[Ie.WeekNumber],scope:"row",role:"rowheader"},J(Xt.weekNumber)),Xt.days.map(pt=>{const{date:Jt}=pt,$e=ie(pt);if($e[ut.focused]=!$e.hidden&&!!(ce!=null&&ce.isEqualTo(pt)),$e[Mr.selected]=!$e.disabled&&((le==null?void 0:le(Jt))||$e.selected),L0(U)){const{from:Cn,to:pi}=U;$e[Mr.range_start]=!!(Cn&&pi&&i.isSameDay(Jt,Cn)),$e[Mr.range_end]=!!(Cn&&pi&&i.isSameDay(Jt,pi)),$e[Mr.range_middle]=Fi(U,Jt,!0,i)}const Sn=lV($e,R,t.modifiersStyles),Yn=x6($e,l,t.modifiersClassNames),os=!ns&&!$e.hidden?Ne(Jt,$e,i.options,i):void 0;return X.createElement(e.Day,{key:`${i.format(Jt,"yyyy-MM-dd")}_${i.format(pt.displayMonth,"yyyy-MM")}`,day:pt,modifiers:$e,className:Yn.join(" "),style:Sn,role:"gridcell","aria-selected":$e.selected||void 0,"aria-label":os,"data-day":i.format(Jt,"yyyy-MM-dd"),"data-month":pt.outside?i.format(Jt,"yyyy-MM"):void 0,"data-selected":$e.selected||void 0,"data-disabled":$e.disabled||void 0,"data-hidden":$e.hidden||void 0,"data-outside":pt.outside||void 0,"data-focused":$e.focused||void 0,"data-today":$e.today||void 0},!$e.hidden&&ns?X.createElement(e.DayButton,{className:l[Ie.DayButton],style:R==null?void 0:R[Ie.DayButton],type:"button",day:pt,modifiers:$e,disabled:$e.disabled||void 0,tabIndex:ke(pt)?0:-1,"aria-label":je(Jt,$e,i.options,i),onClick:cr(pt,$e),onBlur:ao(pt,$e),onFocus:dr(pt,$e),onKeyDown:is(pt,$e),onMouseEnter:ss(pt,$e),onMouseLeave:lo(pt,$e)},q(Jt,i.options,i)):!$e.hidden&&q(pt.date,i.options,i))}))))))})),t.footer&&X.createElement(e.Footer,{className:l[Ie.Footer],style:R==null?void 0:R[Ie.Footer],role:"status","aria-live":"polite"},t.footer)))}function qV({selectedDate:t,onSelect:e,bookedDates:n=[]}){const[r,i]=x.useState(new Date),a=[{dayOfWeek:[0]},{before:new Date}],l={booked:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444"},selected:{backgroundColor:"rgb(147, 51, 234)",color:"white"}},c={booked:n};return m.jsxs("div",{className:"p-4 bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10",children:[m.jsx("style",{children:`
          .rdp {
            --rdp-cell-size: 40px;
            --rdp-accent-color: rgb(147, 51, 234);
            --rdp-background-color: rgb(147, 51, 234, 0.3);
            margin: 0;
          }
          .rdp-day_selected:not([disabled]) { 
            background-color: rgb(147, 51, 234);
            color: white;
          }
          .rdp-day_selected:hover:not([disabled]) { 
            background-color: rgb(147, 51, 234, 0.8);
          }
          .rdp-day:hover:not([disabled]) { 
            background-color: rgba(255, 255, 255, 0.1);
          }
          .rdp-head_cell {
            color: rgb(156 163 175);
            font-weight: 500;
            font-size: 0.875rem;
          }
          .rdp-day {
            color: white;
            font-size: 0.875rem;
          }
          .rdp-day_disabled {
            color: rgb(75 85 99);
          }
          .rdp-nav_button {
            color: white;
          }
          .rdp-nav_button:hover {
            background-color: rgba(255, 255, 255, 0.1);
          }
          .rdp-caption {
            color: white;
            font-size: 1rem;
            font-weight: 500;
          }
        `}),m.jsx(HV,{mode:"single",selected:t,onSelect:e,month:r,onMonthChange:i,disabled:a,modifiers:c,modifiersStyles:l,locale:al,showOutsideDays:!0,className:"rdp-custom"})]})}const GV={1:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],2:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],3:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],4:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],5:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],6:["12:00","13:00","14:00","15:00","16:00","17:00","18:00"],0:[]};function KV({selectedDate:t,bookedSlots:e,onSelectTime:n,selectedTime:r,selectedEndTime:i}){const a=t.getDay().toString(),l=GV[a]||[],c=new Set(e.map(_=>_.startTime)),h=_=>{const[b,k]=_.split(":");return`${(parseInt(b)+1).toString().padStart(2,"0")}:${k}`},p=_=>{const[b,k]=_.split(":");return`${(parseInt(b)-1).toString().padStart(2,"0")}:${k}`},y=_=>{if(c.has(_))return;if(!r){n(_);return}if(_===r){n("");return}if(r&&i){n(_);return}const b=h(r),k=p(r);if(_===b||_===k){const[I,P]=_<r?[_,r]:[r,_];n(I,P)}else n(_)};return m.jsxs("div",{className:"p-4 bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10",children:[m.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Horaires disponibles pour le"," ",Hi(t,"EEEE d MMMM",{locale:al})]}),m.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:l.map(_=>{const b=c.has(_),k=_===r||_===i,I=r&&i&&_>=r&&_<=i;return m.jsx("button",{onClick:()=>y(_),disabled:b,className:`
                px-4 py-2 rounded-lg text-sm font-medium transition-colors
                ${b?"bg-red-500/10 text-red-500 cursor-not-allowed":k||I?"bg-primary-600 text-white":"bg-white/5 text-white hover:bg-white/10"}
              `,children:_},_)})})]})}function YV({selectedDate:t,selectedTime:e,onSubmit:n}){const[r,i]=x.useState("music"),[a,l]=x.useState([]),[c,h]=x.useState(""),[p,y]=x.useState(!1),[_,b]=x.useState(null),k={music:["Recording","Mixing","Mastering"],photo:["Shooting","Video","Lights"]},I=S=>{l(A=>A.includes(S)?A.filter(R=>R!==S):[...A,S])},P=async S=>{if(S.preventDefault(),a.length===0){b("Veuillez sélectionner au moins une option");return}y(!0),b(null);try{await n({date:t,startTime:e,endTime:e,type:r==="music"?"recording":"photo",notes:`Options sélectionnées: ${a.join(", ")}`,status:"pending",userId:"",userName:""})}catch(A){console.error("Error submitting booking:",A),A instanceof Error?b(A.message):b("Une erreur est survenue lors de la réservation."),y(!1)}};return m.jsxs("form",{onSubmit:P,className:"space-y-4",children:[_&&m.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4 flex items-start gap-3",children:[m.jsx(Z4,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),m.jsx("p",{className:"text-sm text-red-500",children:_})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Type de session"}),m.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:["music","photo"].map(S=>m.jsx("button",{type:"button",onClick:()=>{i(S),l([])},className:`
                px-4 py-2 rounded-lg text-sm font-medium transition-colors
                ${r===S?"bg-primary-600 text-white":"bg-white/5 text-white hover:bg-white/10"}
              `,children:S==="music"?"Music":"Photographie"},S))}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Options"}),m.jsx("div",{className:"space-y-2",children:k[r].map(S=>m.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:a.includes(S),onChange:()=>I(S),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),m.jsx("span",{className:"text-white",children:S})]},S))})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes pour la session"}),m.jsx("textarea",{id:"notes",value:c,onChange:S=>h(S.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500",rows:4,placeholder:"Décrivez vos besoins pour la session..."})]}),m.jsx(Je,{type:"submit",disabled:p||a.length===0,className:"w-full",children:p?"Réservation en cours...":"Confirmer la réservation"})]})}const eh="bookings";class En extends Error{constructor(e,n){super(e),this.code=n,this.name="BookingError"}}const Ko={async getBookingsForDate(t){try{const e=ti(rt,"bookings"),n=new Date(t);n.setHours(0,0,0,0);const r=new Date(t);r.setHours(23,59,59,999);const i=Mu(e,ju("date",">=",n),ju("date","<=",r));return(await Fo(i)).docs.map(l=>{var h,p;const c=l.data();return{id:l.id,...c,createdAt:((h=c.createdAt)==null?void 0:h.toDate())||new Date,date:((p=c.date)==null?void 0:p.toDate())||new Date}})}catch(e){throw console.error("Error fetching bookings:",e),new En("Impossible de récupérer les réservations.","FETCH_ERROR")}},async createBooking(t){try{if((await this.getBookingsForDate(t.date)).some(a=>a.startTime===t.startTime))throw new En("Ce créneau est déjà réservé.","SLOT_ALREADY_BOOKED");if(!Oi.currentUser)throw new En("Vous devez être connecté pour effectuer une réservation.","AUTH_REQUIRED");const r=await dh(ti(rt,"bookings"),{...t,status:"pending",date:new Date(t.date),createdAt:GN(),userId:Oi.currentUser.uid,userName:Oi.currentUser.email||""}),i="http://localhost:4000";try{await fetch(`${i}/api/sendBookingConfirmation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookingId:r.id,...t})})}catch(a){console.warn("Note: Booking confirmation email could not be sent:",a)}return r.id}catch(e){throw console.error("Error creating booking:",e),e instanceof En?e:new En("Impossible de créer la réservation.","CREATE_ERROR")}},async getBookingById(t){var e,n;try{const r=Nt(rt,eh,t),i=await Mi(r);if(!i.exists())return null;const a=i.data();return{id:i.id,...a,createdAt:((e=a.createdAt)==null?void 0:e.toDate())||new Date,date:((n=a.date)==null?void 0:n.toDate())||new Date}}catch(r){throw console.error("Error fetching booking:",r),new En("Impossible de récupérer la réservation. Veuillez réessayer.","FETCH_ERROR")}},async updateBookingStatus(t,e){try{const n=Nt(rt,eh,t);await Ai(n,{status:e})}catch(n){throw console.error("Error updating booking status:",n),new En("Impossible de mettre à jour le statut de la réservation.","UPDATE_ERROR")}},async cancelBooking(t){try{await this.updateBookingStatus(t,"cancelled")}catch(e){throw console.error("Error cancelling booking:",e),new En("Impossible d'annuler la réservation.","CANCEL_ERROR")}},async getBookingsForUser(t){try{const e=ti(rt,eh),n=Mu(e,ju("userId","==",t));return(await Fo(n)).docs.map(i=>{var l,c;const a=i.data();return{id:i.id,...a,createdAt:((l=a.createdAt)==null?void 0:l.toDate())||new Date,date:((c=a.date)==null?void 0:c.toDate())||new Date}})}catch(e){throw console.error("Error fetching user bookings:",e),new En("Impossible de récupérer vos réservations.","FETCH_ERROR")}},async updateBooking(t,e){try{const n=Oi.currentUser;if(!n)throw new En("Vous devez être connecté pour modifier une réservation.","AUTH_REQUIRED");const r=Nt(rt,eh,t),i=await Mi(r);if(!i.exists())throw new En("Cette réservation n'existe pas.","NOT_FOUND");const a=i.data();if(a.userId!==n.uid)throw new En("Vous n'êtes pas autorisé à modifier cette réservation.","PERMISSION_DENIED");if(a.status==="cancelled")throw new En("Impossible de modifier une réservation annulée.","INVALID_STATUS");await Ai(r,{...e,updatedAt:vt.now()})}catch(n){throw console.error("Error updating booking:",n),n instanceof En?n:new En("Impossible de modifier la réservation. Veuillez réessayer.","UPDATE_ERROR")}}};function QV(){const{user:t}=io(),e=ia(),[n,r]=x.useState(),[i,a]=x.useState(),[l,c]=x.useState(),[h,p]=x.useState([]),[y,_]=x.useState(!0);x.useEffect(()=>{n&&(async()=>{try{const P=Hi(n,"yyyy-MM-dd"),S=await Ko.getBookingsForDate(P);p(S)}catch(P){console.error("Error fetching bookings:",P)}finally{_(!1)}})()},[n]);const b=(I,P)=>{a(I),c(P)},k=async I=>{if(!(!t||!i))try{const P=await Ko.createBooking({...I,userId:t.uid,userName:t.email||"",startTime:i,endTime:l||i});e(`/booking/confirmation/${P}`)}catch(P){console.error("Error creating booking:",P)}};return m.jsxs("div",{className:"min-h-screen bg-dark-900 text-white",children:[m.jsx("div",{className:"relative py-32 bg-gradient-to-b from-purple-900/20 via-dark-900/50 to-dark-900",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"text-center space-y-6",children:[m.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-purple-400 to-purple-600 bg-clip-text text-transparent",children:"Book Your Session"}),m.jsx("p",{className:"text-2xl text-gray-300 max-w-2xl mx-auto",children:"Choose your perfect time slot and start creating with us"})]})})}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-16 mb-20",children:m.jsx("div",{className:"bg-dark-800 rounded-2xl shadow-2xl p-8 border border-gray-700",children:m.jsxs("div",{className:"grid md:grid-cols-[1fr,1fr] gap-8",children:[m.jsxs("div",{className:"space-y-8",children:[m.jsx(qV,{selectedDate:n,onSelect:r,bookedDates:h.map(I=>new Date(I.date))}),n&&m.jsx(KV,{selectedDate:n,bookedSlots:h,onSelectTime:b,selectedTime:i,selectedEndTime:l})]}),m.jsx("div",{children:n&&i?m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails de la réservation"}),m.jsxs("div",{className:"mb-6 space-y-2",children:[m.jsxs("p",{className:"text-gray-300",children:["Date:"," ",m.jsx("span",{className:"text-white",children:Hi(n,"EEEE d MMMM yyyy")})]}),m.jsxs("p",{className:"text-gray-300",children:["Heure: ",m.jsx("span",{className:"text-white",children:i})," -"," ",m.jsx("span",{className:"text-white",children:l})]})]}),m.jsx(YV,{selectedDate:Hi(n,"yyyy-MM-dd"),selectedTime:i,selectedEndTime:l,onSubmit:k})]}):m.jsx("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-6 text-center",children:m.jsx("p",{className:"text-gray-400",children:"Sélectionnez une date et un horaire pour continuer"})})})]})})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-20",children:[m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-700",children:[m.jsx("div",{className:"text-purple-500 text-4xl mb-4",children:"1h"}),m.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Quick Session"}),m.jsx("p",{className:"text-gray-400 mb-4",children:"Perfect for recording singles or quick projects. Includes basic mixing."}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"• Recording time: 1 hour"}),m.jsx("li",{children:"• Basic mix included"}),m.jsx("li",{children:"• 1 revision included"}),m.jsx("li",{children:"• Ideal for singles"})]})]}),m.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-700",children:[m.jsx("div",{className:"text-purple-500 text-4xl mb-4",children:"2h"}),m.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Standard Session"}),m.jsx("p",{className:"text-gray-400 mb-4",children:"Our most popular option. Perfect for multiple tracks or complex recordings."}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"• Recording time: 2 hours"}),m.jsx("li",{children:"• Professional mixing included"}),m.jsx("li",{children:"• 2 revisions included"}),m.jsx("li",{children:"• Ideal for EPs or multiple songs"})]})]}),m.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-700",children:[m.jsx("div",{className:"text-purple-500 text-4xl mb-4",children:"Custom"}),m.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Project Session"}),m.jsx("p",{className:"text-gray-400 mb-4",children:"For larger projects requiring extended studio time."}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"• Flexible recording time"}),m.jsx("li",{children:"• Full mixing & mastering"}),m.jsx("li",{children:"• Unlimited revisions"}),m.jsx("li",{children:"• Ideal for albums or large projects"})]})]})]}),m.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-gray-700",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Professional Equipment"}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-purple-500 font-semibold mb-3",children:"Microphones"}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"• Neumann TLM 103"}),m.jsx("li",{children:"• Shure SM7B"}),m.jsx("li",{children:"• AKG C414"}),m.jsx("li",{children:"• And more..."})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-purple-500 font-semibold mb-3",children:"Processing"}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"• Universal Audio Apollo"}),m.jsx("li",{children:"• SSL Preamps"}),m.jsx("li",{children:"• Pro Tools HD"}),m.jsx("li",{children:"• Waves Plugins"})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-purple-500 font-semibold mb-3",children:"Monitoring"}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"• Focal Shape 65"}),m.jsx("li",{children:"• Yamaha HS8"}),m.jsx("li",{children:"• Beyerdynamic DT 990 Pro"}),m.jsx("li",{children:"• Treated acoustic room"})]})]})]})]}),m.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-gray-700",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Booking Policy"}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-purple-500 font-semibold",children:"Before Your Session"}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"• Book at least 24 hours in advance"}),m.jsx("li",{children:"• Prepare your material beforehand"}),m.jsx("li",{children:"• Bring your audio files on USB drive"}),m.jsx("li",{children:"• Arrive 10 minutes before your session"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-purple-500 font-semibold",children:"Cancellation Policy"}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"• Free cancellation up to 48h before"}),m.jsx("li",{children:"• 50% fee within 48h of session"}),m.jsx("li",{children:"• 100% fee for no-shows"}),m.jsx("li",{children:"• One free reschedule allowed"})]})]})]})]})]})]})}function XV(){const{bookingId:t}=pI(),e=ia(),[n,r]=x.useState(null),[i,a]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(t)try{const c=await Ko.getBookingById(t);r(c)}catch(c){console.error("Error fetching booking:",c),e("/booking")}finally{a(!1)}})()},[t,e]),i?m.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):n?m.jsx("div",{className:"min-h-screen pt-20 px-4",children:m.jsx("div",{className:"max-w-2xl mx-auto",children:m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx(Y4,{className:"w-16 h-16 text-green-500"})}),m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Réservation confirmée !"}),m.jsx("p",{className:"text-gray-400",children:"Un email de confirmation a été envoyé à votre adresse"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white/5 rounded-lg p-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails de la session"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-400",children:"Date"}),m.jsx("span",{className:"font-medium",children:Hi(new Date(n.date),"EEEE d MMMM yyyy",{locale:al})})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-400",children:"Heure"}),m.jsx("span",{className:"font-medium",children:n.startTime})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-400",children:"Type de session"}),m.jsx("span",{className:"font-medium capitalize",children:n.type})]}),n.notes&&m.jsxs("div",{className:"pt-3 border-t border-white/10",children:[m.jsx("span",{className:"block text-gray-400 mb-2",children:"Notes"}),m.jsx("p",{className:"text-sm",children:n.notes})]})]})]}),m.jsxs("div",{className:"bg-primary-900/30 rounded-lg p-6",children:[m.jsx("h3",{className:"font-medium mb-2",children:"Rappel important"}),m.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[m.jsx("li",{children:"• Arrivez 10 minutes avant votre session"}),m.jsx("li",{children:"• Apportez votre matériel si nécessaire"}),m.jsx("li",{children:"• En cas d'empêchement, prévenez-nous 24h à l'avance"})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Je,{onClick:()=>e("/booking"),variant:"outline",className:"flex-1",children:"Retour aux réservations"}),m.jsx(Je,{onClick:()=>window.print(),className:"flex-1 bg-primary-600 hover:bg-primary-700",children:"Imprimer la confirmation"})]})]})]})})}):m.jsx("div",{className:"min-h-screen pt-20 px-4",children:m.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-red-500",children:"Réservation introuvable"}),m.jsx(Je,{onClick:()=>e("/booking"),className:"mt-4 bg-primary-600 hover:bg-primary-700",children:"Retour aux réservations"})]})})}function JV(){const[t,e]=x.useState(!0),[n,r]=x.useState(""),[i,a]=x.useState(""),[l,c]=x.useState(""),[h,p]=x.useState(!1),{signIn:y,signUp:_,signInWithGoogle:b}=io(),k=ia(),I=async A=>{A.preventDefault(),p(!0);try{t?await y(n,i):await _(n,i,l),k("/profile")}catch(R){console.error("Auth error:",R),Ve.error(R.message||"Une erreur est survenue lors de l'authentification")}finally{p(!1)}},P=async()=>{try{await b(),k("/profile")}catch(A){console.error("Error signing in with Google:",A),Ve.error(A.message||"Une erreur est survenue lors de la connexion avec Google")}},S=async()=>{try{await _("admin@43art.fr","admin123","Admin"),Ve.success("Compte administrateur créé avec succès"),k("/admin")}catch(A){console.error("Admin creation error:",A),Ve.error(A.message||"Une erreur est survenue lors de la création du compte admin")}};return m.jsx("div",{className:"min-h-screen pt-20 px-4 flex items-center justify-center",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:t?"Connexion":"Inscription"}),m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[!t&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-400 mb-1",children:"Nom d'affichage"}),m.jsx("input",{type:"text",id:"displayName",value:l,onChange:A=>c(A.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!t})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),m.jsx("input",{type:"email",id:"email",value:n,onChange:A=>r(A.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-400 mb-1",children:"Mot de passe"}),m.jsx("input",{type:"password",id:"password",value:i,onChange:A=>a(A.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,minLength:6})]}),m.jsx(Je,{type:"submit",className:"w-full",disabled:h,children:h?"Chargement...":t?"Se connecter":"S'inscrire"})]}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-white/10"})}),m.jsx("div",{className:"relative flex justify-center text-sm",children:m.jsx("span",{className:"px-2 bg-dark-100/50 text-gray-400",children:"Ou continuer avec"})})]}),m.jsxs(Je,{type:"button",variant:"outline",className:"w-full mt-4",onClick:P,children:[m.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),"Google"]})]}),m.jsxs("p",{className:"mt-4 text-center text-sm text-gray-400",children:[t?"Pas encore de compte ? ":"Déjà un compte ? ",m.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-primary-500 hover:text-primary-400 font-medium",children:t?"S'inscrire":"Se connecter"})]}),m.jsx("div",{className:"mt-8 pt-4 border-t border-white/10",children:m.jsx(Je,{onClick:S,variant:"outline",className:"w-full",children:"Créer un compte administrateur"})})]})})})}function ZV(){const{user:t,userProfile:e,updateUserProfile:n}=io(),[r,i]=x.useState(!1),[a,l]=x.useState(""),[c,h]=x.useState([]),[p,y]=x.useState([]),[_,b]=x.useState(!0),[k,I]=x.useState(null),[P,S]=x.useState(!1),[A,R]=x.useState(""),[B,q]=x.useState(null),[oe,J]=x.useState(!1);x.useEffect(()=>{e&&l(e.displayName||"")},[e]),x.useEffect(()=>{const D=async()=>{if(t)try{const pe=await Ko.getBookingsForUser(t.uid);h(pe)}catch(pe){console.error("Error fetching bookings:",pe),Ve.error("Erreur lors de la récupération des réservations")}},F=async()=>{if(e!=null&&e.favoriteBeats)try{const pe=await Promise.all(e.favoriteBeats.map(De=>Gn.getBeatById(De)));y(pe.filter(De=>De!==null))}catch(pe){console.error("Error fetching favorite beats:",pe),Ve.error("Erreur lors de la récupération des beats favoris")}};(async()=>{b(!0),await Promise.all([D(),F()]),b(!1)})()},[t,e]);const j=async D=>{D.preventDefault();try{await n({displayName:a}),i(!1),Ve.success("Profil mis à jour avec succès")}catch(F){console.error("Error updating profile:",F),Ve.error("Erreur lors de la mise à jour du profil")}},N=async D=>{q(D),J(!0)},O=async()=>{if(B!=null&&B.id)try{await Ko.cancelBooking(B.id),h(c.map(D=>D.id===B.id?{...D,status:"cancelled"}:D)),Ve.success("Réservation annulée avec succès")}catch(D){console.error("Error cancelling booking:",D),Ve.error("Erreur lors de l'annulation de la réservation")}finally{J(!1),q(null)}},L=async D=>{try{await n({photoURL:URL.createObjectURL(D)}),Ve.success("Photo de profil mise à jour avec succès")}catch(F){console.error("Error updating profile photo:",F),Ve.error("Erreur lors de la mise à jour de la photo de profil")}};return!t||!e?m.jsx("div",{className:"min-h-screen pt-20 px-4",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-400",children:"Vous devez être connecté pour accéder à cette page"})})})}):_?m.jsx("div",{className:"min-h-screen pt-20 px-4",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-400",children:"Chargement..."})})})}):m.jsxs("div",{className:"min-h-screen pt-20 px-4",children:[m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-8 mb-8",children:[m.jsxs("div",{className:"flex items-start justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:"relative group",children:m.jsxs("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-white/5",children:[e!=null&&e.photoURL?m.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),m.jsx("label",{htmlFor:"photo-upload",className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:m.jsx("span",{className:"text-white text-sm",children:"Changer"})}),m.jsx("input",{type:"file",id:"photo-upload",className:"hidden",accept:"image/*",onChange:D=>{var M;const F=(M=D.target.files)==null?void 0:M[0];F&&L(F).catch(pe=>{console.error("Error updating profile photo:",pe),Ve.error("Erreur lors de la mise à jour de la photo")})}})]})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Profil"}),!r&&(e==null?void 0:e.displayName)&&m.jsx("p",{className:"text-gray-400",children:e.displayName})]})]}),!r&&m.jsx(Je,{onClick:()=>i(!0),variant:"outline",children:"Modifier"})]}),r?m.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-400 mb-1",children:"Nom d'affichage"}),m.jsx("input",{type:"text",id:"displayName",value:a,onChange:D=>l(D.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Je,{type:"submit",children:"Enregistrer"}),m.jsx(Je,{type:"button",variant:"outline",onClick:()=>{i(!1),l(e.displayName||"")},children:"Annuler"})]})]}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Nom d'affichage"}),m.jsx("p",{children:e.displayName})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),m.jsx("p",{children:t.email})]})]})]}),m.jsxs(Mo.Group,{children:[m.jsxs(Mo.List,{className:"flex space-x-1 rounded-xl bg-dark-100/50 backdrop-blur-lg p-1 mb-8",children:[m.jsx(Mo,{className:({selected:D})=>`w-full rounded-lg py-2.5 text-sm font-medium leading-5
                ${D?"bg-white/10 text-white shadow":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:"Réservations"}),m.jsx(Mo,{className:({selected:D})=>`w-full rounded-lg py-2.5 text-sm font-medium leading-5
                ${D?"bg-white/10 text-white shadow":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:"Beats favoris"})]}),m.jsxs(Mo.Panels,{children:[m.jsx(Mo.Panel,{children:m.jsx("div",{className:"space-y-4",children:c.length===0?m.jsx("div",{className:"text-center py-12 text-gray-400",children:"Aucune réservation pour le moment"}):c.map(D=>m.jsx("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold",children:Hi(D.date,"EEEE d MMMM yyyy",{locale:al})}),m.jsxs("p",{className:"text-gray-400",children:[D.startTime,D.endTime?` - ${D.endTime}`:""]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"px-2 py-1 bg-white/5 rounded text-sm",children:D.type==="recording"?"Music":"Photographie"}),m.jsxs("span",{className:`text-sm ${D.status==="cancelled"?"text-red-500":D.status==="confirmed"?"text-green-500":"text-yellow-500"}`,children:[D.status==="cancelled"&&"• Annulée",D.status==="confirmed"&&"• Confirmée",D.status==="pending"&&"• En attente"]})]}),D.notes&&m.jsx("div",{className:"text-sm text-gray-400",children:D.notes.replace("Options sélectionnées: ","")})]})]}),m.jsx("div",{className:"flex flex-col gap-2",children:D.status!=="cancelled"&&m.jsx(Je,{variant:"danger",onClick:()=>N(D),className:"w-full",children:"Annuler"})})]})},D.id))})}),m.jsx(Mo.Panel,{children:m.jsx("div",{className:"space-y-4",children:p.length===0?m.jsx("div",{className:"text-center py-12 text-gray-400",children:"Aucun beat favori pour le moment"}):p.map(D=>m.jsx("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-xl border border-white/10 p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium mb-1",children:D.title}),m.jsxs("p",{className:"text-sm text-gray-400",children:["Produit par ",D.producer]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-medium",children:[D.price,"€"]}),m.jsxs("p",{className:"text-sm text-gray-400",children:[D.bpm," BPM"]})]})]})},D.id))})})]})]})]}),m.jsxs(Os,{open:oe,onClose:()=>J(!1),className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Os.Panel,{className:"bg-dark-100 rounded-xl p-6 max-w-sm mx-auto",children:[m.jsx(Os.Title,{className:"text-lg font-semibold mb-4",children:"Confirmer l'annulation"}),m.jsxs("p",{className:"text-gray-300 mb-6",children:["Êtes-vous sûr de vouloir annuler cette réservation ?",B&&m.jsxs("span",{className:"block mt-2 text-sm",children:[Hi(B.date,"EEEE d MMMM yyyy",{locale:al})," à"," ",B.startTime,B.endTime?` - ${B.endTime}`:""]})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx(Je,{variant:"secondary",onClick:()=>J(!1),children:"Annuler"}),m.jsx(Je,{variant:"danger",onClick:O,children:"Confirmer"})]})]})})]}),m.jsxs(Os,{open:P,onClose:()=>S(!1),className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Os.Panel,{className:"mx-auto max-w-lg rounded-2xl bg-dark-100/95 backdrop-blur-lg border border-white/10 p-6",children:[m.jsx(Os.Title,{className:"text-lg font-medium mb-4",children:"Modifier la réservation"}),k&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Date et heure"}),m.jsxs("p",{children:[Hi(k.date,"EEEE d MMMM yyyy",{locale:al})," à ",k.startTime]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-400 mb-1",children:"Notes"}),m.jsx("textarea",{id:"notes",value:A,onChange:D=>R(D.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ajoutez des notes pour votre session..."})]}),m.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[m.jsx(Je,{variant:"outline",onClick:()=>S(!1),children:"Annuler"}),m.jsx(Je,{onClick:async()=>{try{await Ko.updateBooking(k.id,{notes:A});const D=await Ko.getBookingsForUser(t.uid);h(D),S(!1),Ve.success("Réservation mise à jour avec succès")}catch(D){console.error("Error updating booking:",D),Ve.error("Erreur lors de la mise à jour de la réservation")}},children:"Enregistrer"})]})]})]})})]})]})}const eF=["Trap","Drill","RnB","Rap","Afro","Pop","Dancehall","Cloud","Boom Bap"];function tF(){var P;const{user:t}=io(),[e,n]=x.useState(!1),[r,i]=x.useState(null),[a,l]=x.useState(null),c=x.useRef(null),[h,p]=x.useState(0),[y,_]=x.useState({title:"",producer:"",style:"Trap",price:""}),b=()=>{c.current&&p(c.current.duration)},k=S=>{var R;const A=(R=S.target.files)==null?void 0:R[0];if(A){i(A);const B=URL.createObjectURL(A);c.current&&(c.current.src=B)}},I=async S=>{if(S.preventDefault(),!!t)try{n(!0);let A="";if(r){const B=`${y.title.toLowerCase().replace(/\s+/g,"-")}.mp3`,q=fn(Yt,`beats/${B}`);await Jp(q,r),A=q.fullPath}else throw new Error("Audio file is required");let R="";if(a){const B=`${y.title.toLowerCase().replace(/\s+/g,"-")}.jpg`,q=fn(Yt,`beats/covers/${B}`);await Jp(q,a),R=q.fullPath}await Gn.addBeat({title:y.title,producer:y.producer,price:Number(y.price),style:y.style,duration:h,audioPath:A,imagePath:R}),Ve.success("Beat ajouté avec succès"),_({title:"",producer:"",style:"Trap",price:""}),i(null),l(null),p(0)}catch(A){console.error("Error adding beat:",A),Ve.error("Erreur lors de l'ajout du beat")}finally{n(!1)}};return(P=t==null?void 0:t.email)!=null&&P.includes("@43art.fr")?m.jsx("div",{className:"min-h-screen pt-20 px-4",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"bg-dark-100/50 backdrop-blur-lg rounded-2xl border border-white/10 p-8",children:[m.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Administration des beats"}),m.jsxs("form",{onSubmit:I,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-400 mb-1",children:"Titre"}),m.jsx("input",{type:"text",id:"title",required:!0,value:y.title,onChange:S=>_({...y,title:S.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"producer",className:"block text-sm font-medium text-gray-400 mb-1",children:"Producteur"}),m.jsx("input",{type:"text",id:"producer",required:!0,value:y.producer,onChange:S=>_({...y,producer:S.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"style",className:"block text-sm font-medium text-gray-400 mb-1",children:"Style musical"}),m.jsx("select",{id:"style",required:!0,value:y.style,onChange:S=>_({...y,style:S.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:eF.map(S=>m.jsx("option",{value:S,children:S},S))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-400 mb-1",children:"Prix (€)"}),m.jsx("input",{type:"number",id:"price",required:!0,min:"0",value:y.price,onChange:S=>_({...y,price:S.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"audio",className:"block text-sm font-medium text-gray-400 mb-1",children:"Fichier audio"}),m.jsx("input",{type:"file",id:"audio",required:!0,accept:"audio/*",onChange:k,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),m.jsx("audio",{ref:c,onLoadedMetadata:b,className:"hidden"}),h>0&&m.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:["Durée : ",Math.floor(h/60),":",Math.floor(h%60).toString().padStart(2,"0")]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-400 mb-1",children:"Image de couverture"}),m.jsx("input",{type:"file",id:"image",accept:"image/*",onChange:S=>{var A;return l(((A=S.target.files)==null?void 0:A[0])||null)},className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),m.jsx(Je,{type:"submit",disabled:e,className:"w-full",children:e?"Chargement...":"Ajouter le beat"})]}),m.jsxs("div",{className:"mt-12 p-6 bg-dark-800 rounded-xl",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Migration des Beats"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Migrer les beats vers Firestore"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Transfère les métadonnées des beats de Storage vers Firestore. Cette opération ne supprime pas les fichiers de Storage."})]}),m.jsx(Je,{onClick:async()=>{try{n(!0),await Gn.migrateBeatsToFirestore(),Ve.success("Migration réussie !"),await Gn.testMigration()}catch(S){console.error("Migration error:",S),Ve.error("Erreur lors de la migration")}finally{n(!1)}},disabled:e,children:e?"Migration en cours...":"Lancer la migration"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Tester la migration"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Vérifie le nombre de beats dans Storage et Firestore. Affiche les détails dans la console."})]}),m.jsx(Je,{onClick:async()=>{try{n(!0),await Gn.testMigration(),Ve.success("Test terminé ! Vérifiez la console")}catch(S){console.error("Test error:",S),Ve.error("Erreur lors du test")}finally{n(!1)}},disabled:e,variant:"outline",children:"Tester la migration"})]})]})]})]})})}):m.jsx("div",{className:"min-h-screen pt-20 px-4",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-400",children:"Vous n'avez pas accès à cette page"})})})})}function nF(){const[t,e]=x.useState(""),[n,r]=x.useState(""),i=ia(),a=async l=>{l.preventDefault(),t==="43art2024"?(localStorage.setItem("adminToken","true"),i("/admin")):r("Mot de passe incorrect")};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-900 via-dark-300 to-dark-300",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-dark-800 rounded-xl shadow-lg",children:[m.jsx("div",{children:m.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Administration"})}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a,children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-dark-600 placeholder-gray-500 text-white bg-dark-700 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe administrateur",value:t,onChange:l=>e(l.target.value)})]}),n&&m.jsx("div",{className:"text-red-500 text-sm text-center",children:n}),m.jsx(Je,{type:"submit",className:"w-full",children:"Se connecter"})]})]})})}function rF(){const[t,e]=x.useState(!1);return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-900 via-dark-300 to-dark-300 py-12 px-4",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"bg-dark-800 rounded-xl p-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Administration - Migration"}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Migration des Beats"}),m.jsx("p",{className:"text-gray-400",children:"Transfère les métadonnées des beats de Storage vers Firestore. Cette opération ne supprime pas les fichiers de Storage."})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Je,{onClick:async()=>{try{e(!0),await Gn.migrateBeatsToFirestore(),Ve.success("Migration réussie !"),await Gn.testMigration()}catch(n){console.error("Migration error:",n),Ve.error("Erreur lors de la migration")}finally{e(!1)}},disabled:t,className:"flex-1",children:t?"Migration en cours...":"Lancer la migration"}),m.jsx(Je,{onClick:async()=>{try{e(!0),await Gn.testMigration(),Ve.success("Test terminé ! Vérifiez la console")}catch(n){console.error("Test error:",n),Ve.error("Erreur lors du test")}finally{e(!1)}},disabled:t,variant:"outline",className:"flex-1",children:"Tester la migration"})]})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Instructions"}),m.jsx("div",{className:"bg-dark-700 rounded-lg p-4 text-gray-300",children:m.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[m.jsx("li",{children:'Cliquez sur "Lancer la migration" pour démarrer le processus'}),m.jsx("li",{children:"Attendez que la migration soit terminée"}),m.jsx("li",{children:'Utilisez "Tester la migration" pour vérifier les résultats'}),m.jsx("li",{children:"Consultez la console du navigateur (F12) pour voir les détails"})]})})]})]})]})})})}function iF(){const[t,e]=x.useState(!1),n=ia(),{user:r,signOut:i}=io(),a=async()=>{try{await i(),n("/")}catch(l){console.error("Error logging out:",l)}};return m.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/90 backdrop-blur-lg border-b border-white/10",children:m.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsx(Ye,{to:"/",className:"text-2xl font-bold text-white",children:"43ART"}),m.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[m.jsx(Ye,{to:"/",className:"text-gray-300 hover:text-purple-500 transition-colors duration-300",children:"Home"}),m.jsx(Ye,{to:"/studio",className:"text-gray-300 hover:text-purple-500 transition-colors duration-300",children:"Studio"}),m.jsx(Ye,{to:"/beats",className:"text-gray-300 hover:text-purple-500 transition-colors duration-300",children:"Beats"}),m.jsx(Ye,{to:"/booking",className:"text-gray-300 hover:text-purple-500 transition-colors duration-300",children:"Booking"}),r&&m.jsxs(Ye,{to:"/profile",className:"flex items-center space-x-2 text-white bg-purple-600 hover:bg-black px-4 py-2 rounded-lg transition-colors duration-300",children:[m.jsx(rg,{className:"w-5 h-5"}),m.jsx("span",{children:"Mon profil"})]}),m.jsx("div",{className:"flex items-center space-x-4",children:r?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-gray-300",children:r.email}),m.jsx(Je,{onClick:a,variant:"outline",children:"Logout"})]}):m.jsx(Ye,{to:"/auth",children:m.jsx(Je,{children:"Login"})})})]}),m.jsx("button",{className:"md:hidden text-gray-300 hover:text-white",onClick:()=>e(!t),children:t?m.jsx(ib,{className:"h-6 w-6"}):m.jsx(G4,{className:"h-6 w-6"})})]}),t&&m.jsxs("div",{className:"md:hidden py-4",children:[m.jsx(Ye,{to:"/",className:"nav-link block px-3 py-2 rounded-lg",onClick:()=>e(!1),children:"Home"}),m.jsx(Ye,{to:"/studio",className:"nav-link block px-3 py-2 rounded-lg",onClick:()=>e(!1),children:"Studio"}),m.jsx(Ye,{to:"/beats",className:"nav-link block px-3 py-2 rounded-lg",onClick:()=>e(!1),children:"Beats"}),m.jsx(Ye,{to:"/booking",className:"nav-link block px-3 py-2 rounded-lg",onClick:()=>e(!1),children:"Booking"}),r&&m.jsxs(Ye,{to:"/profile",className:"nav-link block px-3 py-2 rounded-lg flex items-center space-x-2",onClick:()=>e(!1),children:[m.jsx(rg,{className:"w-5 h-5"}),m.jsx("span",{children:"Mon profil"})]}),m.jsx("div",{className:"pt-4 space-y-2 px-3",children:r?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"text-gray-300 mb-2",children:r.email}),m.jsx(Je,{onClick:()=>{a(),e(!1)},variant:"outline",className:"w-full",children:"Logout"})]}):m.jsx(Ye,{to:"/auth",onClick:()=>e(!1),children:m.jsx(Je,{className:"w-full",children:"Login"})})})]})]})})}var ST={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s_=X.createContext&&X.createContext(ST),sF=["attr","size","title"];function oF(t,e){if(t==null)return{};var n=aF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(r){lF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lF(t,e,n){return e=uF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uF(t){var e=cF(t,"string");return typeof e=="symbol"?e:e+""}function cF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CT(t){return t&&t.map((e,n)=>X.createElement(e.tag,Fh({key:n},e.attr),CT(e.child)))}function dF(t){return e=>X.createElement(hF,Vh({attr:Fh({},t.attr)},e),CT(t.child))}function hF(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=oF(t,sF),c=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),X.createElement("svg",Vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:Fh(Fh({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&X.createElement("title",null,a),t.children)};return s_!==void 0?X.createElement(s_.Consumer,null,n=>e(n)):e(ST)}function fF(t){return dF({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336.77 30.56A240 240 0 0 0 137.145 48 240 240 0 0 0 20.162 298.94l142.405-25.665c-6.87-38.47 10.598-78.89 46.42-99.323 25.063-14.296 53.977-15.877 79.228-6.808L336.77 30.56zm52.936 26.914l-80.56 120.245c11.773 7.904 21.943 18.56 29.43 31.683 25.942 45.482 10.03 103.645-35.452 129.588-43.752 24.957-99.236 11.178-126.487-30.395L55.644 388a240 240 0 0 0 319.322 76.943 240 240 0 0 0 89.56-327.382 240 240 0 0 0-74.82-80.086zM290.19 187.387c-22.148-10.942-49.142-11-72.286 2.2-30.09 17.163-44.195 51.33-37.098 83.402 1.637 7.4 4.404 14.687 8.364 21.63 21.123 37.033 68.003 49.86 105.035 28.737s49.858-68.003 28.736-105.035c-7.92-13.887-19.463-24.37-32.75-30.935zm-15.607 33.635a40 40 0 0 1 16.218 15.632 40 40 0 0 1-14.927 54.563 40 40 0 0 1-54.56-14.927 40 40 0 0 1-4.31-11.153 40 40 0 0 1 19.232-43.41 40 40 0 0 1 38.348-.705zm-109.206 63.764L27.33 327.966a240 240 0 0 0 13.3 34.151L170.765 298.3c-2.17-4.418-3.96-8.937-5.388-13.514z"},child:[]}]})(t)}function mF(){const t=di(),{user:e,signOut:n}=io(),r=i=>t.pathname===i;return m.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-100/80 backdrop-blur-lg border-b border-white/10",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-20 flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center",children:m.jsxs(Ye,{to:"/",className:"flex items-center space-x-2",children:[m.jsx(fF,{className:"text-2xl text-purple-500 animate-spin-slow"}),m.jsx("span",{className:"text-2xl font-bold",children:"43ART"})]})}),m.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[m.jsx(Ye,{to:"/",className:`hover:text-primary-500 transition-colors ${r("/")?"text-primary-500":"text-gray-300"}`,children:"Accueil"}),m.jsx(Ye,{to:"/beats",className:`hover:text-primary-500 transition-colors ${r("/beats")?"text-primary-500":"text-gray-300"}`,children:"Beats"}),m.jsx(Ye,{to:"/booking",className:`hover:text-primary-500 transition-colors ${r("/booking")?"text-primary-500":"text-gray-300"}`,children:"Réserver"})]}),m.jsx("div",{className:"flex items-center space-x-4",children:e?m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs(Ye,{to:"/profile",className:`flex items-center space-x-2 hover:text-primary-500 transition-colors ${r("/profile")?"text-primary-500":"text-gray-300"}`,children:[e.photoURL?m.jsx("img",{src:e.photoURL,alt:e.displayName||"Profile",className:"w-8 h-8 rounded-full object-cover"}):m.jsx(rg,{className:"w-8 h-8"}),m.jsx("span",{className:"hidden md:inline",children:"Mon Profil"})]}),m.jsx(Je,{variant:"outline",onClick:()=>n(),className:"hidden md:inline-flex",children:"Déconnexion"})]}):m.jsx(Ye,{to:"/login",children:m.jsx(Je,{children:"Connexion"})})})]})})}const pF=()=>m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),gF=()=>m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),yF=()=>m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})});function vF(){return m.jsx("footer",{className:"bg-dark-900 border-t border-white/5",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("h3",{className:"text-xl font-bold mb-4 gradient-text",children:"43 Studio"}),m.jsx("p",{className:"text-gray-400 mb-6",children:"Studio professionnel d'enregistrement musical et de production photo/vidéo. Équipement haut de gamme et expertise à votre service."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider mb-4",children:"Navigation"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx(Ye,{to:"/",className:"text-gray-400 hover:text-white transition",children:"Accueil"})}),m.jsx("li",{children:m.jsx(Ye,{to:"/studio",className:"text-gray-400 hover:text-white transition",children:"Studio"})}),m.jsx("li",{children:m.jsx(Ye,{to:"/booking",className:"text-gray-400 hover:text-white transition",children:"Réservation"})}),m.jsx("li",{children:m.jsx(Ye,{to:"/profile",className:"text-gray-400 hover:text-white transition",children:"Profil"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider mb-4",children:"Suivez-nous"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition",children:m.jsx(pF,{})}),m.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition",children:m.jsx(gF,{})}),m.jsx("a",{href:"https://tiktok.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition",children:m.jsx(yF,{})})]})]})]}),m.jsx("div",{className:"border-t border-white/5 mt-8 pt-8 text-center",children:m.jsxs("p",{className:"text-gray-400 text-sm",children:["© ",new Date().getFullYear()," 43 Studio. Tous droits réservés."]})})]})})}function a_({children:t}){return localStorage.getItem("adminToken")?m.jsx(m.Fragment,{children:t}):m.jsx(w_,{to:"/admin/login"})}function th({children:t}){const{user:e,loading:n}=io();return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):e?m.jsx(m.Fragment,{children:t}):m.jsx(w_,{to:"/auth"})}function wF(){const e=di().pathname.startsWith("/admin");return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-900 via-dark-300 to-dark-300",children:[!e&&m.jsxs(m.Fragment,{children:[m.jsx(mF,{}),m.jsx(iF,{})]}),m.jsxs(NI,{children:[m.jsx(Cr,{path:"/",element:m.jsx(LM,{})}),m.jsx(Cr,{path:"/auth",element:m.jsx(JV,{})}),m.jsx(Cr,{path:"/studio",element:m.jsx(th,{children:m.jsx(vL,{})})}),m.jsx(Cr,{path:"/beats",element:m.jsx(_L,{})}),m.jsx(Cr,{path:"/booking",element:m.jsx(th,{children:m.jsx(QV,{})})}),m.jsx(Cr,{path:"/booking/confirmation/:bookingId",element:m.jsx(th,{children:m.jsx(XV,{})})}),m.jsx(Cr,{path:"/profile",element:m.jsx(th,{children:m.jsx(ZV,{})})}),m.jsx(Cr,{path:"/admin/login",element:m.jsx(nF,{})}),m.jsx(Cr,{path:"/admin/migration",element:m.jsx(a_,{children:m.jsx(rF,{})})}),m.jsx(Cr,{path:"/admin",element:m.jsx(a_,{children:m.jsx(tF,{})})})]}),!e&&m.jsx(vF,{})]})}function _F(){return m.jsx(KO,{children:m.jsx(eS,{children:m.jsx(wF,{})})})}Fk.createRoot(document.getElementById("root")).render(m.jsx(x.StrictMode,{children:m.jsx(_F,{})}));
